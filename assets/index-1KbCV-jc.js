function ch(e,t){for(var n=0;n<t.length;n++){const r=t[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in e)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(e,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}))}(function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=n(s);fetch(s.href,a)}})();function dh(e){return e&&e.__esModule&&Object.prototype.hasOwnProperty.call(e,"default")?e.default:e}var uf={exports:{}},Ql={},cf={exports:{}},te={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ua=Symbol.for("react.element"),fh=Symbol.for("react.portal"),ph=Symbol.for("react.fragment"),mh=Symbol.for("react.strict_mode"),hh=Symbol.for("react.profiler"),gh=Symbol.for("react.provider"),xh=Symbol.for("react.context"),yh=Symbol.for("react.forward_ref"),vh=Symbol.for("react.suspense"),wh=Symbol.for("react.memo"),kh=Symbol.for("react.lazy"),yc=Symbol.iterator;function Nh(e){return e===null||typeof e!="object"?null:(e=yc&&e[yc]||e["@@iterator"],typeof e=="function"?e:null)}var df={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},ff=Object.assign,pf={};function rs(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}rs.prototype.isReactComponent={};rs.prototype.setState=function(e,t){if(typeof e!="object"&&typeof e!="function"&&e!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")};rs.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")};function mf(){}mf.prototype=rs.prototype;function xu(e,t,n){this.props=e,this.context=t,this.refs=pf,this.updater=n||df}var yu=xu.prototype=new mf;yu.constructor=xu;ff(yu,rs.prototype);yu.isPureReactComponent=!0;var vc=Array.isArray,hf=Object.prototype.hasOwnProperty,vu={current:null},gf={key:!0,ref:!0,__self:!0,__source:!0};function xf(e,t,n){var r,s={},a=null,l=null;if(t!=null)for(r in t.ref!==void 0&&(l=t.ref),t.key!==void 0&&(a=""+t.key),t)hf.call(t,r)&&!gf.hasOwnProperty(r)&&(s[r]=t[r]);var o=arguments.length-2;if(o===1)s.children=n;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];s.children=u}if(e&&e.defaultProps)for(r in o=e.defaultProps,o)s[r]===void 0&&(s[r]=o[r]);return{$$typeof:ua,type:e,key:a,ref:l,props:s,_owner:vu.current}}function jh(e,t){return{$$typeof:ua,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}function wu(e){return typeof e=="object"&&e!==null&&e.$$typeof===ua}function bh(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,function(n){return t[n]})}var wc=/\/+/g;function bi(e,t){return typeof e=="object"&&e!==null&&e.key!=null?bh(""+e.key):t.toString(36)}function Qa(e,t,n,r,s){var a=typeof e;(a==="undefined"||a==="boolean")&&(e=null);var l=!1;if(e===null)l=!0;else switch(a){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case ua:case fh:l=!0}}if(l)return l=e,s=s(l),e=r===""?"."+bi(l,0):r,vc(s)?(n="",e!=null&&(n=e.replace(wc,"$&/")+"/"),Qa(s,t,n,"",function(c){return c})):s!=null&&(wu(s)&&(s=jh(s,n+(!s.key||l&&l.key===s.key?"":(""+s.key).replace(wc,"$&/")+"/")+e)),t.push(s)),1;if(l=0,r=r===""?".":r+":",vc(e))for(var o=0;o<e.length;o++){a=e[o];var u=r+bi(a,o);l+=Qa(a,t,n,u,s)}else if(u=Nh(e),typeof u=="function")for(e=u.call(e),o=0;!(a=e.next()).done;)a=a.value,u=r+bi(a,o++),l+=Qa(a,t,n,u,s);else if(a==="object")throw t=String(e),Error("Objects are not valid as a React child (found: "+(t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function Sa(e,t,n){if(e==null)return e;var r=[],s=0;return Qa(e,r,"","",function(a){return t.call(n,a,s++)}),r}function Sh(e){if(e._status===-1){var t=e._result;t=t(),t.then(function(n){(e._status===0||e._status===-1)&&(e._status=1,e._result=n)},function(n){(e._status===0||e._status===-1)&&(e._status=2,e._result=n)}),e._status===-1&&(e._status=0,e._result=t)}if(e._status===1)return e._result.default;throw e._result}var tt={current:null},Ka={transition:null},_h={ReactCurrentDispatcher:tt,ReactCurrentBatchConfig:Ka,ReactCurrentOwner:vu};function yf(){throw Error("act(...) is not supported in production builds of React.")}te.Children={map:Sa,forEach:function(e,t,n){Sa(e,function(){t.apply(this,arguments)},n)},count:function(e){var t=0;return Sa(e,function(){t++}),t},toArray:function(e){return Sa(e,function(t){return t})||[]},only:function(e){if(!wu(e))throw Error("React.Children.only expected to receive a single React element child.");return e}};te.Component=rs;te.Fragment=ph;te.Profiler=hh;te.PureComponent=xu;te.StrictMode=mh;te.Suspense=vh;te.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=_h;te.act=yf;te.cloneElement=function(e,t,n){if(e==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var r=ff({},e.props),s=e.key,a=e.ref,l=e._owner;if(t!=null){if(t.ref!==void 0&&(a=t.ref,l=vu.current),t.key!==void 0&&(s=""+t.key),e.type&&e.type.defaultProps)var o=e.type.defaultProps;for(u in t)hf.call(t,u)&&!gf.hasOwnProperty(u)&&(r[u]=t[u]===void 0&&o!==void 0?o[u]:t[u])}var u=arguments.length-2;if(u===1)r.children=n;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];r.children=o}return{$$typeof:ua,type:e.type,key:s,ref:a,props:r,_owner:l}};te.createContext=function(e){return e={$$typeof:xh,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},e.Provider={$$typeof:gh,_context:e},e.Consumer=e};te.createElement=xf;te.createFactory=function(e){var t=xf.bind(null,e);return t.type=e,t};te.createRef=function(){return{current:null}};te.forwardRef=function(e){return{$$typeof:yh,render:e}};te.isValidElement=wu;te.lazy=function(e){return{$$typeof:kh,_payload:{_status:-1,_result:e},_init:Sh}};te.memo=function(e,t){return{$$typeof:wh,type:e,compare:t===void 0?null:t}};te.startTransition=function(e){var t=Ka.transition;Ka.transition={};try{e()}finally{Ka.transition=t}};te.unstable_act=yf;te.useCallback=function(e,t){return tt.current.useCallback(e,t)};te.useContext=function(e){return tt.current.useContext(e)};te.useDebugValue=function(){};te.useDeferredValue=function(e){return tt.current.useDeferredValue(e)};te.useEffect=function(e,t){return tt.current.useEffect(e,t)};te.useId=function(){return tt.current.useId()};te.useImperativeHandle=function(e,t,n){return tt.current.useImperativeHandle(e,t,n)};te.useInsertionEffect=function(e,t){return tt.current.useInsertionEffect(e,t)};te.useLayoutEffect=function(e,t){return tt.current.useLayoutEffect(e,t)};te.useMemo=function(e,t){return tt.current.useMemo(e,t)};te.useReducer=function(e,t,n){return tt.current.useReducer(e,t,n)};te.useRef=function(e){return tt.current.useRef(e)};te.useState=function(e){return tt.current.useState(e)};te.useSyncExternalStore=function(e,t,n){return tt.current.useSyncExternalStore(e,t,n)};te.useTransition=function(){return tt.current.useTransition()};te.version="18.3.1";cf.exports=te;var h=cf.exports;const vf=dh(h),Ch=ch({__proto__:null,default:vf},[h]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Th=h,Eh=Symbol.for("react.element"),Mh=Symbol.for("react.fragment"),Ph=Object.prototype.hasOwnProperty,Dh=Th.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Oh={key:!0,ref:!0,__self:!0,__source:!0};function wf(e,t,n){var r,s={},a=null,l=null;n!==void 0&&(a=""+n),t.key!==void 0&&(a=""+t.key),t.ref!==void 0&&(l=t.ref);for(r in t)Ph.call(t,r)&&!Oh.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps,t)s[r]===void 0&&(s[r]=t[r]);return{$$typeof:Eh,type:e,key:a,ref:l,props:s,_owner:Dh.current}}Ql.Fragment=Mh;Ql.jsx=wf;Ql.jsxs=wf;uf.exports=Ql;var i=uf.exports,io={},kf={exports:{}},mt={},Nf={exports:{}},jf={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(e){function t(T,Y){var F=T.length;T.push(Y);e:for(;0<F;){var se=F-1>>>1,B=T[se];if(0<s(B,Y))T[se]=Y,T[F]=B,F=se;else break e}}function n(T){return T.length===0?null:T[0]}function r(T){if(T.length===0)return null;var Y=T[0],F=T.pop();if(F!==Y){T[0]=F;e:for(var se=0,B=T.length,he=B>>>1;se<he;){var Ze=2*(se+1)-1,Oe=T[Ze],Le=Ze+1,Ge=T[Le];if(0>s(Oe,F))Le<B&&0>s(Ge,Oe)?(T[se]=Ge,T[Le]=F,se=Le):(T[se]=Oe,T[Ze]=F,se=Ze);else if(Le<B&&0>s(Ge,F))T[se]=Ge,T[Le]=F,se=Le;else break e}}return Y}function s(T,Y){var F=T.sortIndex-Y.sortIndex;return F!==0?F:T.id-Y.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;e.unstable_now=function(){return a.now()}}else{var l=Date,o=l.now();e.unstable_now=function(){return l.now()-o}}var u=[],c=[],f=1,p=null,m=3,k=!1,N=!1,j=!1,C=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,d=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(T){for(var Y=n(c);Y!==null;){if(Y.callback===null)r(c);else if(Y.startTime<=T)r(c),Y.sortIndex=Y.expirationTime,t(u,Y);else break;Y=n(c)}}function b(T){if(j=!1,x(T),!N)if(n(u)!==null)N=!0,M(P);else{var Y=n(c);Y!==null&&G(b,Y.startTime-T)}}function P(T,Y){N=!1,j&&(j=!1,g(S),S=-1),k=!0;var F=m;try{for(x(Y),p=n(u);p!==null&&(!(p.expirationTime>Y)||T&&!_());){var se=p.callback;if(typeof se=="function"){p.callback=null,m=p.priorityLevel;var B=se(p.expirationTime<=Y);Y=e.unstable_now(),typeof B=="function"?p.callback=B:p===n(u)&&r(u),x(Y)}else r(u);p=n(u)}if(p!==null)var he=!0;else{var Ze=n(c);Ze!==null&&G(b,Ze.startTime-Y),he=!1}return he}finally{p=null,m=F,k=!1}}var A=!1,W=null,S=-1,I=5,w=-1;function _(){return!(e.unstable_now()-w<I)}function K(){if(W!==null){var T=e.unstable_now();w=T;var Y=!0;try{Y=W(!0,T)}finally{Y?D():(A=!1,W=null)}}else A=!1}var D;if(typeof d=="function")D=function(){d(K)};else if(typeof MessageChannel<"u"){var z=new MessageChannel,Q=z.port2;z.port1.onmessage=K,D=function(){Q.postMessage(null)}}else D=function(){C(K,0)};function M(T){W=T,A||(A=!0,D())}function G(T,Y){S=C(function(){T(e.unstable_now())},Y)}e.unstable_IdlePriority=5,e.unstable_ImmediatePriority=1,e.unstable_LowPriority=4,e.unstable_NormalPriority=3,e.unstable_Profiling=null,e.unstable_UserBlockingPriority=2,e.unstable_cancelCallback=function(T){T.callback=null},e.unstable_continueExecution=function(){N||k||(N=!0,M(P))},e.unstable_forceFrameRate=function(T){0>T||125<T?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):I=0<T?Math.floor(1e3/T):5},e.unstable_getCurrentPriorityLevel=function(){return m},e.unstable_getFirstCallbackNode=function(){return n(u)},e.unstable_next=function(T){switch(m){case 1:case 2:case 3:var Y=3;break;default:Y=m}var F=m;m=Y;try{return T()}finally{m=F}},e.unstable_pauseExecution=function(){},e.unstable_requestPaint=function(){},e.unstable_runWithPriority=function(T,Y){switch(T){case 1:case 2:case 3:case 4:case 5:break;default:T=3}var F=m;m=T;try{return Y()}finally{m=F}},e.unstable_scheduleCallback=function(T,Y,F){var se=e.unstable_now();switch(typeof F=="object"&&F!==null?(F=F.delay,F=typeof F=="number"&&0<F?se+F:se):F=se,T){case 1:var B=-1;break;case 2:B=250;break;case 5:B=1073741823;break;case 4:B=1e4;break;default:B=5e3}return B=F+B,T={id:f++,callback:Y,priorityLevel:T,startTime:F,expirationTime:B,sortIndex:-1},F>se?(T.sortIndex=F,t(c,T),n(u)===null&&T===n(c)&&(j?(g(S),S=-1):j=!0,G(b,F-se))):(T.sortIndex=B,t(u,T),N||k||(N=!0,M(P))),T},e.unstable_shouldYield=_,e.unstable_wrapCallback=function(T){var Y=m;return function(){var F=m;m=Y;try{return T.apply(this,arguments)}finally{m=F}}}})(jf);Nf.exports=jf;var Lh=Nf.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Rh=h,pt=Lh;function O(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var bf=new Set,Us={};function vr(e,t){Yr(e,t),Yr(e+"Capture",t)}function Yr(e,t){for(Us[e]=t,e=0;e<t.length;e++)bf.add(t[e])}var sn=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),oo=Object.prototype.hasOwnProperty,Ih=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kc={},Nc={};function Ah(e){return oo.call(Nc,e)?!0:oo.call(kc,e)?!1:Ih.test(e)?Nc[e]=!0:(kc[e]=!0,!1)}function Wh(e,t,n,r){if(n!==null&&n.type===0)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(e=e.toLowerCase().slice(0,5),e!=="data-"&&e!=="aria-");default:return!1}}function $h(e,t,n,r){if(t===null||typeof t>"u"||Wh(e,t,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!t;case 4:return t===!1;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}function nt(e,t,n,r,s,a,l){this.acceptsBooleans=t===2||t===3||t===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=a,this.removeEmptyString=l}var Ue={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(e){Ue[e]=new nt(e,0,!1,e,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(e){var t=e[0];Ue[t]=new nt(t,1,!1,e[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(e){Ue[e]=new nt(e,2,!1,e.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(e){Ue[e]=new nt(e,2,!1,e,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(e){Ue[e]=new nt(e,3,!1,e.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(e){Ue[e]=new nt(e,3,!0,e,null,!1,!1)});["capture","download"].forEach(function(e){Ue[e]=new nt(e,4,!1,e,null,!1,!1)});["cols","rows","size","span"].forEach(function(e){Ue[e]=new nt(e,6,!1,e,null,!1,!1)});["rowSpan","start"].forEach(function(e){Ue[e]=new nt(e,5,!1,e.toLowerCase(),null,!1,!1)});var ku=/[\-:]([a-z])/g;function Nu(e){return e[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(e){var t=e.replace(ku,Nu);Ue[t]=new nt(t,1,!1,e,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(e){var t=e.replace(ku,Nu);Ue[t]=new nt(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(e){var t=e.replace(ku,Nu);Ue[t]=new nt(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(e){Ue[e]=new nt(e,1,!1,e.toLowerCase(),null,!1,!1)});Ue.xlinkHref=new nt("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(e){Ue[e]=new nt(e,1,!1,e.toLowerCase(),null,!0,!0)});function ju(e,t,n,r){var s=Ue.hasOwnProperty(t)?Ue[t]:null;(s!==null?s.type!==0:r||!(2<t.length)||t[0]!=="o"&&t[0]!=="O"||t[1]!=="n"&&t[1]!=="N")&&($h(t,n,s,r)&&(n=null),r||s===null?Ah(t)&&(n===null?e.removeAttribute(t):e.setAttribute(t,""+n)):s.mustUseProperty?e[s.propertyName]=n===null?s.type===3?!1:"":n:(t=s.attributeName,r=s.attributeNamespace,n===null?e.removeAttribute(t):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}var cn=Rh.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_a=Symbol.for("react.element"),Cr=Symbol.for("react.portal"),Tr=Symbol.for("react.fragment"),bu=Symbol.for("react.strict_mode"),uo=Symbol.for("react.profiler"),Sf=Symbol.for("react.provider"),_f=Symbol.for("react.context"),Su=Symbol.for("react.forward_ref"),co=Symbol.for("react.suspense"),fo=Symbol.for("react.suspense_list"),_u=Symbol.for("react.memo"),wn=Symbol.for("react.lazy"),Cf=Symbol.for("react.offscreen"),jc=Symbol.iterator;function ps(e){return e===null||typeof e!="object"?null:(e=jc&&e[jc]||e["@@iterator"],typeof e=="function"?e:null)}var ke=Object.assign,Si;function Ss(e){if(Si===void 0)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);Si=t&&t[1]||""}return`
`+Si+e}var _i=!1;function Ci(e,t){if(!e||_i)return"";_i=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),a=r.stack.split(`
`),l=s.length-1,o=a.length-1;1<=l&&0<=o&&s[l]!==a[o];)o--;for(;1<=l&&0<=o;l--,o--)if(s[l]!==a[o]){if(l!==1||o!==1)do if(l--,o--,0>o||s[l]!==a[o]){var u=`
`+s[l].replace(" at new "," at ");return e.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",e.displayName)),u}while(1<=l&&0<=o);break}}}finally{_i=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?Ss(e):""}function Fh(e){switch(e.tag){case 5:return Ss(e.type);case 16:return Ss("Lazy");case 13:return Ss("Suspense");case 19:return Ss("SuspenseList");case 0:case 2:case 15:return e=Ci(e.type,!1),e;case 11:return e=Ci(e.type.render,!1),e;case 1:return e=Ci(e.type,!0),e;default:return""}}function po(e){if(e==null)return null;if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e;switch(e){case Tr:return"Fragment";case Cr:return"Portal";case uo:return"Profiler";case bu:return"StrictMode";case co:return"Suspense";case fo:return"SuspenseList"}if(typeof e=="object")switch(e.$$typeof){case _f:return(e.displayName||"Context")+".Consumer";case Sf:return(e._context.displayName||"Context")+".Provider";case Su:var t=e.render;return e=e.displayName,e||(e=t.displayName||t.name||"",e=e!==""?"ForwardRef("+e+")":"ForwardRef"),e;case _u:return t=e.displayName||null,t!==null?t:po(e.type)||"Memo";case wn:t=e._payload,e=e._init;try{return po(e(t))}catch{}}return null}function zh(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=t.render,e=e.displayName||e.name||"",t.displayName||(e!==""?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return po(t);case 8:return t===bu?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t}return null}function $n(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":return e;case"object":return e;default:return""}}function Tf(e){var t=e.type;return(e=e.nodeName)&&e.toLowerCase()==="input"&&(t==="checkbox"||t==="radio")}function Uh(e){var t=Tf(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,a=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return s.call(this)},set:function(l){r=""+l,a.call(this,l)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(l){r=""+l},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}function Ca(e){e._valueTracker||(e._valueTracker=Uh(e))}function Ef(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=Tf(e)?e.checked?"true":"false":e.value),e=r,e!==n?(t.setValue(e),!0):!1}function ol(e){if(e=e||(typeof document<"u"?document:void 0),typeof e>"u")return null;try{return e.activeElement||e.body}catch{return e.body}}function mo(e,t){var n=t.checked;return ke({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??e._wrapperState.initialChecked})}function bc(e,t){var n=t.defaultValue==null?"":t.defaultValue,r=t.checked!=null?t.checked:t.defaultChecked;n=$n(t.value!=null?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:t.type==="checkbox"||t.type==="radio"?t.checked!=null:t.value!=null}}function Mf(e,t){t=t.checked,t!=null&&ju(e,"checked",t,!1)}function ho(e,t){Mf(e,t);var n=$n(t.value),r=t.type;if(n!=null)r==="number"?(n===0&&e.value===""||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if(r==="submit"||r==="reset"){e.removeAttribute("value");return}t.hasOwnProperty("value")?go(e,t.type,n):t.hasOwnProperty("defaultValue")&&go(e,t.type,$n(t.defaultValue)),t.checked==null&&t.defaultChecked!=null&&(e.defaultChecked=!!t.defaultChecked)}function Sc(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!(r!=="submit"&&r!=="reset"||t.value!==void 0&&t.value!==null))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}n=e.name,n!==""&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,n!==""&&(e.name=n)}function go(e,t,n){(t!=="number"||ol(e.ownerDocument)!==e)&&(n==null?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var _s=Array.isArray;function Fr(e,t,n,r){if(e=e.options,t){t={};for(var s=0;s<n.length;s++)t["$"+n[s]]=!0;for(n=0;n<e.length;n++)s=t.hasOwnProperty("$"+e[n].value),e[n].selected!==s&&(e[n].selected=s),s&&r&&(e[n].defaultSelected=!0)}else{for(n=""+$n(n),t=null,s=0;s<e.length;s++){if(e[s].value===n){e[s].selected=!0,r&&(e[s].defaultSelected=!0);return}t!==null||e[s].disabled||(t=e[s])}t!==null&&(t.selected=!0)}}function xo(e,t){if(t.dangerouslySetInnerHTML!=null)throw Error(O(91));return ke({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function _c(e,t){var n=t.value;if(n==null){if(n=t.children,t=t.defaultValue,n!=null){if(t!=null)throw Error(O(92));if(_s(n)){if(1<n.length)throw Error(O(93));n=n[0]}t=n}t==null&&(t=""),n=t}e._wrapperState={initialValue:$n(n)}}function Pf(e,t){var n=$n(t.value),r=$n(t.defaultValue);n!=null&&(n=""+n,n!==e.value&&(e.value=n),t.defaultValue==null&&e.defaultValue!==n&&(e.defaultValue=n)),r!=null&&(e.defaultValue=""+r)}function Cc(e){var t=e.textContent;t===e._wrapperState.initialValue&&t!==""&&t!==null&&(e.value=t)}function Df(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function yo(e,t){return e==null||e==="http://www.w3.org/1999/xhtml"?Df(t):e==="http://www.w3.org/2000/svg"&&t==="foreignObject"?"http://www.w3.org/1999/xhtml":e}var Ta,Of=function(e){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(t,n,r,s){MSApp.execUnsafeLocalFunction(function(){return e(t,n,r,s)})}:e}(function(e,t){if(e.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in e)e.innerHTML=t;else{for(Ta=Ta||document.createElement("div"),Ta.innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=Ta.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}});function Bs(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&n.nodeType===3){n.nodeValue=t;return}}e.textContent=t}var Ds={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Bh=["Webkit","ms","Moz","O"];Object.keys(Ds).forEach(function(e){Bh.forEach(function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),Ds[t]=Ds[e]})});function Lf(e,t,n){return t==null||typeof t=="boolean"||t===""?"":n||typeof t!="number"||t===0||Ds.hasOwnProperty(e)&&Ds[e]?(""+t).trim():t+"px"}function Rf(e,t){e=e.style;for(var n in t)if(t.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Lf(n,t[n],r);n==="float"&&(n="cssFloat"),r?e.setProperty(n,s):e[n]=s}}var Vh=ke({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function vo(e,t){if(t){if(Vh[e]&&(t.children!=null||t.dangerouslySetInnerHTML!=null))throw Error(O(137,e));if(t.dangerouslySetInnerHTML!=null){if(t.children!=null)throw Error(O(60));if(typeof t.dangerouslySetInnerHTML!="object"||!("__html"in t.dangerouslySetInnerHTML))throw Error(O(61))}if(t.style!=null&&typeof t.style!="object")throw Error(O(62))}}function wo(e,t){if(e.indexOf("-")===-1)return typeof t.is=="string";switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ko=null;function Cu(e){return e=e.target||e.srcElement||window,e.correspondingUseElement&&(e=e.correspondingUseElement),e.nodeType===3?e.parentNode:e}var No=null,zr=null,Ur=null;function Tc(e){if(e=fa(e)){if(typeof No!="function")throw Error(O(280));var t=e.stateNode;t&&(t=ei(t),No(e.stateNode,e.type,t))}}function If(e){zr?Ur?Ur.push(e):Ur=[e]:zr=e}function Af(){if(zr){var e=zr,t=Ur;if(Ur=zr=null,Tc(e),t)for(e=0;e<t.length;e++)Tc(t[e])}}function Wf(e,t){return e(t)}function $f(){}var Ti=!1;function Ff(e,t,n){if(Ti)return e(t,n);Ti=!0;try{return Wf(e,t,n)}finally{Ti=!1,(zr!==null||Ur!==null)&&($f(),Af())}}function Vs(e,t){var n=e.stateNode;if(n===null)return null;var r=ei(n);if(r===null)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(e=e.type,r=!(e==="button"||e==="input"||e==="select"||e==="textarea")),e=!r;break e;default:e=!1}if(e)return null;if(n&&typeof n!="function")throw Error(O(231,t,typeof n));return n}var jo=!1;if(sn)try{var ms={};Object.defineProperty(ms,"passive",{get:function(){jo=!0}}),window.addEventListener("test",ms,ms),window.removeEventListener("test",ms,ms)}catch{jo=!1}function Hh(e,t,n,r,s,a,l,o,u){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(f){this.onError(f)}}var Os=!1,ul=null,cl=!1,bo=null,Yh={onError:function(e){Os=!0,ul=e}};function Zh(e,t,n,r,s,a,l,o,u){Os=!1,ul=null,Hh.apply(Yh,arguments)}function Gh(e,t,n,r,s,a,l,o,u){if(Zh.apply(this,arguments),Os){if(Os){var c=ul;Os=!1,ul=null}else throw Error(O(198));cl||(cl=!0,bo=c)}}function wr(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do t=e,t.flags&4098&&(n=t.return),e=t.return;while(e)}return t.tag===3?n:null}function zf(e){if(e.tag===13){var t=e.memoizedState;if(t===null&&(e=e.alternate,e!==null&&(t=e.memoizedState)),t!==null)return t.dehydrated}return null}function Ec(e){if(wr(e)!==e)throw Error(O(188))}function Qh(e){var t=e.alternate;if(!t){if(t=wr(e),t===null)throw Error(O(188));return t!==e?null:e}for(var n=e,r=t;;){var s=n.return;if(s===null)break;var a=s.alternate;if(a===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===a.child){for(a=s.child;a;){if(a===n)return Ec(s),e;if(a===r)return Ec(s),t;a=a.sibling}throw Error(O(188))}if(n.return!==r.return)n=s,r=a;else{for(var l=!1,o=s.child;o;){if(o===n){l=!0,n=s,r=a;break}if(o===r){l=!0,r=s,n=a;break}o=o.sibling}if(!l){for(o=a.child;o;){if(o===n){l=!0,n=a,r=s;break}if(o===r){l=!0,r=a,n=s;break}o=o.sibling}if(!l)throw Error(O(189))}}if(n.alternate!==r)throw Error(O(190))}if(n.tag!==3)throw Error(O(188));return n.stateNode.current===n?e:t}function Uf(e){return e=Qh(e),e!==null?Bf(e):null}function Bf(e){if(e.tag===5||e.tag===6)return e;for(e=e.child;e!==null;){var t=Bf(e);if(t!==null)return t;e=e.sibling}return null}var Vf=pt.unstable_scheduleCallback,Mc=pt.unstable_cancelCallback,Kh=pt.unstable_shouldYield,Xh=pt.unstable_requestPaint,Se=pt.unstable_now,qh=pt.unstable_getCurrentPriorityLevel,Tu=pt.unstable_ImmediatePriority,Hf=pt.unstable_UserBlockingPriority,dl=pt.unstable_NormalPriority,Jh=pt.unstable_LowPriority,Yf=pt.unstable_IdlePriority,Kl=null,Ut=null;function e0(e){if(Ut&&typeof Ut.onCommitFiberRoot=="function")try{Ut.onCommitFiberRoot(Kl,e,void 0,(e.current.flags&128)===128)}catch{}}var Dt=Math.clz32?Math.clz32:r0,t0=Math.log,n0=Math.LN2;function r0(e){return e>>>=0,e===0?32:31-(t0(e)/n0|0)|0}var Ea=64,Ma=4194304;function Cs(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return e&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function fl(e,t){var n=e.pendingLanes;if(n===0)return 0;var r=0,s=e.suspendedLanes,a=e.pingedLanes,l=n&268435455;if(l!==0){var o=l&~s;o!==0?r=Cs(o):(a&=l,a!==0&&(r=Cs(a)))}else l=n&~s,l!==0?r=Cs(l):a!==0&&(r=Cs(a));if(r===0)return 0;if(t!==0&&t!==r&&!(t&s)&&(s=r&-r,a=t&-t,s>=a||s===16&&(a&4194240)!==0))return t;if(r&4&&(r|=n&16),t=e.entangledLanes,t!==0)for(e=e.entanglements,t&=r;0<t;)n=31-Dt(t),s=1<<n,r|=e[n],t&=~s;return r}function s0(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function a0(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,s=e.expirationTimes,a=e.pendingLanes;0<a;){var l=31-Dt(a),o=1<<l,u=s[l];u===-1?(!(o&n)||o&r)&&(s[l]=s0(o,t)):u<=t&&(e.expiredLanes|=o),a&=~o}}function So(e){return e=e.pendingLanes&-1073741825,e!==0?e:e&1073741824?1073741824:0}function Zf(){var e=Ea;return Ea<<=1,!(Ea&4194240)&&(Ea=64),e}function Ei(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function ca(e,t,n){e.pendingLanes|=t,t!==536870912&&(e.suspendedLanes=0,e.pingedLanes=0),e=e.eventTimes,t=31-Dt(t),e[t]=n}function l0(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var s=31-Dt(n),a=1<<s;t[s]=0,r[s]=-1,e[s]=-1,n&=~a}}function Eu(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-Dt(n),s=1<<r;s&t|e[r]&t&&(e[r]|=t),n&=~s}}var de=0;function Gf(e){return e&=-e,1<e?4<e?e&268435455?16:536870912:4:1}var Qf,Mu,Kf,Xf,qf,_o=!1,Pa=[],En=null,Mn=null,Pn=null,Hs=new Map,Ys=new Map,jn=[],i0="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Pc(e,t){switch(e){case"focusin":case"focusout":En=null;break;case"dragenter":case"dragleave":Mn=null;break;case"mouseover":case"mouseout":Pn=null;break;case"pointerover":case"pointerout":Hs.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Ys.delete(t.pointerId)}}function hs(e,t,n,r,s,a){return e===null||e.nativeEvent!==a?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:a,targetContainers:[s]},t!==null&&(t=fa(t),t!==null&&Mu(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,s!==null&&t.indexOf(s)===-1&&t.push(s),e)}function o0(e,t,n,r,s){switch(t){case"focusin":return En=hs(En,e,t,n,r,s),!0;case"dragenter":return Mn=hs(Mn,e,t,n,r,s),!0;case"mouseover":return Pn=hs(Pn,e,t,n,r,s),!0;case"pointerover":var a=s.pointerId;return Hs.set(a,hs(Hs.get(a)||null,e,t,n,r,s)),!0;case"gotpointercapture":return a=s.pointerId,Ys.set(a,hs(Ys.get(a)||null,e,t,n,r,s)),!0}return!1}function Jf(e){var t=sr(e.target);if(t!==null){var n=wr(t);if(n!==null){if(t=n.tag,t===13){if(t=zf(n),t!==null){e.blockedOn=t,qf(e.priority,function(){Kf(n)});return}}else if(t===3&&n.stateNode.current.memoizedState.isDehydrated){e.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}e.blockedOn=null}function Xa(e){if(e.blockedOn!==null)return!1;for(var t=e.targetContainers;0<t.length;){var n=Co(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(n===null){n=e.nativeEvent;var r=new n.constructor(n.type,n);ko=r,n.target.dispatchEvent(r),ko=null}else return t=fa(n),t!==null&&Mu(t),e.blockedOn=n,!1;t.shift()}return!0}function Dc(e,t,n){Xa(e)&&n.delete(t)}function u0(){_o=!1,En!==null&&Xa(En)&&(En=null),Mn!==null&&Xa(Mn)&&(Mn=null),Pn!==null&&Xa(Pn)&&(Pn=null),Hs.forEach(Dc),Ys.forEach(Dc)}function gs(e,t){e.blockedOn===t&&(e.blockedOn=null,_o||(_o=!0,pt.unstable_scheduleCallback(pt.unstable_NormalPriority,u0)))}function Zs(e){function t(s){return gs(s,e)}if(0<Pa.length){gs(Pa[0],e);for(var n=1;n<Pa.length;n++){var r=Pa[n];r.blockedOn===e&&(r.blockedOn=null)}}for(En!==null&&gs(En,e),Mn!==null&&gs(Mn,e),Pn!==null&&gs(Pn,e),Hs.forEach(t),Ys.forEach(t),n=0;n<jn.length;n++)r=jn[n],r.blockedOn===e&&(r.blockedOn=null);for(;0<jn.length&&(n=jn[0],n.blockedOn===null);)Jf(n),n.blockedOn===null&&jn.shift()}var Br=cn.ReactCurrentBatchConfig,pl=!0;function c0(e,t,n,r){var s=de,a=Br.transition;Br.transition=null;try{de=1,Pu(e,t,n,r)}finally{de=s,Br.transition=a}}function d0(e,t,n,r){var s=de,a=Br.transition;Br.transition=null;try{de=4,Pu(e,t,n,r)}finally{de=s,Br.transition=a}}function Pu(e,t,n,r){if(pl){var s=Co(e,t,n,r);if(s===null)$i(e,t,r,ml,n),Pc(e,r);else if(o0(s,e,t,n,r))r.stopPropagation();else if(Pc(e,r),t&4&&-1<i0.indexOf(e)){for(;s!==null;){var a=fa(s);if(a!==null&&Qf(a),a=Co(e,t,n,r),a===null&&$i(e,t,r,ml,n),a===s)break;s=a}s!==null&&r.stopPropagation()}else $i(e,t,r,null,n)}}var ml=null;function Co(e,t,n,r){if(ml=null,e=Cu(r),e=sr(e),e!==null)if(t=wr(e),t===null)e=null;else if(n=t.tag,n===13){if(e=zf(t),e!==null)return e;e=null}else if(n===3){if(t.stateNode.current.memoizedState.isDehydrated)return t.tag===3?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return ml=e,null}function ep(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qh()){case Tu:return 1;case Hf:return 4;case dl:case Jh:return 16;case Yf:return 536870912;default:return 16}default:return 16}}var _n=null,Du=null,qa=null;function tp(){if(qa)return qa;var e,t=Du,n=t.length,r,s="value"in _n?_n.value:_n.textContent,a=s.length;for(e=0;e<n&&t[e]===s[e];e++);var l=n-e;for(r=1;r<=l&&t[n-r]===s[a-r];r++);return qa=s.slice(e,1<r?1-r:void 0)}function Ja(e){var t=e.keyCode;return"charCode"in e?(e=e.charCode,e===0&&t===13&&(e=13)):e=t,e===10&&(e=13),32<=e||e===13?e:0}function Da(){return!0}function Oc(){return!1}function ht(e){function t(n,r,s,a,l){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=a,this.target=l,this.currentTarget=null;for(var o in e)e.hasOwnProperty(o)&&(n=e[o],this[o]=n?n(a):a[o]);return this.isDefaultPrevented=(a.defaultPrevented!=null?a.defaultPrevented:a.returnValue===!1)?Da:Oc,this.isPropagationStopped=Oc,this}return ke(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Da)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Da)},persist:function(){},isPersistent:Da}),t}var ss={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Ou=ht(ss),da=ke({},ss,{view:0,detail:0}),f0=ht(da),Mi,Pi,xs,Xl=ke({},da,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Lu,button:0,buttons:0,relatedTarget:function(e){return e.relatedTarget===void 0?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==xs&&(xs&&e.type==="mousemove"?(Mi=e.screenX-xs.screenX,Pi=e.screenY-xs.screenY):Pi=Mi=0,xs=e),Mi)},movementY:function(e){return"movementY"in e?e.movementY:Pi}}),Lc=ht(Xl),p0=ke({},Xl,{dataTransfer:0}),m0=ht(p0),h0=ke({},da,{relatedTarget:0}),Di=ht(h0),g0=ke({},ss,{animationName:0,elapsedTime:0,pseudoElement:0}),x0=ht(g0),y0=ke({},ss,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),v0=ht(y0),w0=ke({},ss,{data:0}),Rc=ht(w0),k0={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},N0={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},j0={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function b0(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):(e=j0[e])?!!t[e]:!1}function Lu(){return b0}var S0=ke({},da,{key:function(e){if(e.key){var t=k0[e.key]||e.key;if(t!=="Unidentified")return t}return e.type==="keypress"?(e=Ja(e),e===13?"Enter":String.fromCharCode(e)):e.type==="keydown"||e.type==="keyup"?N0[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Lu,charCode:function(e){return e.type==="keypress"?Ja(e):0},keyCode:function(e){return e.type==="keydown"||e.type==="keyup"?e.keyCode:0},which:function(e){return e.type==="keypress"?Ja(e):e.type==="keydown"||e.type==="keyup"?e.keyCode:0}}),_0=ht(S0),C0=ke({},Xl,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),Ic=ht(C0),T0=ke({},da,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Lu}),E0=ht(T0),M0=ke({},ss,{propertyName:0,elapsedTime:0,pseudoElement:0}),P0=ht(M0),D0=ke({},Xl,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),O0=ht(D0),L0=[9,13,27,32],Ru=sn&&"CompositionEvent"in window,Ls=null;sn&&"documentMode"in document&&(Ls=document.documentMode);var R0=sn&&"TextEvent"in window&&!Ls,np=sn&&(!Ru||Ls&&8<Ls&&11>=Ls),Ac=" ",Wc=!1;function rp(e,t){switch(e){case"keyup":return L0.indexOf(t.keyCode)!==-1;case"keydown":return t.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function sp(e){return e=e.detail,typeof e=="object"&&"data"in e?e.data:null}var Er=!1;function I0(e,t){switch(e){case"compositionend":return sp(t);case"keypress":return t.which!==32?null:(Wc=!0,Ac);case"textInput":return e=t.data,e===Ac&&Wc?null:e;default:return null}}function A0(e,t){if(Er)return e==="compositionend"||!Ru&&rp(e,t)?(e=tp(),qa=Du=_n=null,Er=!1,e):null;switch(e){case"paste":return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return np&&t.locale!=="ko"?null:t.data;default:return null}}var W0={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function $c(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t==="input"?!!W0[e.type]:t==="textarea"}function ap(e,t,n,r){If(r),t=hl(t,"onChange"),0<t.length&&(n=new Ou("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Rs=null,Gs=null;function $0(e){gp(e,0)}function ql(e){var t=Dr(e);if(Ef(t))return e}function F0(e,t){if(e==="change")return t}var lp=!1;if(sn){var Oi;if(sn){var Li="oninput"in document;if(!Li){var Fc=document.createElement("div");Fc.setAttribute("oninput","return;"),Li=typeof Fc.oninput=="function"}Oi=Li}else Oi=!1;lp=Oi&&(!document.documentMode||9<document.documentMode)}function zc(){Rs&&(Rs.detachEvent("onpropertychange",ip),Gs=Rs=null)}function ip(e){if(e.propertyName==="value"&&ql(Gs)){var t=[];ap(t,Gs,e,Cu(e)),Ff($0,t)}}function z0(e,t,n){e==="focusin"?(zc(),Rs=t,Gs=n,Rs.attachEvent("onpropertychange",ip)):e==="focusout"&&zc()}function U0(e){if(e==="selectionchange"||e==="keyup"||e==="keydown")return ql(Gs)}function B0(e,t){if(e==="click")return ql(t)}function V0(e,t){if(e==="input"||e==="change")return ql(t)}function H0(e,t){return e===t&&(e!==0||1/e===1/t)||e!==e&&t!==t}var Lt=typeof Object.is=="function"?Object.is:H0;function Qs(e,t){if(Lt(e,t))return!0;if(typeof e!="object"||e===null||typeof t!="object"||t===null)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!oo.call(t,s)||!Lt(e[s],t[s]))return!1}return!0}function Uc(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function Bc(e,t){var n=Uc(e);e=0;for(var r;n;){if(n.nodeType===3){if(r=e+n.textContent.length,e<=t&&r>=t)return{node:n,offset:t-e};e=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Uc(n)}}function op(e,t){return e&&t?e===t?!0:e&&e.nodeType===3?!1:t&&t.nodeType===3?op(e,t.parentNode):"contains"in e?e.contains(t):e.compareDocumentPosition?!!(e.compareDocumentPosition(t)&16):!1:!1}function up(){for(var e=window,t=ol();t instanceof e.HTMLIFrameElement;){try{var n=typeof t.contentWindow.location.href=="string"}catch{n=!1}if(n)e=t.contentWindow;else break;t=ol(e.document)}return t}function Iu(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&(e.type==="text"||e.type==="search"||e.type==="tel"||e.type==="url"||e.type==="password")||t==="textarea"||e.contentEditable==="true")}function Y0(e){var t=up(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&op(n.ownerDocument.documentElement,n)){if(r!==null&&Iu(n)){if(t=r.start,e=r.end,e===void 0&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if(e=(t=n.ownerDocument||document)&&t.defaultView||window,e.getSelection){e=e.getSelection();var s=n.textContent.length,a=Math.min(r.start,s);r=r.end===void 0?a:Math.min(r.end,s),!e.extend&&a>r&&(s=r,r=a,a=s),s=Bc(n,a);var l=Bc(n,r);s&&l&&(e.rangeCount!==1||e.anchorNode!==s.node||e.anchorOffset!==s.offset||e.focusNode!==l.node||e.focusOffset!==l.offset)&&(t=t.createRange(),t.setStart(s.node,s.offset),e.removeAllRanges(),a>r?(e.addRange(t),e.extend(l.node,l.offset)):(t.setEnd(l.node,l.offset),e.addRange(t)))}}for(t=[],e=n;e=e.parentNode;)e.nodeType===1&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<t.length;n++)e=t[n],e.element.scrollLeft=e.left,e.element.scrollTop=e.top}}var Z0=sn&&"documentMode"in document&&11>=document.documentMode,Mr=null,To=null,Is=null,Eo=!1;function Vc(e,t,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Eo||Mr==null||Mr!==ol(r)||(r=Mr,"selectionStart"in r&&Iu(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Is&&Qs(Is,r)||(Is=r,r=hl(To,"onSelect"),0<r.length&&(t=new Ou("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=Mr)))}function Oa(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Pr={animationend:Oa("Animation","AnimationEnd"),animationiteration:Oa("Animation","AnimationIteration"),animationstart:Oa("Animation","AnimationStart"),transitionend:Oa("Transition","TransitionEnd")},Ri={},cp={};sn&&(cp=document.createElement("div").style,"AnimationEvent"in window||(delete Pr.animationend.animation,delete Pr.animationiteration.animation,delete Pr.animationstart.animation),"TransitionEvent"in window||delete Pr.transitionend.transition);function Jl(e){if(Ri[e])return Ri[e];if(!Pr[e])return e;var t=Pr[e],n;for(n in t)if(t.hasOwnProperty(n)&&n in cp)return Ri[e]=t[n];return e}var dp=Jl("animationend"),fp=Jl("animationiteration"),pp=Jl("animationstart"),mp=Jl("transitionend"),hp=new Map,Hc="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bn(e,t){hp.set(e,t),vr(t,[e])}for(var Ii=0;Ii<Hc.length;Ii++){var Ai=Hc[Ii],G0=Ai.toLowerCase(),Q0=Ai[0].toUpperCase()+Ai.slice(1);Bn(G0,"on"+Q0)}Bn(dp,"onAnimationEnd");Bn(fp,"onAnimationIteration");Bn(pp,"onAnimationStart");Bn("dblclick","onDoubleClick");Bn("focusin","onFocus");Bn("focusout","onBlur");Bn(mp,"onTransitionEnd");Yr("onMouseEnter",["mouseout","mouseover"]);Yr("onMouseLeave",["mouseout","mouseover"]);Yr("onPointerEnter",["pointerout","pointerover"]);Yr("onPointerLeave",["pointerout","pointerover"]);vr("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vr("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vr("onBeforeInput",["compositionend","keypress","textInput","paste"]);vr("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vr("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Ts="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),K0=new Set("cancel close invalid load scroll toggle".split(" ").concat(Ts));function Yc(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,Gh(r,t,void 0,e),e.currentTarget=null}function gp(e,t){t=(t&4)!==0;for(var n=0;n<e.length;n++){var r=e[n],s=r.event;r=r.listeners;e:{var a=void 0;if(t)for(var l=r.length-1;0<=l;l--){var o=r[l],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==a&&s.isPropagationStopped())break e;Yc(s,o,c),a=u}else for(l=0;l<r.length;l++){if(o=r[l],u=o.instance,c=o.currentTarget,o=o.listener,u!==a&&s.isPropagationStopped())break e;Yc(s,o,c),a=u}}}if(cl)throw e=bo,cl=!1,bo=null,e}function ge(e,t){var n=t[Lo];n===void 0&&(n=t[Lo]=new Set);var r=e+"__bubble";n.has(r)||(xp(t,e,2,!1),n.add(r))}function Wi(e,t,n){var r=0;t&&(r|=4),xp(n,e,r,t)}var La="_reactListening"+Math.random().toString(36).slice(2);function Ks(e){if(!e[La]){e[La]=!0,bf.forEach(function(n){n!=="selectionchange"&&(K0.has(n)||Wi(n,!1,e),Wi(n,!0,e))});var t=e.nodeType===9?e:e.ownerDocument;t===null||t[La]||(t[La]=!0,Wi("selectionchange",!1,t))}}function xp(e,t,n,r){switch(ep(t)){case 1:var s=c0;break;case 4:s=d0;break;default:s=Pu}n=s.bind(null,t,n,e),s=void 0,!jo||t!=="touchstart"&&t!=="touchmove"&&t!=="wheel"||(s=!0),r?s!==void 0?e.addEventListener(t,n,{capture:!0,passive:s}):e.addEventListener(t,n,!0):s!==void 0?e.addEventListener(t,n,{passive:s}):e.addEventListener(t,n,!1)}function $i(e,t,n,r,s){var a=r;if(!(t&1)&&!(t&2)&&r!==null)e:for(;;){if(r===null)return;var l=r.tag;if(l===3||l===4){var o=r.stateNode.containerInfo;if(o===s||o.nodeType===8&&o.parentNode===s)break;if(l===4)for(l=r.return;l!==null;){var u=l.tag;if((u===3||u===4)&&(u=l.stateNode.containerInfo,u===s||u.nodeType===8&&u.parentNode===s))return;l=l.return}for(;o!==null;){if(l=sr(o),l===null)return;if(u=l.tag,u===5||u===6){r=a=l;continue e}o=o.parentNode}}r=r.return}Ff(function(){var c=a,f=Cu(n),p=[];e:{var m=hp.get(e);if(m!==void 0){var k=Ou,N=e;switch(e){case"keypress":if(Ja(n)===0)break e;case"keydown":case"keyup":k=_0;break;case"focusin":N="focus",k=Di;break;case"focusout":N="blur",k=Di;break;case"beforeblur":case"afterblur":k=Di;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":k=Lc;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":k=m0;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":k=E0;break;case dp:case fp:case pp:k=x0;break;case mp:k=P0;break;case"scroll":k=f0;break;case"wheel":k=O0;break;case"copy":case"cut":case"paste":k=v0;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":k=Ic}var j=(t&4)!==0,C=!j&&e==="scroll",g=j?m!==null?m+"Capture":null:m;j=[];for(var d=c,x;d!==null;){x=d;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=Vs(d,g),b!=null&&j.push(Xs(d,b,x)))),C)break;d=d.return}0<j.length&&(m=new k(m,N,null,n,f),p.push({event:m,listeners:j}))}}if(!(t&7)){e:{if(m=e==="mouseover"||e==="pointerover",k=e==="mouseout"||e==="pointerout",m&&n!==ko&&(N=n.relatedTarget||n.fromElement)&&(sr(N)||N[an]))break e;if((k||m)&&(m=f.window===f?f:(m=f.ownerDocument)?m.defaultView||m.parentWindow:window,k?(N=n.relatedTarget||n.toElement,k=c,N=N?sr(N):null,N!==null&&(C=wr(N),N!==C||N.tag!==5&&N.tag!==6)&&(N=null)):(k=null,N=c),k!==N)){if(j=Lc,b="onMouseLeave",g="onMouseEnter",d="mouse",(e==="pointerout"||e==="pointerover")&&(j=Ic,b="onPointerLeave",g="onPointerEnter",d="pointer"),C=k==null?m:Dr(k),x=N==null?m:Dr(N),m=new j(b,d+"leave",k,n,f),m.target=C,m.relatedTarget=x,b=null,sr(f)===c&&(j=new j(g,d+"enter",N,n,f),j.target=x,j.relatedTarget=C,b=j),C=b,k&&N)t:{for(j=k,g=N,d=0,x=j;x;x=jr(x))d++;for(x=0,b=g;b;b=jr(b))x++;for(;0<d-x;)j=jr(j),d--;for(;0<x-d;)g=jr(g),x--;for(;d--;){if(j===g||g!==null&&j===g.alternate)break t;j=jr(j),g=jr(g)}j=null}else j=null;k!==null&&Zc(p,m,k,j,!1),N!==null&&C!==null&&Zc(p,C,N,j,!0)}}e:{if(m=c?Dr(c):window,k=m.nodeName&&m.nodeName.toLowerCase(),k==="select"||k==="input"&&m.type==="file")var P=F0;else if($c(m))if(lp)P=V0;else{P=U0;var A=z0}else(k=m.nodeName)&&k.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(P=B0);if(P&&(P=P(e,c))){ap(p,P,n,f);break e}A&&A(e,m,c),e==="focusout"&&(A=m._wrapperState)&&A.controlled&&m.type==="number"&&go(m,"number",m.value)}switch(A=c?Dr(c):window,e){case"focusin":($c(A)||A.contentEditable==="true")&&(Mr=A,To=c,Is=null);break;case"focusout":Is=To=Mr=null;break;case"mousedown":Eo=!0;break;case"contextmenu":case"mouseup":case"dragend":Eo=!1,Vc(p,n,f);break;case"selectionchange":if(Z0)break;case"keydown":case"keyup":Vc(p,n,f)}var W;if(Ru)e:{switch(e){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Er?rp(e,n)&&(S="onCompositionEnd"):e==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(np&&n.locale!=="ko"&&(Er||S!=="onCompositionStart"?S==="onCompositionEnd"&&Er&&(W=tp()):(_n=f,Du="value"in _n?_n.value:_n.textContent,Er=!0)),A=hl(c,S),0<A.length&&(S=new Rc(S,e,null,n,f),p.push({event:S,listeners:A}),W?S.data=W:(W=sp(n),W!==null&&(S.data=W)))),(W=R0?I0(e,n):A0(e,n))&&(c=hl(c,"onBeforeInput"),0<c.length&&(f=new Rc("onBeforeInput","beforeinput",null,n,f),p.push({event:f,listeners:c}),f.data=W))}gp(p,t)})}function Xs(e,t,n){return{instance:e,listener:t,currentTarget:n}}function hl(e,t){for(var n=t+"Capture",r=[];e!==null;){var s=e,a=s.stateNode;s.tag===5&&a!==null&&(s=a,a=Vs(e,n),a!=null&&r.unshift(Xs(e,a,s)),a=Vs(e,t),a!=null&&r.push(Xs(e,a,s))),e=e.return}return r}function jr(e){if(e===null)return null;do e=e.return;while(e&&e.tag!==5);return e||null}function Zc(e,t,n,r,s){for(var a=t._reactName,l=[];n!==null&&n!==r;){var o=n,u=o.alternate,c=o.stateNode;if(u!==null&&u===r)break;o.tag===5&&c!==null&&(o=c,s?(u=Vs(n,a),u!=null&&l.unshift(Xs(n,u,o))):s||(u=Vs(n,a),u!=null&&l.push(Xs(n,u,o)))),n=n.return}l.length!==0&&e.push({event:t,listeners:l})}var X0=/\r\n?/g,q0=/\u0000|\uFFFD/g;function Gc(e){return(typeof e=="string"?e:""+e).replace(X0,`
`).replace(q0,"")}function Ra(e,t,n){if(t=Gc(t),Gc(e)!==t&&n)throw Error(O(425))}function gl(){}var Mo=null,Po=null;function Do(e,t){return e==="textarea"||e==="noscript"||typeof t.children=="string"||typeof t.children=="number"||typeof t.dangerouslySetInnerHTML=="object"&&t.dangerouslySetInnerHTML!==null&&t.dangerouslySetInnerHTML.__html!=null}var Oo=typeof setTimeout=="function"?setTimeout:void 0,J0=typeof clearTimeout=="function"?clearTimeout:void 0,Qc=typeof Promise=="function"?Promise:void 0,eg=typeof queueMicrotask=="function"?queueMicrotask:typeof Qc<"u"?function(e){return Qc.resolve(null).then(e).catch(tg)}:Oo;function tg(e){setTimeout(function(){throw e})}function Fi(e,t){var n=t,r=0;do{var s=n.nextSibling;if(e.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){e.removeChild(s),Zs(t);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Zs(t)}function Dn(e){for(;e!=null;e=e.nextSibling){var t=e.nodeType;if(t===1||t===3)break;if(t===8){if(t=e.data,t==="$"||t==="$!"||t==="$?")break;if(t==="/$")return null}}return e}function Kc(e){e=e.previousSibling;for(var t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="$"||n==="$!"||n==="$?"){if(t===0)return e;t--}else n==="/$"&&t++}e=e.previousSibling}return null}var as=Math.random().toString(36).slice(2),zt="__reactFiber$"+as,qs="__reactProps$"+as,an="__reactContainer$"+as,Lo="__reactEvents$"+as,ng="__reactListeners$"+as,rg="__reactHandles$"+as;function sr(e){var t=e[zt];if(t)return t;for(var n=e.parentNode;n;){if(t=n[an]||n[zt]){if(n=t.alternate,t.child!==null||n!==null&&n.child!==null)for(e=Kc(e);e!==null;){if(n=e[zt])return n;e=Kc(e)}return t}e=n,n=e.parentNode}return null}function fa(e){return e=e[zt]||e[an],!e||e.tag!==5&&e.tag!==6&&e.tag!==13&&e.tag!==3?null:e}function Dr(e){if(e.tag===5||e.tag===6)return e.stateNode;throw Error(O(33))}function ei(e){return e[qs]||null}var Ro=[],Or=-1;function Vn(e){return{current:e}}function xe(e){0>Or||(e.current=Ro[Or],Ro[Or]=null,Or--)}function me(e,t){Or++,Ro[Or]=e.current,e.current=t}var Fn={},Ye=Vn(Fn),lt=Vn(!1),cr=Fn;function Zr(e,t){var n=e.type.contextTypes;if(!n)return Fn;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var s={},a;for(a in n)s[a]=t[a];return r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function it(e){return e=e.childContextTypes,e!=null}function xl(){xe(lt),xe(Ye)}function Xc(e,t,n){if(Ye.current!==Fn)throw Error(O(168));me(Ye,t),me(lt,n)}function yp(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in t))throw Error(O(108,zh(e)||"Unknown",s));return ke({},n,r)}function yl(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Fn,cr=Ye.current,me(Ye,e),me(lt,lt.current),!0}function qc(e,t,n){var r=e.stateNode;if(!r)throw Error(O(169));n?(e=yp(e,t,cr),r.__reactInternalMemoizedMergedChildContext=e,xe(lt),xe(Ye),me(Ye,e)):xe(lt),me(lt,n)}var Kt=null,ti=!1,zi=!1;function vp(e){Kt===null?Kt=[e]:Kt.push(e)}function sg(e){ti=!0,vp(e)}function Hn(){if(!zi&&Kt!==null){zi=!0;var e=0,t=de;try{var n=Kt;for(de=1;e<n.length;e++){var r=n[e];do r=r(!0);while(r!==null)}Kt=null,ti=!1}catch(s){throw Kt!==null&&(Kt=Kt.slice(e+1)),Vf(Tu,Hn),s}finally{de=t,zi=!1}}return null}var Lr=[],Rr=0,vl=null,wl=0,xt=[],yt=0,dr=null,Jt=1,en="";function Jn(e,t){Lr[Rr++]=wl,Lr[Rr++]=vl,vl=e,wl=t}function wp(e,t,n){xt[yt++]=Jt,xt[yt++]=en,xt[yt++]=dr,dr=e;var r=Jt;e=en;var s=32-Dt(r)-1;r&=~(1<<s),n+=1;var a=32-Dt(t)+s;if(30<a){var l=s-s%5;a=(r&(1<<l)-1).toString(32),r>>=l,s-=l,Jt=1<<32-Dt(t)+s|n<<s|r,en=a+e}else Jt=1<<a|n<<s|r,en=e}function Au(e){e.return!==null&&(Jn(e,1),wp(e,1,0))}function Wu(e){for(;e===vl;)vl=Lr[--Rr],Lr[Rr]=null,wl=Lr[--Rr],Lr[Rr]=null;for(;e===dr;)dr=xt[--yt],xt[yt]=null,en=xt[--yt],xt[yt]=null,Jt=xt[--yt],xt[yt]=null}var ft=null,dt=null,ye=!1,Mt=null;function kp(e,t){var n=vt(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,t=e.deletions,t===null?(e.deletions=[n],e.flags|=16):t.push(n)}function Jc(e,t){switch(e.tag){case 5:var n=e.type;return t=t.nodeType!==1||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t,t!==null?(e.stateNode=t,ft=e,dt=Dn(t.firstChild),!0):!1;case 6:return t=e.pendingProps===""||t.nodeType!==3?null:t,t!==null?(e.stateNode=t,ft=e,dt=null,!0):!1;case 13:return t=t.nodeType!==8?null:t,t!==null?(n=dr!==null?{id:Jt,overflow:en}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},n=vt(18,null,null,0),n.stateNode=t,n.return=e,e.child=n,ft=e,dt=null,!0):!1;default:return!1}}function Io(e){return(e.mode&1)!==0&&(e.flags&128)===0}function Ao(e){if(ye){var t=dt;if(t){var n=t;if(!Jc(e,t)){if(Io(e))throw Error(O(418));t=Dn(n.nextSibling);var r=ft;t&&Jc(e,t)?kp(r,n):(e.flags=e.flags&-4097|2,ye=!1,ft=e)}}else{if(Io(e))throw Error(O(418));e.flags=e.flags&-4097|2,ye=!1,ft=e}}}function ed(e){for(e=e.return;e!==null&&e.tag!==5&&e.tag!==3&&e.tag!==13;)e=e.return;ft=e}function Ia(e){if(e!==ft)return!1;if(!ye)return ed(e),ye=!0,!1;var t;if((t=e.tag!==3)&&!(t=e.tag!==5)&&(t=e.type,t=t!=="head"&&t!=="body"&&!Do(e.type,e.memoizedProps)),t&&(t=dt)){if(Io(e))throw Np(),Error(O(418));for(;t;)kp(e,t),t=Dn(t.nextSibling)}if(ed(e),e.tag===13){if(e=e.memoizedState,e=e!==null?e.dehydrated:null,!e)throw Error(O(317));e:{for(e=e.nextSibling,t=0;e;){if(e.nodeType===8){var n=e.data;if(n==="/$"){if(t===0){dt=Dn(e.nextSibling);break e}t--}else n!=="$"&&n!=="$!"&&n!=="$?"||t++}e=e.nextSibling}dt=null}}else dt=ft?Dn(e.stateNode.nextSibling):null;return!0}function Np(){for(var e=dt;e;)e=Dn(e.nextSibling)}function Gr(){dt=ft=null,ye=!1}function $u(e){Mt===null?Mt=[e]:Mt.push(e)}var ag=cn.ReactCurrentBatchConfig;function ys(e,t,n){if(e=n.ref,e!==null&&typeof e!="function"&&typeof e!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(O(309));var r=n.stateNode}if(!r)throw Error(O(147,e));var s=r,a=""+e;return t!==null&&t.ref!==null&&typeof t.ref=="function"&&t.ref._stringRef===a?t.ref:(t=function(l){var o=s.refs;l===null?delete o[a]:o[a]=l},t._stringRef=a,t)}if(typeof e!="string")throw Error(O(284));if(!n._owner)throw Error(O(290,e))}return e}function Aa(e,t){throw e=Object.prototype.toString.call(t),Error(O(31,e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function td(e){var t=e._init;return t(e._payload)}function jp(e){function t(g,d){if(e){var x=g.deletions;x===null?(g.deletions=[d],g.flags|=16):x.push(d)}}function n(g,d){if(!e)return null;for(;d!==null;)t(g,d),d=d.sibling;return null}function r(g,d){for(g=new Map;d!==null;)d.key!==null?g.set(d.key,d):g.set(d.index,d),d=d.sibling;return g}function s(g,d){return g=In(g,d),g.index=0,g.sibling=null,g}function a(g,d,x){return g.index=x,e?(x=g.alternate,x!==null?(x=x.index,x<d?(g.flags|=2,d):x):(g.flags|=2,d)):(g.flags|=1048576,d)}function l(g){return e&&g.alternate===null&&(g.flags|=2),g}function o(g,d,x,b){return d===null||d.tag!==6?(d=Gi(x,g.mode,b),d.return=g,d):(d=s(d,x),d.return=g,d)}function u(g,d,x,b){var P=x.type;return P===Tr?f(g,d,x.props.children,b,x.key):d!==null&&(d.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===wn&&td(P)===d.type)?(b=s(d,x.props),b.ref=ys(g,d,x),b.return=g,b):(b=ll(x.type,x.key,x.props,null,g.mode,b),b.ref=ys(g,d,x),b.return=g,b)}function c(g,d,x,b){return d===null||d.tag!==4||d.stateNode.containerInfo!==x.containerInfo||d.stateNode.implementation!==x.implementation?(d=Qi(x,g.mode,b),d.return=g,d):(d=s(d,x.children||[]),d.return=g,d)}function f(g,d,x,b,P){return d===null||d.tag!==7?(d=ur(x,g.mode,b,P),d.return=g,d):(d=s(d,x),d.return=g,d)}function p(g,d,x){if(typeof d=="string"&&d!==""||typeof d=="number")return d=Gi(""+d,g.mode,x),d.return=g,d;if(typeof d=="object"&&d!==null){switch(d.$$typeof){case _a:return x=ll(d.type,d.key,d.props,null,g.mode,x),x.ref=ys(g,null,d),x.return=g,x;case Cr:return d=Qi(d,g.mode,x),d.return=g,d;case wn:var b=d._init;return p(g,b(d._payload),x)}if(_s(d)||ps(d))return d=ur(d,g.mode,x,null),d.return=g,d;Aa(g,d)}return null}function m(g,d,x,b){var P=d!==null?d.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return P!==null?null:o(g,d,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case _a:return x.key===P?u(g,d,x,b):null;case Cr:return x.key===P?c(g,d,x,b):null;case wn:return P=x._init,m(g,d,P(x._payload),b)}if(_s(x)||ps(x))return P!==null?null:f(g,d,x,b,null);Aa(g,x)}return null}function k(g,d,x,b,P){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,o(d,g,""+b,P);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case _a:return g=g.get(b.key===null?x:b.key)||null,u(d,g,b,P);case Cr:return g=g.get(b.key===null?x:b.key)||null,c(d,g,b,P);case wn:var A=b._init;return k(g,d,x,A(b._payload),P)}if(_s(b)||ps(b))return g=g.get(x)||null,f(d,g,b,P,null);Aa(d,b)}return null}function N(g,d,x,b){for(var P=null,A=null,W=d,S=d=0,I=null;W!==null&&S<x.length;S++){W.index>S?(I=W,W=null):I=W.sibling;var w=m(g,W,x[S],b);if(w===null){W===null&&(W=I);break}e&&W&&w.alternate===null&&t(g,W),d=a(w,d,S),A===null?P=w:A.sibling=w,A=w,W=I}if(S===x.length)return n(g,W),ye&&Jn(g,S),P;if(W===null){for(;S<x.length;S++)W=p(g,x[S],b),W!==null&&(d=a(W,d,S),A===null?P=W:A.sibling=W,A=W);return ye&&Jn(g,S),P}for(W=r(g,W);S<x.length;S++)I=k(W,g,S,x[S],b),I!==null&&(e&&I.alternate!==null&&W.delete(I.key===null?S:I.key),d=a(I,d,S),A===null?P=I:A.sibling=I,A=I);return e&&W.forEach(function(_){return t(g,_)}),ye&&Jn(g,S),P}function j(g,d,x,b){var P=ps(x);if(typeof P!="function")throw Error(O(150));if(x=P.call(x),x==null)throw Error(O(151));for(var A=P=null,W=d,S=d=0,I=null,w=x.next();W!==null&&!w.done;S++,w=x.next()){W.index>S?(I=W,W=null):I=W.sibling;var _=m(g,W,w.value,b);if(_===null){W===null&&(W=I);break}e&&W&&_.alternate===null&&t(g,W),d=a(_,d,S),A===null?P=_:A.sibling=_,A=_,W=I}if(w.done)return n(g,W),ye&&Jn(g,S),P;if(W===null){for(;!w.done;S++,w=x.next())w=p(g,w.value,b),w!==null&&(d=a(w,d,S),A===null?P=w:A.sibling=w,A=w);return ye&&Jn(g,S),P}for(W=r(g,W);!w.done;S++,w=x.next())w=k(W,g,S,w.value,b),w!==null&&(e&&w.alternate!==null&&W.delete(w.key===null?S:w.key),d=a(w,d,S),A===null?P=w:A.sibling=w,A=w);return e&&W.forEach(function(K){return t(g,K)}),ye&&Jn(g,S),P}function C(g,d,x,b){if(typeof x=="object"&&x!==null&&x.type===Tr&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case _a:e:{for(var P=x.key,A=d;A!==null;){if(A.key===P){if(P=x.type,P===Tr){if(A.tag===7){n(g,A.sibling),d=s(A,x.props.children),d.return=g,g=d;break e}}else if(A.elementType===P||typeof P=="object"&&P!==null&&P.$$typeof===wn&&td(P)===A.type){n(g,A.sibling),d=s(A,x.props),d.ref=ys(g,A,x),d.return=g,g=d;break e}n(g,A);break}else t(g,A);A=A.sibling}x.type===Tr?(d=ur(x.props.children,g.mode,b,x.key),d.return=g,g=d):(b=ll(x.type,x.key,x.props,null,g.mode,b),b.ref=ys(g,d,x),b.return=g,g=b)}return l(g);case Cr:e:{for(A=x.key;d!==null;){if(d.key===A)if(d.tag===4&&d.stateNode.containerInfo===x.containerInfo&&d.stateNode.implementation===x.implementation){n(g,d.sibling),d=s(d,x.children||[]),d.return=g,g=d;break e}else{n(g,d);break}else t(g,d);d=d.sibling}d=Qi(x,g.mode,b),d.return=g,g=d}return l(g);case wn:return A=x._init,C(g,d,A(x._payload),b)}if(_s(x))return N(g,d,x,b);if(ps(x))return j(g,d,x,b);Aa(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,d!==null&&d.tag===6?(n(g,d.sibling),d=s(d,x),d.return=g,g=d):(n(g,d),d=Gi(x,g.mode,b),d.return=g,g=d),l(g)):n(g,d)}return C}var Qr=jp(!0),bp=jp(!1),kl=Vn(null),Nl=null,Ir=null,Fu=null;function zu(){Fu=Ir=Nl=null}function Uu(e){var t=kl.current;xe(kl),e._currentValue=t}function Wo(e,t,n){for(;e!==null;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,r!==null&&(r.childLanes|=t)):r!==null&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Vr(e,t){Nl=e,Fu=Ir=null,e=e.dependencies,e!==null&&e.firstContext!==null&&(e.lanes&t&&(at=!0),e.firstContext=null)}function kt(e){var t=e._currentValue;if(Fu!==e)if(e={context:e,memoizedValue:t,next:null},Ir===null){if(Nl===null)throw Error(O(308));Ir=e,Nl.dependencies={lanes:0,firstContext:e}}else Ir=Ir.next=e;return t}var ar=null;function Bu(e){ar===null?ar=[e]:ar.push(e)}function Sp(e,t,n,r){var s=t.interleaved;return s===null?(n.next=n,Bu(t)):(n.next=s.next,s.next=n),t.interleaved=n,ln(e,r)}function ln(e,t){e.lanes|=t;var n=e.alternate;for(n!==null&&(n.lanes|=t),n=e,e=e.return;e!==null;)e.childLanes|=t,n=e.alternate,n!==null&&(n.childLanes|=t),n=e,e=e.return;return n.tag===3?n.stateNode:null}var kn=!1;function Vu(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _p(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function nn(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function On(e,t,n){var r=e.updateQueue;if(r===null)return null;if(r=r.shared,le&2){var s=r.pending;return s===null?t.next=t:(t.next=s.next,s.next=t),r.pending=t,ln(e,n)}return s=r.interleaved,s===null?(t.next=t,Bu(r)):(t.next=s.next,s.next=t),r.interleaved=t,ln(e,n)}function el(e,t,n){if(t=t.updateQueue,t!==null&&(t=t.shared,(n&4194240)!==0)){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eu(e,n)}}function nd(e,t){var n=e.updateQueue,r=e.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,a=null;if(n=n.firstBaseUpdate,n!==null){do{var l={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};a===null?s=a=l:a=a.next=l,n=n.next}while(n!==null);a===null?s=a=t:a=a.next=t}else s=a=t;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:a,shared:r.shared,effects:r.effects},e.updateQueue=n;return}e=n.lastBaseUpdate,e===null?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function jl(e,t,n,r){var s=e.updateQueue;kn=!1;var a=s.firstBaseUpdate,l=s.lastBaseUpdate,o=s.shared.pending;if(o!==null){s.shared.pending=null;var u=o,c=u.next;u.next=null,l===null?a=c:l.next=c,l=u;var f=e.alternate;f!==null&&(f=f.updateQueue,o=f.lastBaseUpdate,o!==l&&(o===null?f.firstBaseUpdate=c:o.next=c,f.lastBaseUpdate=u))}if(a!==null){var p=s.baseState;l=0,f=c=u=null,o=a;do{var m=o.lane,k=o.eventTime;if((r&m)===m){f!==null&&(f=f.next={eventTime:k,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var N=e,j=o;switch(m=t,k=n,j.tag){case 1:if(N=j.payload,typeof N=="function"){p=N.call(k,p,m);break e}p=N;break e;case 3:N.flags=N.flags&-65537|128;case 0:if(N=j.payload,m=typeof N=="function"?N.call(k,p,m):N,m==null)break e;p=ke({},p,m);break e;case 2:kn=!0}}o.callback!==null&&o.lane!==0&&(e.flags|=64,m=s.effects,m===null?s.effects=[o]:m.push(o))}else k={eventTime:k,lane:m,tag:o.tag,payload:o.payload,callback:o.callback,next:null},f===null?(c=f=k,u=p):f=f.next=k,l|=m;if(o=o.next,o===null){if(o=s.shared.pending,o===null)break;m=o,o=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(f===null&&(u=p),s.baseState=u,s.firstBaseUpdate=c,s.lastBaseUpdate=f,t=s.shared.interleaved,t!==null){s=t;do l|=s.lane,s=s.next;while(s!==t)}else a===null&&(s.shared.lanes=0);pr|=l,e.lanes=l,e.memoizedState=p}}function rd(e,t,n){if(e=t.effects,t.effects=null,e!==null)for(t=0;t<e.length;t++){var r=e[t],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(O(191,s));s.call(r)}}}var pa={},Bt=Vn(pa),Js=Vn(pa),ea=Vn(pa);function lr(e){if(e===pa)throw Error(O(174));return e}function Hu(e,t){switch(me(ea,t),me(Js,e),me(Bt,pa),e=t.nodeType,e){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:yo(null,"");break;default:e=e===8?t.parentNode:t,t=e.namespaceURI||null,e=e.tagName,t=yo(t,e)}xe(Bt),me(Bt,t)}function Kr(){xe(Bt),xe(Js),xe(ea)}function Cp(e){lr(ea.current);var t=lr(Bt.current),n=yo(t,e.type);t!==n&&(me(Js,e),me(Bt,n))}function Yu(e){Js.current===e&&(xe(Bt),xe(Js))}var ve=Vn(0);function bl(e){for(var t=e;t!==null;){if(t.tag===13){var n=t.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return t}else if(t.tag===19&&t.memoizedProps.revealOrder!==void 0){if(t.flags&128)return t}else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var Ui=[];function Zu(){for(var e=0;e<Ui.length;e++)Ui[e]._workInProgressVersionPrimary=null;Ui.length=0}var tl=cn.ReactCurrentDispatcher,Bi=cn.ReactCurrentBatchConfig,fr=0,we=null,Me=null,Ie=null,Sl=!1,As=!1,ta=0,lg=0;function Be(){throw Error(O(321))}function Gu(e,t){if(t===null)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!Lt(e[n],t[n]))return!1;return!0}function Qu(e,t,n,r,s,a){if(fr=a,we=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,tl.current=e===null||e.memoizedState===null?cg:dg,e=n(r,s),As){a=0;do{if(As=!1,ta=0,25<=a)throw Error(O(301));a+=1,Ie=Me=null,t.updateQueue=null,tl.current=fg,e=n(r,s)}while(As)}if(tl.current=_l,t=Me!==null&&Me.next!==null,fr=0,Ie=Me=we=null,Sl=!1,t)throw Error(O(300));return e}function Ku(){var e=ta!==0;return ta=0,e}function Ft(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e,Ie}function Nt(){if(Me===null){var e=we.alternate;e=e!==null?e.memoizedState:null}else e=Me.next;var t=Ie===null?we.memoizedState:Ie.next;if(t!==null)Ie=t,Me=e;else{if(e===null)throw Error(O(310));Me=e,e={memoizedState:Me.memoizedState,baseState:Me.baseState,baseQueue:Me.baseQueue,queue:Me.queue,next:null},Ie===null?we.memoizedState=Ie=e:Ie=Ie.next=e}return Ie}function na(e,t){return typeof t=="function"?t(e):t}function Vi(e){var t=Nt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=Me,s=r.baseQueue,a=n.pending;if(a!==null){if(s!==null){var l=s.next;s.next=a.next,a.next=l}r.baseQueue=s=a,n.pending=null}if(s!==null){a=s.next,r=r.baseState;var o=l=null,u=null,c=a;do{var f=c.lane;if((fr&f)===f)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:e(r,c.action);else{var p={lane:f,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=p,l=r):u=u.next=p,we.lanes|=f,pr|=f}c=c.next}while(c!==null&&c!==a);u===null?l=r:u.next=o,Lt(r,t.memoizedState)||(at=!0),t.memoizedState=r,t.baseState=l,t.baseQueue=u,n.lastRenderedState=r}if(e=n.interleaved,e!==null){s=e;do a=s.lane,we.lanes|=a,pr|=a,s=s.next;while(s!==e)}else s===null&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function Hi(e){var t=Nt(),n=t.queue;if(n===null)throw Error(O(311));n.lastRenderedReducer=e;var r=n.dispatch,s=n.pending,a=t.memoizedState;if(s!==null){n.pending=null;var l=s=s.next;do a=e(a,l.action),l=l.next;while(l!==s);Lt(a,t.memoizedState)||(at=!0),t.memoizedState=a,t.baseQueue===null&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Tp(){}function Ep(e,t){var n=we,r=Nt(),s=t(),a=!Lt(r.memoizedState,s);if(a&&(r.memoizedState=s,at=!0),r=r.queue,Xu(Dp.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||Ie!==null&&Ie.memoizedState.tag&1){if(n.flags|=2048,ra(9,Pp.bind(null,n,r,s,t),void 0,null),We===null)throw Error(O(349));fr&30||Mp(n,t,s)}return s}function Mp(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.stores=[e]):(n=t.stores,n===null?t.stores=[e]:n.push(e))}function Pp(e,t,n,r){t.value=n,t.getSnapshot=r,Op(t)&&Lp(e)}function Dp(e,t,n){return n(function(){Op(t)&&Lp(e)})}function Op(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!Lt(e,n)}catch{return!0}}function Lp(e){var t=ln(e,1);t!==null&&Ot(t,e,1,-1)}function sd(e){var t=Ft();return typeof e=="function"&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:na,lastRenderedState:e},t.queue=e,e=e.dispatch=ug.bind(null,we,e),[t.memoizedState,e]}function ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},t=we.updateQueue,t===null?(t={lastEffect:null,stores:null},we.updateQueue=t,t.lastEffect=e.next=e):(n=t.lastEffect,n===null?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e)),e}function Rp(){return Nt().memoizedState}function nl(e,t,n,r){var s=Ft();we.flags|=e,s.memoizedState=ra(1|t,n,void 0,r===void 0?null:r)}function ni(e,t,n,r){var s=Nt();r=r===void 0?null:r;var a=void 0;if(Me!==null){var l=Me.memoizedState;if(a=l.destroy,r!==null&&Gu(r,l.deps)){s.memoizedState=ra(t,n,a,r);return}}we.flags|=e,s.memoizedState=ra(1|t,n,a,r)}function ad(e,t){return nl(8390656,8,e,t)}function Xu(e,t){return ni(2048,8,e,t)}function Ip(e,t){return ni(4,2,e,t)}function Ap(e,t){return ni(4,4,e,t)}function Wp(e,t){if(typeof t=="function")return e=e(),t(e),function(){t(null)};if(t!=null)return e=e(),t.current=e,function(){t.current=null}}function $p(e,t,n){return n=n!=null?n.concat([e]):null,ni(4,4,Wp.bind(null,t,e),n)}function qu(){}function Fp(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gu(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function zp(e,t){var n=Nt();t=t===void 0?null:t;var r=n.memoizedState;return r!==null&&t!==null&&Gu(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Up(e,t,n){return fr&21?(Lt(n,t)||(n=Zf(),we.lanes|=n,pr|=n,e.baseState=!0),t):(e.baseState&&(e.baseState=!1,at=!0),e.memoizedState=n)}function ig(e,t){var n=de;de=n!==0&&4>n?n:4,e(!0);var r=Bi.transition;Bi.transition={};try{e(!1),t()}finally{de=n,Bi.transition=r}}function Bp(){return Nt().memoizedState}function og(e,t,n){var r=Rn(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Vp(e))Hp(t,n);else if(n=Sp(e,t,n,r),n!==null){var s=Je();Ot(n,e,r,s),Yp(n,t,r)}}function ug(e,t,n){var r=Rn(e),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Vp(e))Hp(t,s);else{var a=e.alternate;if(e.lanes===0&&(a===null||a.lanes===0)&&(a=t.lastRenderedReducer,a!==null))try{var l=t.lastRenderedState,o=a(l,n);if(s.hasEagerState=!0,s.eagerState=o,Lt(o,l)){var u=t.interleaved;u===null?(s.next=s,Bu(t)):(s.next=u.next,u.next=s),t.interleaved=s;return}}catch{}finally{}n=Sp(e,t,s,r),n!==null&&(s=Je(),Ot(n,e,r,s),Yp(n,t,r))}}function Vp(e){var t=e.alternate;return e===we||t!==null&&t===we}function Hp(e,t){As=Sl=!0;var n=e.pending;n===null?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Yp(e,t,n){if(n&4194240){var r=t.lanes;r&=e.pendingLanes,n|=r,t.lanes=n,Eu(e,n)}}var _l={readContext:kt,useCallback:Be,useContext:Be,useEffect:Be,useImperativeHandle:Be,useInsertionEffect:Be,useLayoutEffect:Be,useMemo:Be,useReducer:Be,useRef:Be,useState:Be,useDebugValue:Be,useDeferredValue:Be,useTransition:Be,useMutableSource:Be,useSyncExternalStore:Be,useId:Be,unstable_isNewReconciler:!1},cg={readContext:kt,useCallback:function(e,t){return Ft().memoizedState=[e,t===void 0?null:t],e},useContext:kt,useEffect:ad,useImperativeHandle:function(e,t,n){return n=n!=null?n.concat([e]):null,nl(4194308,4,Wp.bind(null,t,e),n)},useLayoutEffect:function(e,t){return nl(4194308,4,e,t)},useInsertionEffect:function(e,t){return nl(4,2,e,t)},useMemo:function(e,t){var n=Ft();return t=t===void 0?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=Ft();return t=n!==void 0?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=og.bind(null,we,e),[r.memoizedState,e]},useRef:function(e){var t=Ft();return e={current:e},t.memoizedState=e},useState:sd,useDebugValue:qu,useDeferredValue:function(e){return Ft().memoizedState=e},useTransition:function(){var e=sd(!1),t=e[0];return e=ig.bind(null,e[1]),Ft().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=we,s=Ft();if(ye){if(n===void 0)throw Error(O(407));n=n()}else{if(n=t(),We===null)throw Error(O(349));fr&30||Mp(r,t,n)}s.memoizedState=n;var a={value:n,getSnapshot:t};return s.queue=a,ad(Dp.bind(null,r,a,e),[e]),r.flags|=2048,ra(9,Pp.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=Ft(),t=We.identifierPrefix;if(ye){var n=en,r=Jt;n=(r&~(1<<32-Dt(r)-1)).toString(32)+n,t=":"+t+"R"+n,n=ta++,0<n&&(t+="H"+n.toString(32)),t+=":"}else n=lg++,t=":"+t+"r"+n.toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},dg={readContext:kt,useCallback:Fp,useContext:kt,useEffect:Xu,useImperativeHandle:$p,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:zp,useReducer:Vi,useRef:Rp,useState:function(){return Vi(na)},useDebugValue:qu,useDeferredValue:function(e){var t=Nt();return Up(t,Me.memoizedState,e)},useTransition:function(){var e=Vi(na)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Ep,useId:Bp,unstable_isNewReconciler:!1},fg={readContext:kt,useCallback:Fp,useContext:kt,useEffect:Xu,useImperativeHandle:$p,useInsertionEffect:Ip,useLayoutEffect:Ap,useMemo:zp,useReducer:Hi,useRef:Rp,useState:function(){return Hi(na)},useDebugValue:qu,useDeferredValue:function(e){var t=Nt();return Me===null?t.memoizedState=e:Up(t,Me.memoizedState,e)},useTransition:function(){var e=Hi(na)[0],t=Nt().memoizedState;return[e,t]},useMutableSource:Tp,useSyncExternalStore:Ep,useId:Bp,unstable_isNewReconciler:!1};function Tt(e,t){if(e&&e.defaultProps){t=ke({},t),e=e.defaultProps;for(var n in e)t[n]===void 0&&(t[n]=e[n]);return t}return t}function $o(e,t,n,r){t=e.memoizedState,n=n(r,t),n=n==null?t:ke({},t,n),e.memoizedState=n,e.lanes===0&&(e.updateQueue.baseState=n)}var ri={isMounted:function(e){return(e=e._reactInternals)?wr(e)===e:!1},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Rn(e),a=nn(r,s);a.payload=t,n!=null&&(a.callback=n),t=On(e,a,s),t!==null&&(Ot(t,e,s,r),el(t,e,s))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=Je(),s=Rn(e),a=nn(r,s);a.tag=1,a.payload=t,n!=null&&(a.callback=n),t=On(e,a,s),t!==null&&(Ot(t,e,s,r),el(t,e,s))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=Je(),r=Rn(e),s=nn(n,r);s.tag=2,t!=null&&(s.callback=t),t=On(e,s,r),t!==null&&(Ot(t,e,r,n),el(t,e,r))}};function ld(e,t,n,r,s,a,l){return e=e.stateNode,typeof e.shouldComponentUpdate=="function"?e.shouldComponentUpdate(r,a,l):t.prototype&&t.prototype.isPureReactComponent?!Qs(n,r)||!Qs(s,a):!0}function Zp(e,t,n){var r=!1,s=Fn,a=t.contextType;return typeof a=="object"&&a!==null?a=kt(a):(s=it(t)?cr:Ye.current,r=t.contextTypes,a=(r=r!=null)?Zr(e,s):Fn),t=new t(n,a),e.memoizedState=t.state!==null&&t.state!==void 0?t.state:null,t.updater=ri,e.stateNode=t,t._reactInternals=e,r&&(e=e.stateNode,e.__reactInternalMemoizedUnmaskedChildContext=s,e.__reactInternalMemoizedMaskedChildContext=a),t}function id(e,t,n,r){e=t.state,typeof t.componentWillReceiveProps=="function"&&t.componentWillReceiveProps(n,r),typeof t.UNSAFE_componentWillReceiveProps=="function"&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ri.enqueueReplaceState(t,t.state,null)}function Fo(e,t,n,r){var s=e.stateNode;s.props=n,s.state=e.memoizedState,s.refs={},Vu(e);var a=t.contextType;typeof a=="object"&&a!==null?s.context=kt(a):(a=it(t)?cr:Ye.current,s.context=Zr(e,a)),s.state=e.memoizedState,a=t.getDerivedStateFromProps,typeof a=="function"&&($o(e,t,a,n),s.state=e.memoizedState),typeof t.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(t=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),t!==s.state&&ri.enqueueReplaceState(s,s.state,null),jl(e,n,s,r),s.state=e.memoizedState),typeof s.componentDidMount=="function"&&(e.flags|=4194308)}function Xr(e,t){try{var n="",r=t;do n+=Fh(r),r=r.return;while(r);var s=n}catch(a){s=`
Error generating stack: `+a.message+`
`+a.stack}return{value:e,source:t,stack:s,digest:null}}function Yi(e,t,n){return{value:e,source:null,stack:n??null,digest:t??null}}function zo(e,t){try{console.error(t.value)}catch(n){setTimeout(function(){throw n})}}var pg=typeof WeakMap=="function"?WeakMap:Map;function Gp(e,t,n){n=nn(-1,n),n.tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){Tl||(Tl=!0,Xo=r),zo(e,t)},n}function Qp(e,t,n){n=nn(-1,n),n.tag=3;var r=e.type.getDerivedStateFromError;if(typeof r=="function"){var s=t.value;n.payload=function(){return r(s)},n.callback=function(){zo(e,t)}}var a=e.stateNode;return a!==null&&typeof a.componentDidCatch=="function"&&(n.callback=function(){zo(e,t),typeof r!="function"&&(Ln===null?Ln=new Set([this]):Ln.add(this));var l=t.stack;this.componentDidCatch(t.value,{componentStack:l!==null?l:""})}),n}function od(e,t,n){var r=e.pingCache;if(r===null){r=e.pingCache=new pg;var s=new Set;r.set(t,s)}else s=r.get(t),s===void 0&&(s=new Set,r.set(t,s));s.has(n)||(s.add(n),e=Cg.bind(null,e,t,n),t.then(e,e))}function ud(e){do{var t;if((t=e.tag===13)&&(t=e.memoizedState,t=t!==null?t.dehydrated!==null:!0),t)return e;e=e.return}while(e!==null);return null}function cd(e,t,n,r,s){return e.mode&1?(e.flags|=65536,e.lanes=s,e):(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(t=nn(-1,1),t.tag=2,On(n,t,1))),n.lanes|=1),e)}var mg=cn.ReactCurrentOwner,at=!1;function qe(e,t,n,r){t.child=e===null?bp(t,null,n,r):Qr(t,e.child,n,r)}function dd(e,t,n,r,s){n=n.render;var a=t.ref;return Vr(t,s),r=Qu(e,t,n,r,a,s),n=Ku(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(ye&&n&&Au(t),t.flags|=1,qe(e,t,r,s),t.child)}function fd(e,t,n,r,s){if(e===null){var a=n.type;return typeof a=="function"&&!lc(a)&&a.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(t.tag=15,t.type=a,Kp(e,t,a,r,s)):(e=ll(n.type,null,r,t,t.mode,s),e.ref=t.ref,e.return=t,t.child=e)}if(a=e.child,!(e.lanes&s)){var l=a.memoizedProps;if(n=n.compare,n=n!==null?n:Qs,n(l,r)&&e.ref===t.ref)return on(e,t,s)}return t.flags|=1,e=In(a,r),e.ref=t.ref,e.return=t,t.child=e}function Kp(e,t,n,r,s){if(e!==null){var a=e.memoizedProps;if(Qs(a,r)&&e.ref===t.ref)if(at=!1,t.pendingProps=r=a,(e.lanes&s)!==0)e.flags&131072&&(at=!0);else return t.lanes=e.lanes,on(e,t,s)}return Uo(e,t,n,r,s)}function Xp(e,t,n){var r=t.pendingProps,s=r.children,a=e!==null?e.memoizedState:null;if(r.mode==="hidden")if(!(t.mode&1))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},me(Wr,ct),ct|=n;else{if(!(n&1073741824))return e=a!==null?a.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,me(Wr,ct),ct|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=a!==null?a.baseLanes:n,me(Wr,ct),ct|=r}else a!==null?(r=a.baseLanes|n,t.memoizedState=null):r=n,me(Wr,ct),ct|=r;return qe(e,t,s,n),t.child}function qp(e,t){var n=t.ref;(e===null&&n!==null||e!==null&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Uo(e,t,n,r,s){var a=it(n)?cr:Ye.current;return a=Zr(t,a),Vr(t,s),n=Qu(e,t,n,r,a,s),r=Ku(),e!==null&&!at?(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~s,on(e,t,s)):(ye&&r&&Au(t),t.flags|=1,qe(e,t,n,s),t.child)}function pd(e,t,n,r,s){if(it(n)){var a=!0;yl(t)}else a=!1;if(Vr(t,s),t.stateNode===null)rl(e,t),Zp(t,n,r),Fo(t,n,r,s),r=!0;else if(e===null){var l=t.stateNode,o=t.memoizedProps;l.props=o;var u=l.context,c=n.contextType;typeof c=="object"&&c!==null?c=kt(c):(c=it(n)?cr:Ye.current,c=Zr(t,c));var f=n.getDerivedStateFromProps,p=typeof f=="function"||typeof l.getSnapshotBeforeUpdate=="function";p||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==r||u!==c)&&id(t,l,r,c),kn=!1;var m=t.memoizedState;l.state=m,jl(t,r,l,s),u=t.memoizedState,o!==r||m!==u||lt.current||kn?(typeof f=="function"&&($o(t,n,f,r),u=t.memoizedState),(o=kn||ld(t,n,o,r,m,u,c))?(p||typeof l.UNSAFE_componentWillMount!="function"&&typeof l.componentWillMount!="function"||(typeof l.componentWillMount=="function"&&l.componentWillMount(),typeof l.UNSAFE_componentWillMount=="function"&&l.UNSAFE_componentWillMount()),typeof l.componentDidMount=="function"&&(t.flags|=4194308)):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=u),l.props=r,l.state=u,l.context=c,r=o):(typeof l.componentDidMount=="function"&&(t.flags|=4194308),r=!1)}else{l=t.stateNode,_p(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:Tt(t.type,o),l.props=c,p=t.pendingProps,m=l.context,u=n.contextType,typeof u=="object"&&u!==null?u=kt(u):(u=it(n)?cr:Ye.current,u=Zr(t,u));var k=n.getDerivedStateFromProps;(f=typeof k=="function"||typeof l.getSnapshotBeforeUpdate=="function")||typeof l.UNSAFE_componentWillReceiveProps!="function"&&typeof l.componentWillReceiveProps!="function"||(o!==p||m!==u)&&id(t,l,r,u),kn=!1,m=t.memoizedState,l.state=m,jl(t,r,l,s);var N=t.memoizedState;o!==p||m!==N||lt.current||kn?(typeof k=="function"&&($o(t,n,k,r),N=t.memoizedState),(c=kn||ld(t,n,c,r,m,N,u)||!1)?(f||typeof l.UNSAFE_componentWillUpdate!="function"&&typeof l.componentWillUpdate!="function"||(typeof l.componentWillUpdate=="function"&&l.componentWillUpdate(r,N,u),typeof l.UNSAFE_componentWillUpdate=="function"&&l.UNSAFE_componentWillUpdate(r,N,u)),typeof l.componentDidUpdate=="function"&&(t.flags|=4),typeof l.getSnapshotBeforeUpdate=="function"&&(t.flags|=1024)):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=N),l.props=r,l.state=N,l.context=u,r=c):(typeof l.componentDidUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=4),typeof l.getSnapshotBeforeUpdate!="function"||o===e.memoizedProps&&m===e.memoizedState||(t.flags|=1024),r=!1)}return Bo(e,t,n,r,a,s)}function Bo(e,t,n,r,s,a){qp(e,t);var l=(t.flags&128)!==0;if(!r&&!l)return s&&qc(t,n,!1),on(e,t,a);r=t.stateNode,mg.current=t;var o=l&&typeof n.getDerivedStateFromError!="function"?null:r.render();return t.flags|=1,e!==null&&l?(t.child=Qr(t,e.child,null,a),t.child=Qr(t,null,o,a)):qe(e,t,o,a),t.memoizedState=r.state,s&&qc(t,n,!0),t.child}function Jp(e){var t=e.stateNode;t.pendingContext?Xc(e,t.pendingContext,t.pendingContext!==t.context):t.context&&Xc(e,t.context,!1),Hu(e,t.containerInfo)}function md(e,t,n,r,s){return Gr(),$u(s),t.flags|=256,qe(e,t,n,r),t.child}var Vo={dehydrated:null,treeContext:null,retryLane:0};function Ho(e){return{baseLanes:e,cachePool:null,transitions:null}}function em(e,t,n){var r=t.pendingProps,s=ve.current,a=!1,l=(t.flags&128)!==0,o;if((o=l)||(o=e!==null&&e.memoizedState===null?!1:(s&2)!==0),o?(a=!0,t.flags&=-129):(e===null||e.memoizedState!==null)&&(s|=1),me(ve,s&1),e===null)return Ao(t),e=t.memoizedState,e!==null&&(e=e.dehydrated,e!==null)?(t.mode&1?e.data==="$!"?t.lanes=8:t.lanes=1073741824:t.lanes=1,null):(l=r.children,e=r.fallback,a?(r=t.mode,a=t.child,l={mode:"hidden",children:l},!(r&1)&&a!==null?(a.childLanes=0,a.pendingProps=l):a=li(l,r,0,null),e=ur(e,r,n,null),a.return=t,e.return=t,a.sibling=e,t.child=a,t.child.memoizedState=Ho(n),t.memoizedState=Vo,e):Ju(t,l));if(s=e.memoizedState,s!==null&&(o=s.dehydrated,o!==null))return hg(e,t,l,r,o,s,n);if(a){a=r.fallback,l=t.mode,s=e.child,o=s.sibling;var u={mode:"hidden",children:r.children};return!(l&1)&&t.child!==s?(r=t.child,r.childLanes=0,r.pendingProps=u,t.deletions=null):(r=In(s,u),r.subtreeFlags=s.subtreeFlags&14680064),o!==null?a=In(o,a):(a=ur(a,l,n,null),a.flags|=2),a.return=t,r.return=t,r.sibling=a,t.child=r,r=a,a=t.child,l=e.child.memoizedState,l=l===null?Ho(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},a.memoizedState=l,a.childLanes=e.childLanes&~n,t.memoizedState=Vo,r}return a=e.child,e=a.sibling,r=In(a,{mode:"visible",children:r.children}),!(t.mode&1)&&(r.lanes=n),r.return=t,r.sibling=null,e!==null&&(n=t.deletions,n===null?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=r,t.memoizedState=null,r}function Ju(e,t){return t=li({mode:"visible",children:t},e.mode,0,null),t.return=e,e.child=t}function Wa(e,t,n,r){return r!==null&&$u(r),Qr(t,e.child,null,n),e=Ju(t,t.pendingProps.children),e.flags|=2,t.memoizedState=null,e}function hg(e,t,n,r,s,a,l){if(n)return t.flags&256?(t.flags&=-257,r=Yi(Error(O(422))),Wa(e,t,l,r)):t.memoizedState!==null?(t.child=e.child,t.flags|=128,null):(a=r.fallback,s=t.mode,r=li({mode:"visible",children:r.children},s,0,null),a=ur(a,s,l,null),a.flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,t.mode&1&&Qr(t,e.child,null,l),t.child.memoizedState=Ho(l),t.memoizedState=Vo,a);if(!(t.mode&1))return Wa(e,t,l,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var o=r.dgst;return r=o,a=Error(O(419)),r=Yi(a,r,void 0),Wa(e,t,l,r)}if(o=(l&e.childLanes)!==0,at||o){if(r=We,r!==null){switch(l&-l){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|l)?0:s,s!==0&&s!==a.retryLane&&(a.retryLane=s,ln(e,s),Ot(r,e,s,-1))}return ac(),r=Yi(Error(O(421))),Wa(e,t,l,r)}return s.data==="$?"?(t.flags|=128,t.child=e.child,t=Tg.bind(null,e),s._reactRetry=t,null):(e=a.treeContext,dt=Dn(s.nextSibling),ft=t,ye=!0,Mt=null,e!==null&&(xt[yt++]=Jt,xt[yt++]=en,xt[yt++]=dr,Jt=e.id,en=e.overflow,dr=t),t=Ju(t,r.children),t.flags|=4096,t)}function hd(e,t,n){e.lanes|=t;var r=e.alternate;r!==null&&(r.lanes|=t),Wo(e.return,t,n)}function Zi(e,t,n,r,s){var a=e.memoizedState;a===null?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(a.isBackwards=t,a.rendering=null,a.renderingStartTime=0,a.last=r,a.tail=n,a.tailMode=s)}function tm(e,t,n){var r=t.pendingProps,s=r.revealOrder,a=r.tail;if(qe(e,t,r.children,n),r=ve.current,r&2)r=r&1|2,t.flags|=128;else{if(e!==null&&e.flags&128)e:for(e=t.child;e!==null;){if(e.tag===13)e.memoizedState!==null&&hd(e,n,t);else if(e.tag===19)hd(e,n,t);else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;e.sibling===null;){if(e.return===null||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(me(ve,r),!(t.mode&1))t.memoizedState=null;else switch(s){case"forwards":for(n=t.child,s=null;n!==null;)e=n.alternate,e!==null&&bl(e)===null&&(s=n),n=n.sibling;n=s,n===null?(s=t.child,t.child=null):(s=n.sibling,n.sibling=null),Zi(t,!1,s,n,a);break;case"backwards":for(n=null,s=t.child,t.child=null;s!==null;){if(e=s.alternate,e!==null&&bl(e)===null){t.child=s;break}e=s.sibling,s.sibling=n,n=s,s=e}Zi(t,!0,n,null,a);break;case"together":Zi(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function rl(e,t){!(t.mode&1)&&e!==null&&(e.alternate=null,t.alternate=null,t.flags|=2)}function on(e,t,n){if(e!==null&&(t.dependencies=e.dependencies),pr|=t.lanes,!(n&t.childLanes))return null;if(e!==null&&t.child!==e.child)throw Error(O(153));if(t.child!==null){for(e=t.child,n=In(e,e.pendingProps),t.child=n,n.return=t;e.sibling!==null;)e=e.sibling,n=n.sibling=In(e,e.pendingProps),n.return=t;n.sibling=null}return t.child}function gg(e,t,n){switch(t.tag){case 3:Jp(t),Gr();break;case 5:Cp(t);break;case 1:it(t.type)&&yl(t);break;case 4:Hu(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,s=t.memoizedProps.value;me(kl,r._currentValue),r._currentValue=s;break;case 13:if(r=t.memoizedState,r!==null)return r.dehydrated!==null?(me(ve,ve.current&1),t.flags|=128,null):n&t.child.childLanes?em(e,t,n):(me(ve,ve.current&1),e=on(e,t,n),e!==null?e.sibling:null);me(ve,ve.current&1);break;case 19:if(r=(n&t.childLanes)!==0,e.flags&128){if(r)return tm(e,t,n);t.flags|=128}if(s=t.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),me(ve,ve.current),r)break;return null;case 22:case 23:return t.lanes=0,Xp(e,t,n)}return on(e,t,n)}var nm,Yo,rm,sm;nm=function(e,t){for(var n=t.child;n!==null;){if(n.tag===5||n.tag===6)e.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===t)break;for(;n.sibling===null;){if(n.return===null||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Yo=function(){};rm=function(e,t,n,r){var s=e.memoizedProps;if(s!==r){e=t.stateNode,lr(Bt.current);var a=null;switch(n){case"input":s=mo(e,s),r=mo(e,r),a=[];break;case"select":s=ke({},s,{value:void 0}),r=ke({},r,{value:void 0}),a=[];break;case"textarea":s=xo(e,s),r=xo(e,r),a=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(e.onclick=gl)}vo(n,r);var l;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var o=s[c];for(l in o)o.hasOwnProperty(l)&&(n||(n={}),n[l]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Us.hasOwnProperty(c)?a||(a=[]):(a=a||[]).push(c,null));for(c in r){var u=r[c];if(o=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(l in o)!o.hasOwnProperty(l)||u&&u.hasOwnProperty(l)||(n||(n={}),n[l]="");for(l in u)u.hasOwnProperty(l)&&o[l]!==u[l]&&(n||(n={}),n[l]=u[l])}else n||(a||(a=[]),a.push(c,n)),n=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(a=a||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(a=a||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Us.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&ge("scroll",e),a||o===u||(a=[])):(a=a||[]).push(c,u))}n&&(a=a||[]).push("style",n);var c=a;(t.updateQueue=c)&&(t.flags|=4)}};sm=function(e,t,n,r){n!==r&&(t.flags|=4)};function vs(e,t){if(!ye)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;t!==null;)t.alternate!==null&&(n=t),t=t.sibling;n===null?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?t||e.tail===null?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ve(e){var t=e.alternate!==null&&e.alternate.child===e.child,n=0,r=0;if(t)for(var s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=e,s=s.sibling;else for(s=e.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=e,s=s.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function xg(e,t,n){var r=t.pendingProps;switch(Wu(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ve(t),null;case 1:return it(t.type)&&xl(),Ve(t),null;case 3:return r=t.stateNode,Kr(),xe(lt),xe(Ye),Zu(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(e===null||e.child===null)&&(Ia(t)?t.flags|=4:e===null||e.memoizedState.isDehydrated&&!(t.flags&256)||(t.flags|=1024,Mt!==null&&(eu(Mt),Mt=null))),Yo(e,t),Ve(t),null;case 5:Yu(t);var s=lr(ea.current);if(n=t.type,e!==null&&t.stateNode!=null)rm(e,t,n,r,s),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(t.stateNode===null)throw Error(O(166));return Ve(t),null}if(e=lr(Bt.current),Ia(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[zt]=t,r[qs]=a,e=(t.mode&1)!==0,n){case"dialog":ge("cancel",r),ge("close",r);break;case"iframe":case"object":case"embed":ge("load",r);break;case"video":case"audio":for(s=0;s<Ts.length;s++)ge(Ts[s],r);break;case"source":ge("error",r);break;case"img":case"image":case"link":ge("error",r),ge("load",r);break;case"details":ge("toggle",r);break;case"input":bc(r,a),ge("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},ge("invalid",r);break;case"textarea":_c(r,a),ge("invalid",r)}vo(n,a),s=null;for(var l in a)if(a.hasOwnProperty(l)){var o=a[l];l==="children"?typeof o=="string"?r.textContent!==o&&(a.suppressHydrationWarning!==!0&&Ra(r.textContent,o,e),s=["children",o]):typeof o=="number"&&r.textContent!==""+o&&(a.suppressHydrationWarning!==!0&&Ra(r.textContent,o,e),s=["children",""+o]):Us.hasOwnProperty(l)&&o!=null&&l==="onScroll"&&ge("scroll",r)}switch(n){case"input":Ca(r),Sc(r,a,!0);break;case"textarea":Ca(r),Cc(r);break;case"select":case"option":break;default:typeof a.onClick=="function"&&(r.onclick=gl)}r=s,t.updateQueue=r,r!==null&&(t.flags|=4)}else{l=s.nodeType===9?s:s.ownerDocument,e==="http://www.w3.org/1999/xhtml"&&(e=Df(n)),e==="http://www.w3.org/1999/xhtml"?n==="script"?(e=l.createElement("div"),e.innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):typeof r.is=="string"?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),n==="select"&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[zt]=t,e[qs]=r,nm(e,t,!1,!1),t.stateNode=e;e:{switch(l=wo(n,r),n){case"dialog":ge("cancel",e),ge("close",e),s=r;break;case"iframe":case"object":case"embed":ge("load",e),s=r;break;case"video":case"audio":for(s=0;s<Ts.length;s++)ge(Ts[s],e);s=r;break;case"source":ge("error",e),s=r;break;case"img":case"image":case"link":ge("error",e),ge("load",e),s=r;break;case"details":ge("toggle",e),s=r;break;case"input":bc(e,r),s=mo(e,r),ge("invalid",e);break;case"option":s=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},s=ke({},r,{value:void 0}),ge("invalid",e);break;case"textarea":_c(e,r),s=xo(e,r),ge("invalid",e);break;default:s=r}vo(n,s),o=s;for(a in o)if(o.hasOwnProperty(a)){var u=o[a];a==="style"?Rf(e,u):a==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&Of(e,u)):a==="children"?typeof u=="string"?(n!=="textarea"||u!=="")&&Bs(e,u):typeof u=="number"&&Bs(e,""+u):a!=="suppressContentEditableWarning"&&a!=="suppressHydrationWarning"&&a!=="autoFocus"&&(Us.hasOwnProperty(a)?u!=null&&a==="onScroll"&&ge("scroll",e):u!=null&&ju(e,a,u,l))}switch(n){case"input":Ca(e),Sc(e,r,!1);break;case"textarea":Ca(e),Cc(e);break;case"option":r.value!=null&&e.setAttribute("value",""+$n(r.value));break;case"select":e.multiple=!!r.multiple,a=r.value,a!=null?Fr(e,!!r.multiple,a,!1):r.defaultValue!=null&&Fr(e,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(e.onclick=gl)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}t.ref!==null&&(t.flags|=512,t.flags|=2097152)}return Ve(t),null;case 6:if(e&&t.stateNode!=null)sm(e,t,e.memoizedProps,r);else{if(typeof r!="string"&&t.stateNode===null)throw Error(O(166));if(n=lr(ea.current),lr(Bt.current),Ia(t)){if(r=t.stateNode,n=t.memoizedProps,r[zt]=t,(a=r.nodeValue!==n)&&(e=ft,e!==null))switch(e.tag){case 3:Ra(r.nodeValue,n,(e.mode&1)!==0);break;case 5:e.memoizedProps.suppressHydrationWarning!==!0&&Ra(r.nodeValue,n,(e.mode&1)!==0)}a&&(t.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[zt]=t,t.stateNode=r}return Ve(t),null;case 13:if(xe(ve),r=t.memoizedState,e===null||e.memoizedState!==null&&e.memoizedState.dehydrated!==null){if(ye&&dt!==null&&t.mode&1&&!(t.flags&128))Np(),Gr(),t.flags|=98560,a=!1;else if(a=Ia(t),r!==null&&r.dehydrated!==null){if(e===null){if(!a)throw Error(O(318));if(a=t.memoizedState,a=a!==null?a.dehydrated:null,!a)throw Error(O(317));a[zt]=t}else Gr(),!(t.flags&128)&&(t.memoizedState=null),t.flags|=4;Ve(t),a=!1}else Mt!==null&&(eu(Mt),Mt=null),a=!0;if(!a)return t.flags&65536?t:null}return t.flags&128?(t.lanes=n,t):(r=r!==null,r!==(e!==null&&e.memoizedState!==null)&&r&&(t.child.flags|=8192,t.mode&1&&(e===null||ve.current&1?De===0&&(De=3):ac())),t.updateQueue!==null&&(t.flags|=4),Ve(t),null);case 4:return Kr(),Yo(e,t),e===null&&Ks(t.stateNode.containerInfo),Ve(t),null;case 10:return Uu(t.type._context),Ve(t),null;case 17:return it(t.type)&&xl(),Ve(t),null;case 19:if(xe(ve),a=t.memoizedState,a===null)return Ve(t),null;if(r=(t.flags&128)!==0,l=a.rendering,l===null)if(r)vs(a,!1);else{if(De!==0||e!==null&&e.flags&128)for(e=t.child;e!==null;){if(l=bl(e),l!==null){for(t.flags|=128,vs(a,!1),r=l.updateQueue,r!==null&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;n!==null;)a=n,e=r,a.flags&=14680066,l=a.alternate,l===null?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return me(ve,ve.current&1|2),t.child}e=e.sibling}a.tail!==null&&Se()>qr&&(t.flags|=128,r=!0,vs(a,!1),t.lanes=4194304)}else{if(!r)if(e=bl(l),e!==null){if(t.flags|=128,r=!0,n=e.updateQueue,n!==null&&(t.updateQueue=n,t.flags|=4),vs(a,!0),a.tail===null&&a.tailMode==="hidden"&&!l.alternate&&!ye)return Ve(t),null}else 2*Se()-a.renderingStartTime>qr&&n!==1073741824&&(t.flags|=128,r=!0,vs(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(n=a.last,n!==null?n.sibling=l:t.child=l,a.last=l)}return a.tail!==null?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Se(),t.sibling=null,n=ve.current,me(ve,r?n&1|2:n&1),t):(Ve(t),null);case 22:case 23:return sc(),r=t.memoizedState!==null,e!==null&&e.memoizedState!==null!==r&&(t.flags|=8192),r&&t.mode&1?ct&1073741824&&(Ve(t),t.subtreeFlags&6&&(t.flags|=8192)):Ve(t),null;case 24:return null;case 25:return null}throw Error(O(156,t.tag))}function yg(e,t){switch(Wu(t),t.tag){case 1:return it(t.type)&&xl(),e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 3:return Kr(),xe(lt),xe(Ye),Zu(),e=t.flags,e&65536&&!(e&128)?(t.flags=e&-65537|128,t):null;case 5:return Yu(t),null;case 13:if(xe(ve),e=t.memoizedState,e!==null&&e.dehydrated!==null){if(t.alternate===null)throw Error(O(340));Gr()}return e=t.flags,e&65536?(t.flags=e&-65537|128,t):null;case 19:return xe(ve),null;case 4:return Kr(),null;case 10:return Uu(t.type._context),null;case 22:case 23:return sc(),null;case 24:return null;default:return null}}var $a=!1,He=!1,vg=typeof WeakSet=="function"?WeakSet:Set,V=null;function Ar(e,t){var n=e.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){je(e,t,r)}else n.current=null}function Zo(e,t,n){try{n()}catch(r){je(e,t,r)}}var gd=!1;function wg(e,t){if(Mo=pl,e=up(),Iu(e)){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{n=(n=e.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch{n=null;break e}var l=0,o=-1,u=-1,c=0,f=0,p=e,m=null;t:for(;;){for(var k;p!==n||s!==0&&p.nodeType!==3||(o=l+s),p!==a||r!==0&&p.nodeType!==3||(u=l+r),p.nodeType===3&&(l+=p.nodeValue.length),(k=p.firstChild)!==null;)m=p,p=k;for(;;){if(p===e)break t;if(m===n&&++c===s&&(o=l),m===a&&++f===r&&(u=l),(k=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=k}n=o===-1||u===-1?null:{start:o,end:u}}else n=null}n=n||{start:0,end:0}}else n=null;for(Po={focusedElem:e,selectionRange:n},pl=!1,V=t;V!==null;)if(t=V,e=t.child,(t.subtreeFlags&1028)!==0&&e!==null)e.return=t,V=e;else for(;V!==null;){t=V;try{var N=t.alternate;if(t.flags&1024)switch(t.tag){case 0:case 11:case 15:break;case 1:if(N!==null){var j=N.memoizedProps,C=N.memoizedState,g=t.stateNode,d=g.getSnapshotBeforeUpdate(t.elementType===t.type?j:Tt(t.type,j),C);g.__reactInternalSnapshotBeforeUpdate=d}break;case 3:var x=t.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(O(163))}}catch(b){je(t,t.return,b)}if(e=t.sibling,e!==null){e.return=t.return,V=e;break}V=t.return}return N=gd,gd=!1,N}function Ws(e,t,n){var r=t.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&e)===e){var a=s.destroy;s.destroy=void 0,a!==void 0&&Zo(t,n,a)}s=s.next}while(s!==r)}}function si(e,t){if(t=t.updateQueue,t=t!==null?t.lastEffect:null,t!==null){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function Go(e){var t=e.ref;if(t!==null){var n=e.stateNode;switch(e.tag){case 5:e=n;break;default:e=n}typeof t=="function"?t(e):t.current=e}}function am(e){var t=e.alternate;t!==null&&(e.alternate=null,am(t)),e.child=null,e.deletions=null,e.sibling=null,e.tag===5&&(t=e.stateNode,t!==null&&(delete t[zt],delete t[qs],delete t[Lo],delete t[ng],delete t[rg])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function lm(e){return e.tag===5||e.tag===3||e.tag===4}function xd(e){e:for(;;){for(;e.sibling===null;){if(e.return===null||lm(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;e.tag!==5&&e.tag!==6&&e.tag!==18;){if(e.flags&2||e.child===null||e.tag===4)continue e;e.child.return=e,e=e.child}if(!(e.flags&2))return e.stateNode}}function Qo(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.nodeType===8?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(n.nodeType===8?(t=n.parentNode,t.insertBefore(e,n)):(t=n,t.appendChild(e)),n=n._reactRootContainer,n!=null||t.onclick!==null||(t.onclick=gl));else if(r!==4&&(e=e.child,e!==null))for(Qo(e,t,n),e=e.sibling;e!==null;)Qo(e,t,n),e=e.sibling}function Ko(e,t,n){var r=e.tag;if(r===5||r===6)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(r!==4&&(e=e.child,e!==null))for(Ko(e,t,n),e=e.sibling;e!==null;)Ko(e,t,n),e=e.sibling}var $e=null,Et=!1;function yn(e,t,n){for(n=n.child;n!==null;)im(e,t,n),n=n.sibling}function im(e,t,n){if(Ut&&typeof Ut.onCommitFiberUnmount=="function")try{Ut.onCommitFiberUnmount(Kl,n)}catch{}switch(n.tag){case 5:He||Ar(n,t);case 6:var r=$e,s=Et;$e=null,yn(e,t,n),$e=r,Et=s,$e!==null&&(Et?(e=$e,n=n.stateNode,e.nodeType===8?e.parentNode.removeChild(n):e.removeChild(n)):$e.removeChild(n.stateNode));break;case 18:$e!==null&&(Et?(e=$e,n=n.stateNode,e.nodeType===8?Fi(e.parentNode,n):e.nodeType===1&&Fi(e,n),Zs(e)):Fi($e,n.stateNode));break;case 4:r=$e,s=Et,$e=n.stateNode.containerInfo,Et=!0,yn(e,t,n),$e=r,Et=s;break;case 0:case 11:case 14:case 15:if(!He&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var a=s,l=a.destroy;a=a.tag,l!==void 0&&(a&2||a&4)&&Zo(n,t,l),s=s.next}while(s!==r)}yn(e,t,n);break;case 1:if(!He&&(Ar(n,t),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){je(n,t,o)}yn(e,t,n);break;case 21:yn(e,t,n);break;case 22:n.mode&1?(He=(r=He)||n.memoizedState!==null,yn(e,t,n),He=r):yn(e,t,n);break;default:yn(e,t,n)}}function yd(e){var t=e.updateQueue;if(t!==null){e.updateQueue=null;var n=e.stateNode;n===null&&(n=e.stateNode=new vg),t.forEach(function(r){var s=Eg.bind(null,e,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Ct(e,t){var n=t.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var a=e,l=t,o=l;e:for(;o!==null;){switch(o.tag){case 5:$e=o.stateNode,Et=!1;break e;case 3:$e=o.stateNode.containerInfo,Et=!0;break e;case 4:$e=o.stateNode.containerInfo,Et=!0;break e}o=o.return}if($e===null)throw Error(O(160));im(a,l,s),$e=null,Et=!1;var u=s.alternate;u!==null&&(u.return=null),s.return=null}catch(c){je(s,t,c)}}if(t.subtreeFlags&12854)for(t=t.child;t!==null;)om(t,e),t=t.sibling}function om(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(Ct(t,e),$t(e),r&4){try{Ws(3,e,e.return),si(3,e)}catch(j){je(e,e.return,j)}try{Ws(5,e,e.return)}catch(j){je(e,e.return,j)}}break;case 1:Ct(t,e),$t(e),r&512&&n!==null&&Ar(n,n.return);break;case 5:if(Ct(t,e),$t(e),r&512&&n!==null&&Ar(n,n.return),e.flags&32){var s=e.stateNode;try{Bs(s,"")}catch(j){je(e,e.return,j)}}if(r&4&&(s=e.stateNode,s!=null)){var a=e.memoizedProps,l=n!==null?n.memoizedProps:a,o=e.type,u=e.updateQueue;if(e.updateQueue=null,u!==null)try{o==="input"&&a.type==="radio"&&a.name!=null&&Mf(s,a),wo(o,l);var c=wo(o,a);for(l=0;l<u.length;l+=2){var f=u[l],p=u[l+1];f==="style"?Rf(s,p):f==="dangerouslySetInnerHTML"?Of(s,p):f==="children"?Bs(s,p):ju(s,f,p,c)}switch(o){case"input":ho(s,a);break;case"textarea":Pf(s,a);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!a.multiple;var k=a.value;k!=null?Fr(s,!!a.multiple,k,!1):m!==!!a.multiple&&(a.defaultValue!=null?Fr(s,!!a.multiple,a.defaultValue,!0):Fr(s,!!a.multiple,a.multiple?[]:"",!1))}s[qs]=a}catch(j){je(e,e.return,j)}}break;case 6:if(Ct(t,e),$t(e),r&4){if(e.stateNode===null)throw Error(O(162));s=e.stateNode,a=e.memoizedProps;try{s.nodeValue=a}catch(j){je(e,e.return,j)}}break;case 3:if(Ct(t,e),$t(e),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Zs(t.containerInfo)}catch(j){je(e,e.return,j)}break;case 4:Ct(t,e),$t(e);break;case 13:Ct(t,e),$t(e),s=e.child,s.flags&8192&&(a=s.memoizedState!==null,s.stateNode.isHidden=a,!a||s.alternate!==null&&s.alternate.memoizedState!==null||(nc=Se())),r&4&&yd(e);break;case 22:if(f=n!==null&&n.memoizedState!==null,e.mode&1?(He=(c=He)||f,Ct(t,e),He=c):Ct(t,e),$t(e),r&8192){if(c=e.memoizedState!==null,(e.stateNode.isHidden=c)&&!f&&e.mode&1)for(V=e,f=e.child;f!==null;){for(p=V=f;V!==null;){switch(m=V,k=m.child,m.tag){case 0:case 11:case 14:case 15:Ws(4,m,m.return);break;case 1:Ar(m,m.return);var N=m.stateNode;if(typeof N.componentWillUnmount=="function"){r=m,n=m.return;try{t=r,N.props=t.memoizedProps,N.state=t.memoizedState,N.componentWillUnmount()}catch(j){je(r,n,j)}}break;case 5:Ar(m,m.return);break;case 22:if(m.memoizedState!==null){wd(p);continue}}k!==null?(k.return=m,V=k):wd(p)}f=f.sibling}e:for(f=null,p=e;;){if(p.tag===5){if(f===null){f=p;try{s=p.stateNode,c?(a=s.style,typeof a.setProperty=="function"?a.setProperty("display","none","important"):a.display="none"):(o=p.stateNode,u=p.memoizedProps.style,l=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=Lf("display",l))}catch(j){je(e,e.return,j)}}}else if(p.tag===6){if(f===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(j){je(e,e.return,j)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===e)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===e)break e;for(;p.sibling===null;){if(p.return===null||p.return===e)break e;f===p&&(f=null),p=p.return}f===p&&(f=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:Ct(t,e),$t(e),r&4&&yd(e);break;case 21:break;default:Ct(t,e),$t(e)}}function $t(e){var t=e.flags;if(t&2){try{e:{for(var n=e.return;n!==null;){if(lm(n)){var r=n;break e}n=n.return}throw Error(O(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Bs(s,""),r.flags&=-33);var a=xd(e);Ko(e,a,s);break;case 3:case 4:var l=r.stateNode.containerInfo,o=xd(e);Qo(e,o,l);break;default:throw Error(O(161))}}catch(u){je(e,e.return,u)}e.flags&=-3}t&4096&&(e.flags&=-4097)}function kg(e,t,n){V=e,um(e)}function um(e,t,n){for(var r=(e.mode&1)!==0;V!==null;){var s=V,a=s.child;if(s.tag===22&&r){var l=s.memoizedState!==null||$a;if(!l){var o=s.alternate,u=o!==null&&o.memoizedState!==null||He;o=$a;var c=He;if($a=l,(He=u)&&!c)for(V=s;V!==null;)l=V,u=l.child,l.tag===22&&l.memoizedState!==null?kd(s):u!==null?(u.return=l,V=u):kd(s);for(;a!==null;)V=a,um(a),a=a.sibling;V=s,$a=o,He=c}vd(e)}else s.subtreeFlags&8772&&a!==null?(a.return=s,V=a):vd(e)}}function vd(e){for(;V!==null;){var t=V;if(t.flags&8772){var n=t.alternate;try{if(t.flags&8772)switch(t.tag){case 0:case 11:case 15:He||si(5,t);break;case 1:var r=t.stateNode;if(t.flags&4&&!He)if(n===null)r.componentDidMount();else{var s=t.elementType===t.type?n.memoizedProps:Tt(t.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;a!==null&&rd(t,a,r);break;case 3:var l=t.updateQueue;if(l!==null){if(n=null,t.child!==null)switch(t.child.tag){case 5:n=t.child.stateNode;break;case 1:n=t.child.stateNode}rd(t,l,n)}break;case 5:var o=t.stateNode;if(n===null&&t.flags&4){n=o;var u=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&n.focus();break;case"img":u.src&&(n.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(t.memoizedState===null){var c=t.alternate;if(c!==null){var f=c.memoizedState;if(f!==null){var p=f.dehydrated;p!==null&&Zs(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(O(163))}He||t.flags&512&&Go(t)}catch(m){je(t,t.return,m)}}if(t===e){V=null;break}if(n=t.sibling,n!==null){n.return=t.return,V=n;break}V=t.return}}function wd(e){for(;V!==null;){var t=V;if(t===e){V=null;break}var n=t.sibling;if(n!==null){n.return=t.return,V=n;break}V=t.return}}function kd(e){for(;V!==null;){var t=V;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{si(4,t)}catch(u){je(t,n,u)}break;case 1:var r=t.stateNode;if(typeof r.componentDidMount=="function"){var s=t.return;try{r.componentDidMount()}catch(u){je(t,s,u)}}var a=t.return;try{Go(t)}catch(u){je(t,a,u)}break;case 5:var l=t.return;try{Go(t)}catch(u){je(t,l,u)}}}catch(u){je(t,t.return,u)}if(t===e){V=null;break}var o=t.sibling;if(o!==null){o.return=t.return,V=o;break}V=t.return}}var Ng=Math.ceil,Cl=cn.ReactCurrentDispatcher,ec=cn.ReactCurrentOwner,wt=cn.ReactCurrentBatchConfig,le=0,We=null,Ee=null,ze=0,ct=0,Wr=Vn(0),De=0,sa=null,pr=0,ai=0,tc=0,$s=null,st=null,nc=0,qr=1/0,Qt=null,Tl=!1,Xo=null,Ln=null,Fa=!1,Cn=null,El=0,Fs=0,qo=null,sl=-1,al=0;function Je(){return le&6?Se():sl!==-1?sl:sl=Se()}function Rn(e){return e.mode&1?le&2&&ze!==0?ze&-ze:ag.transition!==null?(al===0&&(al=Zf()),al):(e=de,e!==0||(e=window.event,e=e===void 0?16:ep(e.type)),e):1}function Ot(e,t,n,r){if(50<Fs)throw Fs=0,qo=null,Error(O(185));ca(e,n,r),(!(le&2)||e!==We)&&(e===We&&(!(le&2)&&(ai|=n),De===4&&bn(e,ze)),ot(e,r),n===1&&le===0&&!(t.mode&1)&&(qr=Se()+500,ti&&Hn()))}function ot(e,t){var n=e.callbackNode;a0(e,t);var r=fl(e,e===We?ze:0);if(r===0)n!==null&&Mc(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(n!=null&&Mc(n),t===1)e.tag===0?sg(Nd.bind(null,e)):vp(Nd.bind(null,e)),eg(function(){!(le&6)&&Hn()}),n=null;else{switch(Gf(r)){case 1:n=Tu;break;case 4:n=Hf;break;case 16:n=dl;break;case 536870912:n=Yf;break;default:n=dl}n=xm(n,cm.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function cm(e,t){if(sl=-1,al=0,le&6)throw Error(O(327));var n=e.callbackNode;if(Hr()&&e.callbackNode!==n)return null;var r=fl(e,e===We?ze:0);if(r===0)return null;if(r&30||r&e.expiredLanes||t)t=Ml(e,r);else{t=r;var s=le;le|=2;var a=fm();(We!==e||ze!==t)&&(Qt=null,qr=Se()+500,or(e,t));do try{Sg();break}catch(o){dm(e,o)}while(!0);zu(),Cl.current=a,le=s,Ee!==null?t=0:(We=null,ze=0,t=De)}if(t!==0){if(t===2&&(s=So(e),s!==0&&(r=s,t=Jo(e,s))),t===1)throw n=sa,or(e,0),bn(e,r),ot(e,Se()),n;if(t===6)bn(e,r);else{if(s=e.current.alternate,!(r&30)&&!jg(s)&&(t=Ml(e,r),t===2&&(a=So(e),a!==0&&(r=a,t=Jo(e,a))),t===1))throw n=sa,or(e,0),bn(e,r),ot(e,Se()),n;switch(e.finishedWork=s,e.finishedLanes=r,t){case 0:case 1:throw Error(O(345));case 2:er(e,st,Qt);break;case 3:if(bn(e,r),(r&130023424)===r&&(t=nc+500-Se(),10<t)){if(fl(e,0)!==0)break;if(s=e.suspendedLanes,(s&r)!==r){Je(),e.pingedLanes|=e.suspendedLanes&s;break}e.timeoutHandle=Oo(er.bind(null,e,st,Qt),t);break}er(e,st,Qt);break;case 4:if(bn(e,r),(r&4194240)===r)break;for(t=e.eventTimes,s=-1;0<r;){var l=31-Dt(r);a=1<<l,l=t[l],l>s&&(s=l),r&=~a}if(r=s,r=Se()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*Ng(r/1960))-r,10<r){e.timeoutHandle=Oo(er.bind(null,e,st,Qt),r);break}er(e,st,Qt);break;case 5:er(e,st,Qt);break;default:throw Error(O(329))}}}return ot(e,Se()),e.callbackNode===n?cm.bind(null,e):null}function Jo(e,t){var n=$s;return e.current.memoizedState.isDehydrated&&(or(e,t).flags|=256),e=Ml(e,t),e!==2&&(t=st,st=n,t!==null&&eu(t)),e}function eu(e){st===null?st=e:st.push.apply(st,e)}function jg(e){for(var t=e;;){if(t.flags&16384){var n=t.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],a=s.getSnapshot;s=s.value;try{if(!Lt(a(),s))return!1}catch{return!1}}}if(n=t.child,t.subtreeFlags&16384&&n!==null)n.return=t,t=n;else{if(t===e)break;for(;t.sibling===null;){if(t.return===null||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}function bn(e,t){for(t&=~tc,t&=~ai,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-Dt(t),r=1<<n;e[n]=-1,t&=~r}}function Nd(e){if(le&6)throw Error(O(327));Hr();var t=fl(e,0);if(!(t&1))return ot(e,Se()),null;var n=Ml(e,t);if(e.tag!==0&&n===2){var r=So(e);r!==0&&(t=r,n=Jo(e,r))}if(n===1)throw n=sa,or(e,0),bn(e,t),ot(e,Se()),n;if(n===6)throw Error(O(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,er(e,st,Qt),ot(e,Se()),null}function rc(e,t){var n=le;le|=1;try{return e(t)}finally{le=n,le===0&&(qr=Se()+500,ti&&Hn())}}function mr(e){Cn!==null&&Cn.tag===0&&!(le&6)&&Hr();var t=le;le|=1;var n=wt.transition,r=de;try{if(wt.transition=null,de=1,e)return e()}finally{de=r,wt.transition=n,le=t,!(le&6)&&Hn()}}function sc(){ct=Wr.current,xe(Wr)}function or(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(n!==-1&&(e.timeoutHandle=-1,J0(n)),Ee!==null)for(n=Ee.return;n!==null;){var r=n;switch(Wu(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&xl();break;case 3:Kr(),xe(lt),xe(Ye),Zu();break;case 5:Yu(r);break;case 4:Kr();break;case 13:xe(ve);break;case 19:xe(ve);break;case 10:Uu(r.type._context);break;case 22:case 23:sc()}n=n.return}if(We=e,Ee=e=In(e.current,null),ze=ct=t,De=0,sa=null,tc=ai=pr=0,st=$s=null,ar!==null){for(t=0;t<ar.length;t++)if(n=ar[t],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,a=n.pending;if(a!==null){var l=a.next;a.next=s,r.next=l}n.pending=r}ar=null}return e}function dm(e,t){do{var n=Ee;try{if(zu(),tl.current=_l,Sl){for(var r=we.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Sl=!1}if(fr=0,Ie=Me=we=null,As=!1,ta=0,ec.current=null,n===null||n.return===null){De=1,sa=t,Ee=null;break}e:{var a=e,l=n.return,o=n,u=t;if(t=ze,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,f=o,p=f.tag;if(!(f.mode&1)&&(p===0||p===11||p===15)){var m=f.alternate;m?(f.updateQueue=m.updateQueue,f.memoizedState=m.memoizedState,f.lanes=m.lanes):(f.updateQueue=null,f.memoizedState=null)}var k=ud(l);if(k!==null){k.flags&=-257,cd(k,l,o,a,t),k.mode&1&&od(a,c,t),t=k,u=c;var N=t.updateQueue;if(N===null){var j=new Set;j.add(u),t.updateQueue=j}else N.add(u);break e}else{if(!(t&1)){od(a,c,t),ac();break e}u=Error(O(426))}}else if(ye&&o.mode&1){var C=ud(l);if(C!==null){!(C.flags&65536)&&(C.flags|=256),cd(C,l,o,a,t),$u(Xr(u,o));break e}}a=u=Xr(u,o),De!==4&&(De=2),$s===null?$s=[a]:$s.push(a),a=l;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t;var g=Gp(a,u,t);nd(a,g);break e;case 1:o=u;var d=a.type,x=a.stateNode;if(!(a.flags&128)&&(typeof d.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Ln===null||!Ln.has(x)))){a.flags|=65536,t&=-t,a.lanes|=t;var b=Qp(a,o,t);nd(a,b);break e}}a=a.return}while(a!==null)}mm(n)}catch(P){t=P,Ee===n&&n!==null&&(Ee=n=n.return);continue}break}while(!0)}function fm(){var e=Cl.current;return Cl.current=_l,e===null?_l:e}function ac(){(De===0||De===3||De===2)&&(De=4),We===null||!(pr&268435455)&&!(ai&268435455)||bn(We,ze)}function Ml(e,t){var n=le;le|=2;var r=fm();(We!==e||ze!==t)&&(Qt=null,or(e,t));do try{bg();break}catch(s){dm(e,s)}while(!0);if(zu(),le=n,Cl.current=r,Ee!==null)throw Error(O(261));return We=null,ze=0,De}function bg(){for(;Ee!==null;)pm(Ee)}function Sg(){for(;Ee!==null&&!Kh();)pm(Ee)}function pm(e){var t=gm(e.alternate,e,ct);e.memoizedProps=e.pendingProps,t===null?mm(e):Ee=t,ec.current=null}function mm(e){var t=e;do{var n=t.alternate;if(e=t.return,t.flags&32768){if(n=yg(n,t),n!==null){n.flags&=32767,Ee=n;return}if(e!==null)e.flags|=32768,e.subtreeFlags=0,e.deletions=null;else{De=6,Ee=null;return}}else if(n=xg(n,t,ct),n!==null){Ee=n;return}if(t=t.sibling,t!==null){Ee=t;return}Ee=t=e}while(t!==null);De===0&&(De=5)}function er(e,t,n){var r=de,s=wt.transition;try{wt.transition=null,de=1,_g(e,t,n,r)}finally{wt.transition=s,de=r}return null}function _g(e,t,n,r){do Hr();while(Cn!==null);if(le&6)throw Error(O(327));n=e.finishedWork;var s=e.finishedLanes;if(n===null)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(O(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(l0(e,a),e===We&&(Ee=We=null,ze=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Fa||(Fa=!0,xm(dl,function(){return Hr(),null})),a=(n.flags&15990)!==0,n.subtreeFlags&15990||a){a=wt.transition,wt.transition=null;var l=de;de=1;var o=le;le|=4,ec.current=null,wg(e,n),om(n,e),Y0(Po),pl=!!Mo,Po=Mo=null,e.current=n,kg(n),Xh(),le=o,de=l,wt.transition=a}else e.current=n;if(Fa&&(Fa=!1,Cn=e,El=s),a=e.pendingLanes,a===0&&(Ln=null),e0(n.stateNode),ot(e,Se()),t!==null)for(r=e.onRecoverableError,n=0;n<t.length;n++)s=t[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Tl)throw Tl=!1,e=Xo,Xo=null,e;return El&1&&e.tag!==0&&Hr(),a=e.pendingLanes,a&1?e===qo?Fs++:(Fs=0,qo=e):Fs=0,Hn(),null}function Hr(){if(Cn!==null){var e=Gf(El),t=wt.transition,n=de;try{if(wt.transition=null,de=16>e?16:e,Cn===null)var r=!1;else{if(e=Cn,Cn=null,El=0,le&6)throw Error(O(331));var s=le;for(le|=4,V=e.current;V!==null;){var a=V,l=a.child;if(V.flags&16){var o=a.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(V=c;V!==null;){var f=V;switch(f.tag){case 0:case 11:case 15:Ws(8,f,a)}var p=f.child;if(p!==null)p.return=f,V=p;else for(;V!==null;){f=V;var m=f.sibling,k=f.return;if(am(f),f===c){V=null;break}if(m!==null){m.return=k,V=m;break}V=k}}}var N=a.alternate;if(N!==null){var j=N.child;if(j!==null){N.child=null;do{var C=j.sibling;j.sibling=null,j=C}while(j!==null)}}V=a}}if(a.subtreeFlags&2064&&l!==null)l.return=a,V=l;else e:for(;V!==null;){if(a=V,a.flags&2048)switch(a.tag){case 0:case 11:case 15:Ws(9,a,a.return)}var g=a.sibling;if(g!==null){g.return=a.return,V=g;break e}V=a.return}}var d=e.current;for(V=d;V!==null;){l=V;var x=l.child;if(l.subtreeFlags&2064&&x!==null)x.return=l,V=x;else e:for(l=d;V!==null;){if(o=V,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:si(9,o)}}catch(P){je(o,o.return,P)}if(o===l){V=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,V=b;break e}V=o.return}}if(le=s,Hn(),Ut&&typeof Ut.onPostCommitFiberRoot=="function")try{Ut.onPostCommitFiberRoot(Kl,e)}catch{}r=!0}return r}finally{de=n,wt.transition=t}}return!1}function jd(e,t,n){t=Xr(n,t),t=Gp(e,t,1),e=On(e,t,1),t=Je(),e!==null&&(ca(e,1,t),ot(e,t))}function je(e,t,n){if(e.tag===3)jd(e,e,n);else for(;t!==null;){if(t.tag===3){jd(t,e,n);break}else if(t.tag===1){var r=t.stateNode;if(typeof t.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Ln===null||!Ln.has(r))){e=Xr(n,e),e=Qp(t,e,1),t=On(t,e,1),e=Je(),t!==null&&(ca(t,1,e),ot(t,e));break}}t=t.return}}function Cg(e,t,n){var r=e.pingCache;r!==null&&r.delete(t),t=Je(),e.pingedLanes|=e.suspendedLanes&n,We===e&&(ze&n)===n&&(De===4||De===3&&(ze&130023424)===ze&&500>Se()-nc?or(e,0):tc|=n),ot(e,t)}function hm(e,t){t===0&&(e.mode&1?(t=Ma,Ma<<=1,!(Ma&130023424)&&(Ma=4194304)):t=1);var n=Je();e=ln(e,t),e!==null&&(ca(e,t,n),ot(e,n))}function Tg(e){var t=e.memoizedState,n=0;t!==null&&(n=t.retryLane),hm(e,n)}function Eg(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,s=e.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(O(314))}r!==null&&r.delete(t),hm(e,n)}var gm;gm=function(e,t,n){if(e!==null)if(e.memoizedProps!==t.pendingProps||lt.current)at=!0;else{if(!(e.lanes&n)&&!(t.flags&128))return at=!1,gg(e,t,n);at=!!(e.flags&131072)}else at=!1,ye&&t.flags&1048576&&wp(t,wl,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;rl(e,t),e=t.pendingProps;var s=Zr(t,Ye.current);Vr(t,n),s=Qu(null,t,r,e,s,n);var a=Ku();return t.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(t.tag=1,t.memoizedState=null,t.updateQueue=null,it(r)?(a=!0,yl(t)):a=!1,t.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Vu(t),s.updater=ri,t.stateNode=s,s._reactInternals=t,Fo(t,r,e,n),t=Bo(null,t,r,!0,a,n)):(t.tag=0,ye&&a&&Au(t),qe(null,t,s,n),t=t.child),t;case 16:r=t.elementType;e:{switch(rl(e,t),e=t.pendingProps,s=r._init,r=s(r._payload),t.type=r,s=t.tag=Pg(r),e=Tt(r,e),s){case 0:t=Uo(null,t,r,e,n);break e;case 1:t=pd(null,t,r,e,n);break e;case 11:t=dd(null,t,r,e,n);break e;case 14:t=fd(null,t,r,Tt(r.type,e),n);break e}throw Error(O(306,r,""))}return t;case 0:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),Uo(e,t,r,s,n);case 1:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),pd(e,t,r,s,n);case 3:e:{if(Jp(t),e===null)throw Error(O(387));r=t.pendingProps,a=t.memoizedState,s=a.element,_p(e,t),jl(t,r,null,n);var l=t.memoizedState;if(r=l.element,a.isDehydrated)if(a={element:r,isDehydrated:!1,cache:l.cache,pendingSuspenseBoundaries:l.pendingSuspenseBoundaries,transitions:l.transitions},t.updateQueue.baseState=a,t.memoizedState=a,t.flags&256){s=Xr(Error(O(423)),t),t=md(e,t,r,n,s);break e}else if(r!==s){s=Xr(Error(O(424)),t),t=md(e,t,r,n,s);break e}else for(dt=Dn(t.stateNode.containerInfo.firstChild),ft=t,ye=!0,Mt=null,n=bp(t,null,r,n),t.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Gr(),r===s){t=on(e,t,n);break e}qe(e,t,r,n)}t=t.child}return t;case 5:return Cp(t),e===null&&Ao(t),r=t.type,s=t.pendingProps,a=e!==null?e.memoizedProps:null,l=s.children,Do(r,s)?l=null:a!==null&&Do(r,a)&&(t.flags|=32),qp(e,t),qe(e,t,l,n),t.child;case 6:return e===null&&Ao(t),null;case 13:return em(e,t,n);case 4:return Hu(t,t.stateNode.containerInfo),r=t.pendingProps,e===null?t.child=Qr(t,null,r,n):qe(e,t,r,n),t.child;case 11:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),dd(e,t,r,s,n);case 7:return qe(e,t,t.pendingProps,n),t.child;case 8:return qe(e,t,t.pendingProps.children,n),t.child;case 12:return qe(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,s=t.pendingProps,a=t.memoizedProps,l=s.value,me(kl,r._currentValue),r._currentValue=l,a!==null)if(Lt(a.value,l)){if(a.children===s.children&&!lt.current){t=on(e,t,n);break e}}else for(a=t.child,a!==null&&(a.return=t);a!==null;){var o=a.dependencies;if(o!==null){l=a.child;for(var u=o.firstContext;u!==null;){if(u.context===r){if(a.tag===1){u=nn(-1,n&-n),u.tag=2;var c=a.updateQueue;if(c!==null){c=c.shared;var f=c.pending;f===null?u.next=u:(u.next=f.next,f.next=u),c.pending=u}}a.lanes|=n,u=a.alternate,u!==null&&(u.lanes|=n),Wo(a.return,n,t),o.lanes|=n;break}u=u.next}}else if(a.tag===10)l=a.type===t.type?null:a.child;else if(a.tag===18){if(l=a.return,l===null)throw Error(O(341));l.lanes|=n,o=l.alternate,o!==null&&(o.lanes|=n),Wo(l,n,t),l=a.sibling}else l=a.child;if(l!==null)l.return=a;else for(l=a;l!==null;){if(l===t){l=null;break}if(a=l.sibling,a!==null){a.return=l.return,l=a;break}l=l.return}a=l}qe(e,t,s.children,n),t=t.child}return t;case 9:return s=t.type,r=t.pendingProps.children,Vr(t,n),s=kt(s),r=r(s),t.flags|=1,qe(e,t,r,n),t.child;case 14:return r=t.type,s=Tt(r,t.pendingProps),s=Tt(r.type,s),fd(e,t,r,s,n);case 15:return Kp(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,s=t.pendingProps,s=t.elementType===r?s:Tt(r,s),rl(e,t),t.tag=1,it(r)?(e=!0,yl(t)):e=!1,Vr(t,n),Zp(t,r,s),Fo(t,r,s,n),Bo(null,t,r,!0,e,n);case 19:return tm(e,t,n);case 22:return Xp(e,t,n)}throw Error(O(156,t.tag))};function xm(e,t){return Vf(e,t)}function Mg(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function vt(e,t,n,r){return new Mg(e,t,n,r)}function lc(e){return e=e.prototype,!(!e||!e.isReactComponent)}function Pg(e){if(typeof e=="function")return lc(e)?1:0;if(e!=null){if(e=e.$$typeof,e===Su)return 11;if(e===_u)return 14}return 2}function In(e,t){var n=e.alternate;return n===null?(n=vt(e.tag,t,e.key,e.mode),n.elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=e.flags&14680064,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function ll(e,t,n,r,s,a){var l=2;if(r=e,typeof e=="function")lc(e)&&(l=1);else if(typeof e=="string")l=5;else e:switch(e){case Tr:return ur(n.children,s,a,t);case bu:l=8,s|=8;break;case uo:return e=vt(12,n,t,s|2),e.elementType=uo,e.lanes=a,e;case co:return e=vt(13,n,t,s),e.elementType=co,e.lanes=a,e;case fo:return e=vt(19,n,t,s),e.elementType=fo,e.lanes=a,e;case Cf:return li(n,s,a,t);default:if(typeof e=="object"&&e!==null)switch(e.$$typeof){case Sf:l=10;break e;case _f:l=9;break e;case Su:l=11;break e;case _u:l=14;break e;case wn:l=16,r=null;break e}throw Error(O(130,e==null?e:typeof e,""))}return t=vt(l,n,t,s),t.elementType=e,t.type=r,t.lanes=a,t}function ur(e,t,n,r){return e=vt(7,e,r,t),e.lanes=n,e}function li(e,t,n,r){return e=vt(22,e,r,t),e.elementType=Cf,e.lanes=n,e.stateNode={isHidden:!1},e}function Gi(e,t,n){return e=vt(6,e,null,t),e.lanes=n,e}function Qi(e,t,n){return t=vt(4,e.children!==null?e.children:[],e.key,t),t.lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function Dg(e,t,n,r,s){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ei(0),this.expirationTimes=Ei(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ei(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function ic(e,t,n,r,s,a,l,o,u){return e=new Dg(e,t,n,o,u),t===1?(t=1,a===!0&&(t|=8)):t=0,a=vt(3,null,null,t),e.current=a,a.stateNode=e,a.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Vu(a),e}function Og(e,t,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Cr,key:r==null?null:""+r,children:e,containerInfo:t,implementation:n}}function ym(e){if(!e)return Fn;e=e._reactInternals;e:{if(wr(e)!==e||e.tag!==1)throw Error(O(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(it(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(t!==null);throw Error(O(171))}if(e.tag===1){var n=e.type;if(it(n))return yp(e,n,t)}return t}function vm(e,t,n,r,s,a,l,o,u){return e=ic(n,r,!0,e,s,a,l,o,u),e.context=ym(null),n=e.current,r=Je(),s=Rn(n),a=nn(r,s),a.callback=t??null,On(n,a,s),e.current.lanes=s,ca(e,s,r),ot(e,r),e}function ii(e,t,n,r){var s=t.current,a=Je(),l=Rn(s);return n=ym(n),t.context===null?t.context=n:t.pendingContext=n,t=nn(a,l),t.payload={element:e},r=r===void 0?null:r,r!==null&&(t.callback=r),e=On(s,t,l),e!==null&&(Ot(e,s,l,a),el(e,s,l)),l}function Pl(e){if(e=e.current,!e.child)return null;switch(e.child.tag){case 5:return e.child.stateNode;default:return e.child.stateNode}}function bd(e,t){if(e=e.memoizedState,e!==null&&e.dehydrated!==null){var n=e.retryLane;e.retryLane=n!==0&&n<t?n:t}}function oc(e,t){bd(e,t),(e=e.alternate)&&bd(e,t)}function Lg(){return null}var wm=typeof reportError=="function"?reportError:function(e){console.error(e)};function uc(e){this._internalRoot=e}oi.prototype.render=uc.prototype.render=function(e){var t=this._internalRoot;if(t===null)throw Error(O(409));ii(e,t,null,null)};oi.prototype.unmount=uc.prototype.unmount=function(){var e=this._internalRoot;if(e!==null){this._internalRoot=null;var t=e.containerInfo;mr(function(){ii(null,e,null,null)}),t[an]=null}};function oi(e){this._internalRoot=e}oi.prototype.unstable_scheduleHydration=function(e){if(e){var t=Xf();e={blockedOn:null,target:e,priority:t};for(var n=0;n<jn.length&&t!==0&&t<jn[n].priority;n++);jn.splice(n,0,e),n===0&&Jf(e)}};function cc(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11)}function ui(e){return!(!e||e.nodeType!==1&&e.nodeType!==9&&e.nodeType!==11&&(e.nodeType!==8||e.nodeValue!==" react-mount-point-unstable "))}function Sd(){}function Rg(e,t,n,r,s){if(s){if(typeof r=="function"){var a=r;r=function(){var c=Pl(l);a.call(c)}}var l=vm(t,r,e,0,null,!1,!1,"",Sd);return e._reactRootContainer=l,e[an]=l.current,Ks(e.nodeType===8?e.parentNode:e),mr(),l}for(;s=e.lastChild;)e.removeChild(s);if(typeof r=="function"){var o=r;r=function(){var c=Pl(u);o.call(c)}}var u=ic(e,0,!1,null,null,!1,!1,"",Sd);return e._reactRootContainer=u,e[an]=u.current,Ks(e.nodeType===8?e.parentNode:e),mr(function(){ii(t,u,n,r)}),u}function ci(e,t,n,r,s){var a=n._reactRootContainer;if(a){var l=a;if(typeof s=="function"){var o=s;s=function(){var u=Pl(l);o.call(u)}}ii(t,l,e,s)}else l=Rg(n,t,e,s,r);return Pl(l)}Qf=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=Cs(t.pendingLanes);n!==0&&(Eu(t,n|1),ot(t,Se()),!(le&6)&&(qr=Se()+500,Hn()))}break;case 13:mr(function(){var r=ln(e,1);if(r!==null){var s=Je();Ot(r,e,1,s)}}),oc(e,1)}};Mu=function(e){if(e.tag===13){var t=ln(e,134217728);if(t!==null){var n=Je();Ot(t,e,134217728,n)}oc(e,134217728)}};Kf=function(e){if(e.tag===13){var t=Rn(e),n=ln(e,t);if(n!==null){var r=Je();Ot(n,e,t,r)}oc(e,t)}};Xf=function(){return de};qf=function(e,t){var n=de;try{return de=e,t()}finally{de=n}};No=function(e,t,n){switch(t){case"input":if(ho(e,n),t=n.name,n.type==="radio"&&t!=null){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var s=ei(r);if(!s)throw Error(O(90));Ef(r),ho(r,s)}}}break;case"textarea":Pf(e,n);break;case"select":t=n.value,t!=null&&Fr(e,!!n.multiple,t,!1)}};Wf=rc;$f=mr;var Ig={usingClientEntryPoint:!1,Events:[fa,Dr,ei,If,Af,rc]},ws={findFiberByHostInstance:sr,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ag={bundleType:ws.bundleType,version:ws.version,rendererPackageName:ws.rendererPackageName,rendererConfig:ws.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:cn.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return e=Uf(e),e===null?null:e.stateNode},findFiberByHostInstance:ws.findFiberByHostInstance||Lg,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var za=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!za.isDisabled&&za.supportsFiber)try{Kl=za.inject(Ag),Ut=za}catch{}}mt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Ig;mt.createPortal=function(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!cc(t))throw Error(O(200));return Og(e,t,null,n)};mt.createRoot=function(e,t){if(!cc(e))throw Error(O(299));var n=!1,r="",s=wm;return t!=null&&(t.unstable_strictMode===!0&&(n=!0),t.identifierPrefix!==void 0&&(r=t.identifierPrefix),t.onRecoverableError!==void 0&&(s=t.onRecoverableError)),t=ic(e,1,!1,null,null,n,!1,r,s),e[an]=t.current,Ks(e.nodeType===8?e.parentNode:e),new uc(t)};mt.findDOMNode=function(e){if(e==null)return null;if(e.nodeType===1)return e;var t=e._reactInternals;if(t===void 0)throw typeof e.render=="function"?Error(O(188)):(e=Object.keys(e).join(","),Error(O(268,e)));return e=Uf(t),e=e===null?null:e.stateNode,e};mt.flushSync=function(e){return mr(e)};mt.hydrate=function(e,t,n){if(!ui(t))throw Error(O(200));return ci(null,e,t,!0,n)};mt.hydrateRoot=function(e,t,n){if(!cc(e))throw Error(O(405));var r=n!=null&&n.hydratedSources||null,s=!1,a="",l=wm;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(a=n.identifierPrefix),n.onRecoverableError!==void 0&&(l=n.onRecoverableError)),t=vm(t,null,e,1,n??null,s,!1,a,l),e[an]=t.current,Ks(e),r)for(e=0;e<r.length;e++)n=r[e],s=n._getVersion,s=s(n._source),t.mutableSourceEagerHydrationData==null?t.mutableSourceEagerHydrationData=[n,s]:t.mutableSourceEagerHydrationData.push(n,s);return new oi(t)};mt.render=function(e,t,n){if(!ui(t))throw Error(O(200));return ci(null,e,t,!1,n)};mt.unmountComponentAtNode=function(e){if(!ui(e))throw Error(O(40));return e._reactRootContainer?(mr(function(){ci(null,null,e,!1,function(){e._reactRootContainer=null,e[an]=null})}),!0):!1};mt.unstable_batchedUpdates=rc;mt.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!ui(n))throw Error(O(200));if(e==null||e._reactInternals===void 0)throw Error(O(38));return ci(e,t,n,!1,r)};mt.version="18.3.1-next-f1338f8080-20240426";function km(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(km)}catch(e){console.error(e)}}km(),kf.exports=mt;var Nm=kf.exports,_d=Nm;io.createRoot=_d.createRoot,io.hydrateRoot=_d.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function aa(){return aa=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},aa.apply(this,arguments)}var Tn;(function(e){e.Pop="POP",e.Push="PUSH",e.Replace="REPLACE"})(Tn||(Tn={}));const Cd="popstate";function Wg(e){e===void 0&&(e={});function t(r,s){let{pathname:a,search:l,hash:o}=r.location;return tu("",{pathname:a,search:l,hash:o},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Dl(s)}return Fg(t,n,null,e)}function be(e,t){if(e===!1||e===null||typeof e>"u")throw new Error(t)}function jm(e,t){if(!e){typeof console<"u"&&console.warn(t);try{throw new Error(t)}catch{}}}function $g(){return Math.random().toString(36).substr(2,8)}function Td(e,t){return{usr:e.state,key:e.key,idx:t}}function tu(e,t,n,r){return n===void 0&&(n=null),aa({pathname:typeof e=="string"?e:e.pathname,search:"",hash:""},typeof t=="string"?ls(t):t,{state:n,key:t&&t.key||r||$g()})}function Dl(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&n!=="?"&&(t+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function ls(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substr(n),e=e.substr(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substr(r),e=e.substr(0,r)),e&&(t.pathname=e)}return t}function Fg(e,t,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,o=Tn.Pop,u=null,c=f();c==null&&(c=0,l.replaceState(aa({},l.state,{idx:c}),""));function f(){return(l.state||{idx:null}).idx}function p(){o=Tn.Pop;let C=f(),g=C==null?null:C-c;c=C,u&&u({action:o,location:j.location,delta:g})}function m(C,g){o=Tn.Push;let d=tu(j.location,C,g);c=f()+1;let x=Td(d,c),b=j.createHref(d);try{l.pushState(x,"",b)}catch(P){if(P instanceof DOMException&&P.name==="DataCloneError")throw P;s.location.assign(b)}a&&u&&u({action:o,location:j.location,delta:1})}function k(C,g){o=Tn.Replace;let d=tu(j.location,C,g);c=f();let x=Td(d,c),b=j.createHref(d);l.replaceState(x,"",b),a&&u&&u({action:o,location:j.location,delta:0})}function N(C){let g=s.location.origin!=="null"?s.location.origin:s.location.href,d=typeof C=="string"?C:Dl(C);return d=d.replace(/ $/,"%20"),be(g,"No window.location.(origin|href) available to create URL for href: "+d),new URL(d,g)}let j={get action(){return o},get location(){return e(s,l)},listen(C){if(u)throw new Error("A history only accepts one active listener");return s.addEventListener(Cd,p),u=C,()=>{s.removeEventListener(Cd,p),u=null}},createHref(C){return t(s,C)},createURL:N,encodeLocation(C){let g=N(C);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:m,replace:k,go(C){return l.go(C)}};return j}var Ed;(function(e){e.data="data",e.deferred="deferred",e.redirect="redirect",e.error="error"})(Ed||(Ed={}));function zg(e,t,n){return n===void 0&&(n="/"),Ug(e,t,n)}function Ug(e,t,n,r){let s=typeof t=="string"?ls(t):t,a=Jr(s.pathname||"/",n);if(a==null)return null;let l=bm(e);Bg(l);let o=null;for(let u=0;o==null&&u<l.length;++u){let c=ex(a);o=qg(l[u],c)}return o}function bm(e,t,n,r){t===void 0&&(t=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(a,l,o)=>{let u={relativePath:o===void 0?a.path||"":o,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};u.relativePath.startsWith("/")&&(be(u.relativePath.startsWith(r),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(r.length));let c=An([r,u.relativePath]),f=n.concat(u);a.children&&a.children.length>0&&(be(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),bm(a.children,t,f,c)),!(a.path==null&&!a.index)&&t.push({path:c,score:Kg(c,a.index),routesMeta:f})};return e.forEach((a,l)=>{var o;if(a.path===""||!((o=a.path)!=null&&o.includes("?")))s(a,l);else for(let u of Sm(a.path))s(a,l,u)}),t}function Sm(e){let t=e.split("/");if(t.length===0)return[];let[n,...r]=t,s=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=Sm(r.join("/")),o=[];return o.push(...l.map(u=>u===""?a:[a,u].join("/"))),s&&o.push(...l),o.map(u=>e.startsWith("/")&&u===""?"/":u)}function Bg(e){e.sort((t,n)=>t.score!==n.score?n.score-t.score:Xg(t.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Vg=/^:[\w-]+$/,Hg=3,Yg=2,Zg=1,Gg=10,Qg=-2,Md=e=>e==="*";function Kg(e,t){let n=e.split("/"),r=n.length;return n.some(Md)&&(r+=Qg),t&&(r+=Yg),n.filter(s=>!Md(s)).reduce((s,a)=>s+(Vg.test(a)?Hg:a===""?Zg:Gg),r)}function Xg(e,t){return e.length===t.length&&e.slice(0,-1).every((r,s)=>r===t[s])?e[e.length-1]-t[t.length-1]:0}function qg(e,t,n){let{routesMeta:r}=e,s={},a="/",l=[];for(let o=0;o<r.length;++o){let u=r[o],c=o===r.length-1,f=a==="/"?t:t.slice(a.length)||"/",p=nu({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},f),m=u.route;if(!p)return null;Object.assign(s,p.params),l.push({params:s,pathname:An([a,p.pathname]),pathnameBase:sx(An([a,p.pathnameBase])),route:m}),p.pathnameBase!=="/"&&(a=An([a,p.pathnameBase]))}return l}function nu(e,t){typeof e=="string"&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=Jg(e.path,e.caseSensitive,e.end),s=t.match(n);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),o=s.slice(1);return{params:r.reduce((c,f,p)=>{let{paramName:m,isOptional:k}=f;if(m==="*"){let j=o[p]||"";l=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const N=o[p];return k&&!N?c[m]=void 0:c[m]=(N||"").replace(/%2F/g,"/"),c},{}),pathname:a,pathnameBase:l,pattern:e}}function Jg(e,t,n){t===void 0&&(t=!1),n===void 0&&(n=!0),jm(e==="*"||!e.endsWith("*")||e.endsWith("/*"),'Route path "'+e+'" will be treated as if it were '+('"'+e.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+e.replace(/\*$/,"/*")+'".'));let r=[],s="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,o,u)=>(r.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return e.endsWith("*")?(r.push({paramName:"*"}),s+=e==="*"||e==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":e!==""&&e!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,t?void 0:"i"),r]}function ex(e){try{return e.split("/").map(t=>decodeURIComponent(t).replace(/\//g,"%2F")).join("/")}catch(t){return jm(!1,'The URL path "'+e+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+t+").")),e}}function Jr(e,t){if(t==="/")return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&r!=="/"?null:e.slice(n)||"/"}function tx(e,t){t===void 0&&(t="/");let{pathname:n,search:r="",hash:s=""}=typeof e=="string"?ls(e):e;return{pathname:n?n.startsWith("/")?n:nx(n,t):t,search:ax(r),hash:lx(s)}}function nx(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Ki(e,t,n,r){return"Cannot include a '"+e+"' character in a manually specified "+("`to."+t+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function rx(e){return e.filter((t,n)=>n===0||t.route.path&&t.route.path.length>0)}function _m(e,t){let n=rx(e);return t?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Cm(e,t,n,r){r===void 0&&(r=!1);let s;typeof e=="string"?s=ls(e):(s=aa({},e),be(!s.pathname||!s.pathname.includes("?"),Ki("?","pathname","search",s)),be(!s.pathname||!s.pathname.includes("#"),Ki("#","pathname","hash",s)),be(!s.search||!s.search.includes("#"),Ki("#","search","hash",s)));let a=e===""||s.pathname==="",l=a?"/":s.pathname,o;if(l==null)o=n;else{let p=t.length-1;if(!r&&l.startsWith("..")){let m=l.split("/");for(;m[0]==="..";)m.shift(),p-=1;s.pathname=m.join("/")}o=p>=0?t[p]:"/"}let u=tx(s,o),c=l&&l!=="/"&&l.endsWith("/"),f=(a||l===".")&&n.endsWith("/");return!u.pathname.endsWith("/")&&(c||f)&&(u.pathname+="/"),u}const An=e=>e.join("/").replace(/\/\/+/g,"/"),sx=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),ax=e=>!e||e==="?"?"":e.startsWith("?")?e:"?"+e,lx=e=>!e||e==="#"?"":e.startsWith("#")?e:"#"+e;function ix(e){return e!=null&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.internal=="boolean"&&"data"in e}const Tm=["post","put","patch","delete"];new Set(Tm);const ox=["get",...Tm];new Set(ox);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function la(){return la=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},la.apply(this,arguments)}const di=h.createContext(null),Em=h.createContext(null),Yn=h.createContext(null),fi=h.createContext(null),Zn=h.createContext({outlet:null,matches:[],isDataRoute:!1}),Mm=h.createContext(null);function ux(e,t){let{relative:n}=t===void 0?{}:t;ma()||be(!1);let{basename:r,navigator:s}=h.useContext(Yn),{hash:a,pathname:l,search:o}=pi(e,{relative:n}),u=l;return r!=="/"&&(u=l==="/"?r:An([r,l])),s.createHref({pathname:u,search:o,hash:a})}function ma(){return h.useContext(fi)!=null}function ha(){return ma()||be(!1),h.useContext(fi).location}function Pm(e){h.useContext(Yn).static||h.useLayoutEffect(e)}function cx(){let{isDataRoute:e}=h.useContext(Zn);return e?Sx():dx()}function dx(){ma()||be(!1);let e=h.useContext(di),{basename:t,future:n,navigator:r}=h.useContext(Yn),{matches:s}=h.useContext(Zn),{pathname:a}=ha(),l=JSON.stringify(_m(s,n.v7_relativeSplatPath)),o=h.useRef(!1);return Pm(()=>{o.current=!0}),h.useCallback(function(c,f){if(f===void 0&&(f={}),!o.current)return;if(typeof c=="number"){r.go(c);return}let p=Cm(c,JSON.parse(l),a,f.relative==="path");e==null&&t!=="/"&&(p.pathname=p.pathname==="/"?t:An([t,p.pathname])),(f.replace?r.replace:r.push)(p,f.state,f)},[t,r,l,a,e])}const fx=h.createContext(null);function px(e){let t=h.useContext(Zn).outlet;return t&&h.createElement(fx.Provider,{value:e},t)}function pi(e,t){let{relative:n}=t===void 0?{}:t,{future:r}=h.useContext(Yn),{matches:s}=h.useContext(Zn),{pathname:a}=ha(),l=JSON.stringify(_m(s,r.v7_relativeSplatPath));return h.useMemo(()=>Cm(e,JSON.parse(l),a,n==="path"),[e,l,a,n])}function mx(e,t){return hx(e,t)}function hx(e,t,n,r){ma()||be(!1);let{navigator:s}=h.useContext(Yn),{matches:a}=h.useContext(Zn),l=a[a.length-1],o=l?l.params:{};l&&l.pathname;let u=l?l.pathnameBase:"/";l&&l.route;let c=ha(),f;if(t){var p;let C=typeof t=="string"?ls(t):t;u==="/"||(p=C.pathname)!=null&&p.startsWith(u)||be(!1),f=C}else f=c;let m=f.pathname||"/",k=m;if(u!=="/"){let C=u.replace(/^\//,"").split("/");k="/"+m.replace(/^\//,"").split("/").slice(C.length).join("/")}let N=zg(e,{pathname:k}),j=wx(N&&N.map(C=>Object.assign({},C,{params:Object.assign({},o,C.params),pathname:An([u,s.encodeLocation?s.encodeLocation(C.pathname).pathname:C.pathname]),pathnameBase:C.pathnameBase==="/"?u:An([u,s.encodeLocation?s.encodeLocation(C.pathnameBase).pathname:C.pathnameBase])})),a,n,r);return t&&j?h.createElement(fi.Provider,{value:{location:la({pathname:"/",search:"",hash:"",state:null,key:"default"},f),navigationType:Tn.Pop}},j):j}function gx(){let e=bx(),t=ix(e)?e.status+" "+e.statusText:e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return h.createElement(h.Fragment,null,h.createElement("h2",null,"Unexpected Application Error!"),h.createElement("h3",{style:{fontStyle:"italic"}},t),n?h.createElement("pre",{style:s},n):null,null)}const xx=h.createElement(gx,null);class yx extends h.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,n){return n.location!==t.location||n.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:n.error,location:n.location,revalidation:t.revalidation||n.revalidation}}componentDidCatch(t,n){console.error("React Router caught the following error during render",t,n)}render(){return this.state.error!==void 0?h.createElement(Zn.Provider,{value:this.props.routeContext},h.createElement(Mm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vx(e){let{routeContext:t,match:n,children:r}=e,s=h.useContext(di);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),h.createElement(Zn.Provider,{value:t},r)}function wx(e,t,n,r){var s;if(t===void 0&&(t=[]),n===void 0&&(n=null),r===void 0&&(r=null),e==null){var a;if(!n)return null;if(n.errors)e=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&t.length===0&&!n.initialized&&n.matches.length>0)e=n.matches;else return null}let l=e,o=(s=n)==null?void 0:s.errors;if(o!=null){let f=l.findIndex(p=>p.route.id&&(o==null?void 0:o[p.route.id])!==void 0);f>=0||be(!1),l=l.slice(0,Math.min(l.length,f+1))}let u=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let f=0;f<l.length;f++){let p=l[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:m,errors:k}=n,N=p.route.loader&&m[p.route.id]===void 0&&(!k||k[p.route.id]===void 0);if(p.route.lazy||N){u=!0,c>=0?l=l.slice(0,c+1):l=[l[0]];break}}}return l.reduceRight((f,p,m)=>{let k,N=!1,j=null,C=null;n&&(k=o&&p.route.id?o[p.route.id]:void 0,j=p.route.errorElement||xx,u&&(c<0&&m===0?(_x("route-fallback"),N=!0,C=null):c===m&&(N=!0,C=p.route.hydrateFallbackElement||null)));let g=t.concat(l.slice(0,m+1)),d=()=>{let x;return k?x=j:N?x=C:p.route.Component?x=h.createElement(p.route.Component,null):p.route.element?x=p.route.element:x=f,h.createElement(vx,{match:p,routeContext:{outlet:f,matches:g,isDataRoute:n!=null},children:x})};return n&&(p.route.ErrorBoundary||p.route.errorElement||m===0)?h.createElement(yx,{location:n.location,revalidation:n.revalidation,component:j,error:k,children:d(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):d()},null)}var Dm=function(e){return e.UseBlocker="useBlocker",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e}(Dm||{}),Om=function(e){return e.UseBlocker="useBlocker",e.UseLoaderData="useLoaderData",e.UseActionData="useActionData",e.UseRouteError="useRouteError",e.UseNavigation="useNavigation",e.UseRouteLoaderData="useRouteLoaderData",e.UseMatches="useMatches",e.UseRevalidator="useRevalidator",e.UseNavigateStable="useNavigate",e.UseRouteId="useRouteId",e}(Om||{});function kx(e){let t=h.useContext(di);return t||be(!1),t}function Nx(e){let t=h.useContext(Em);return t||be(!1),t}function jx(e){let t=h.useContext(Zn);return t||be(!1),t}function Lm(e){let t=jx(),n=t.matches[t.matches.length-1];return n.route.id||be(!1),n.route.id}function bx(){var e;let t=h.useContext(Mm),n=Nx(),r=Lm();return t!==void 0?t:(e=n.errors)==null?void 0:e[r]}function Sx(){let{router:e}=kx(Dm.UseNavigateStable),t=Lm(Om.UseNavigateStable),n=h.useRef(!1);return Pm(()=>{n.current=!0}),h.useCallback(function(s,a){a===void 0&&(a={}),n.current&&(typeof s=="number"?e.navigate(s):e.navigate(s,la({fromRouteId:t},a)))},[e,t])}const Pd={};function _x(e,t,n){Pd[e]||(Pd[e]=!0)}function Cx(e,t){e==null||e.v7_startTransition,e==null||e.v7_relativeSplatPath}function Tx(e){return px(e.context)}function tr(e){be(!1)}function Ex(e){let{basename:t="/",children:n=null,location:r,navigationType:s=Tn.Pop,navigator:a,static:l=!1,future:o}=e;ma()&&be(!1);let u=t.replace(/^\/*/,"/"),c=h.useMemo(()=>({basename:u,navigator:a,static:l,future:la({v7_relativeSplatPath:!1},o)}),[u,o,a,l]);typeof r=="string"&&(r=ls(r));let{pathname:f="/",search:p="",hash:m="",state:k=null,key:N="default"}=r,j=h.useMemo(()=>{let C=Jr(f,u);return C==null?null:{location:{pathname:C,search:p,hash:m,state:k,key:N},navigationType:s}},[u,f,p,m,k,N,s]);return j==null?null:h.createElement(Yn.Provider,{value:c},h.createElement(fi.Provider,{children:n,value:j}))}function Mx(e){let{children:t,location:n}=e;return mx(ru(t),n)}new Promise(()=>{});function ru(e,t){t===void 0&&(t=[]);let n=[];return h.Children.forEach(e,(r,s)=>{if(!h.isValidElement(r))return;let a=[...t,s];if(r.type===h.Fragment){n.push.apply(n,ru(r.props.children,a));return}r.type!==tr&&be(!1),!r.props.index||!r.props.children||be(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=ru(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Ol(){return Ol=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Ol.apply(this,arguments)}function Rm(e,t){if(e==null)return{};var n={},r=Object.keys(e),s,a;for(a=0;a<r.length;a++)s=r[a],!(t.indexOf(s)>=0)&&(n[s]=e[s]);return n}function Px(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}function Dx(e,t){return e.button===0&&(!t||t==="_self")&&!Px(e)}const Ox=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Lx=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Rx="6";try{window.__reactRouterVersion=Rx}catch{}const Ix=h.createContext({isTransitioning:!1}),Ax="startTransition",Dd=Ch[Ax];function Wx(e){let{basename:t,children:n,future:r,window:s}=e,a=h.useRef();a.current==null&&(a.current=Wg({window:s,v5Compat:!0}));let l=a.current,[o,u]=h.useState({action:l.action,location:l.location}),{v7_startTransition:c}=r||{},f=h.useCallback(p=>{c&&Dd?Dd(()=>u(p)):u(p)},[u,c]);return h.useLayoutEffect(()=>l.listen(f),[l,f]),h.useEffect(()=>Cx(r),[r]),h.createElement(Ex,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:l,future:r})}const $x=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",Fx=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,zx=h.forwardRef(function(t,n){let{onClick:r,relative:s,reloadDocument:a,replace:l,state:o,target:u,to:c,preventScrollReset:f,viewTransition:p}=t,m=Rm(t,Ox),{basename:k}=h.useContext(Yn),N,j=!1;if(typeof c=="string"&&Fx.test(c)&&(N=c,$x))try{let x=new URL(window.location.href),b=c.startsWith("//")?new URL(x.protocol+c):new URL(c),P=Jr(b.pathname,k);b.origin===x.origin&&P!=null?c=P+b.search+b.hash:j=!0}catch{}let C=ux(c,{relative:s}),g=Bx(c,{replace:l,state:o,target:u,preventScrollReset:f,relative:s,viewTransition:p});function d(x){r&&r(x),x.defaultPrevented||g(x)}return h.createElement("a",Ol({},m,{href:N||C,onClick:j||a?r:d,ref:n,target:u}))}),Od=h.forwardRef(function(t,n){let{"aria-current":r="page",caseSensitive:s=!1,className:a="",end:l=!1,style:o,to:u,viewTransition:c,children:f}=t,p=Rm(t,Lx),m=pi(u,{relative:p.relative}),k=ha(),N=h.useContext(Em),{navigator:j,basename:C}=h.useContext(Yn),g=N!=null&&Vx(m)&&c===!0,d=j.encodeLocation?j.encodeLocation(m).pathname:m.pathname,x=k.pathname,b=N&&N.navigation&&N.navigation.location?N.navigation.location.pathname:null;s||(x=x.toLowerCase(),b=b?b.toLowerCase():null,d=d.toLowerCase()),b&&C&&(b=Jr(b,C)||b);const P=d!=="/"&&d.endsWith("/")?d.length-1:d.length;let A=x===d||!l&&x.startsWith(d)&&x.charAt(P)==="/",W=b!=null&&(b===d||!l&&b.startsWith(d)&&b.charAt(d.length)==="/"),S={isActive:A,isPending:W,isTransitioning:g},I=A?r:void 0,w;typeof a=="function"?w=a(S):w=[a,A?"active":null,W?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let _=typeof o=="function"?o(S):o;return h.createElement(zx,Ol({},p,{"aria-current":I,className:w,ref:n,style:_,to:u,viewTransition:c}),typeof f=="function"?f(S):f)});var su;(function(e){e.UseScrollRestoration="useScrollRestoration",e.UseSubmit="useSubmit",e.UseSubmitFetcher="useSubmitFetcher",e.UseFetcher="useFetcher",e.useViewTransitionState="useViewTransitionState"})(su||(su={}));var Ld;(function(e){e.UseFetcher="useFetcher",e.UseFetchers="useFetchers",e.UseScrollRestoration="useScrollRestoration"})(Ld||(Ld={}));function Ux(e){let t=h.useContext(di);return t||be(!1),t}function Bx(e,t){let{target:n,replace:r,state:s,preventScrollReset:a,relative:l,viewTransition:o}=t===void 0?{}:t,u=cx(),c=ha(),f=pi(e,{relative:l});return h.useCallback(p=>{if(Dx(p,n)){p.preventDefault();let m=r!==void 0?r:Dl(c)===Dl(f);u(e,{replace:m,state:s,preventScrollReset:a,relative:l,viewTransition:o})}},[c,u,f,r,s,n,e,a,l,o])}function Vx(e,t){t===void 0&&(t={});let n=h.useContext(Ix);n==null&&be(!1);let{basename:r}=Ux(su.useViewTransitionState),s=pi(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=Jr(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=Jr(n.nextLocation.pathname,r)||n.nextLocation.pathname;return nu(s.pathname,l)!=null||nu(s.pathname,a)!=null}function ie(e){const t=Object.prototype.toString.call(e);return e instanceof Date||typeof e=="object"&&t==="[object Date]"?new e.constructor(+e):typeof e=="number"||t==="[object Number]"||typeof e=="string"||t==="[object String]"?new Date(e):new Date(NaN)}function Rt(e,t){return e instanceof Date?new e.constructor(t):new Date(t)}function au(e,t){const n=ie(e);return isNaN(t)?Rt(e,NaN):(t&&n.setDate(n.getDate()+t),n)}function Hx(e,t){const n=ie(e);if(isNaN(t))return Rt(e,NaN);if(!t)return n;const r=n.getDate(),s=Rt(e,n.getTime());s.setMonth(n.getMonth()+t+1,0);const a=s.getDate();return r>=a?s:(n.setFullYear(s.getFullYear(),s.getMonth(),r),n)}function Yx(e,t){const n=+ie(e);return Rt(e,n+t)}const dc=6048e5,Zx=864e5,mi=6e4,Im=36e5;let Gx={};function hi(){return Gx}function Pe(e,t){var o,u,c,f;const n=hi(),r=(t==null?void 0:t.weekStartsOn)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??n.weekStartsOn??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.weekStartsOn)??0,s=ie(e),a=s.getDay(),l=(a<r?7:0)+a-r;return s.setDate(s.getDate()-l),s.setHours(0,0,0,0),s}function Ll(e){return Pe(e,{weekStartsOn:1})}function Am(e){const t=ie(e),n=t.getFullYear(),r=Rt(e,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Ll(r),a=Rt(e,0);a.setFullYear(n,0,4),a.setHours(0,0,0,0);const l=Ll(a);return t.getTime()>=s.getTime()?n+1:t.getTime()>=l.getTime()?n:n-1}function Rl(e){const t=ie(e);return t.setHours(0,0,0,0),t}function Il(e){const t=ie(e),n=new Date(Date.UTC(t.getFullYear(),t.getMonth(),t.getDate(),t.getHours(),t.getMinutes(),t.getSeconds(),t.getMilliseconds()));return n.setUTCFullYear(t.getFullYear()),+e-+n}function Qx(e,t){const n=Rl(e),r=Rl(t),s=+n-Il(n),a=+r-Il(r);return Math.round((s-a)/Zx)}function Kx(e){const t=Am(e),n=Rt(e,0);return n.setFullYear(t,0,4),n.setHours(0,0,0,0),Ll(n)}function Xx(e,t){return Yx(e,t*mi)}function Wm(e,t){const n=t*7;return au(e,n)}function Rd(e,t){const n=ie(e),r=ie(t),s=n.getTime()-r.getTime();return s<0?-1:s>0?1:s}function qx(e){return e instanceof Date||typeof e=="object"&&Object.prototype.toString.call(e)==="[object Date]"}function Jx(e){if(!qx(e)&&typeof e!="number")return!1;const t=ie(e);return!isNaN(Number(t))}function ey(e,t,n){const r=Pe(e,n),s=Pe(t,n),a=+r-Il(r),l=+s-Il(s);return Math.round((a-l)/dc)}function ty(e,t){const n=ie(e),r=ie(t);return n.getFullYear()-r.getFullYear()}function ny(e){return t=>{const n=Math.trunc,r=n(t);return r===0?0:r}}function ry(e,t){return+ie(e)-+ie(t)}function lu(e,t,n){const r=ry(e,t)/mi;return ny()(r)}function Id(e){const t=ie(e),n=t.getMonth();return t.setFullYear(t.getFullYear(),n+1,0),t.setHours(23,59,59,999),t}function sy(e,t){const n=ie(e),r=ie(t),s=Rd(n,r),a=Math.abs(ty(n,r));n.setFullYear(1584),r.setFullYear(1584);const l=Rd(n,r)===-s,o=s*(a-+l);return o===0?0:o}function Ad(e,t){const n=ie(e.start),r=ie(e.end);let s=+n>+r;const a=s?+n:+r,l=s?r:n;l.setHours(0,0,0,0);let o=1;const u=[];for(;+l<=a;)u.push(ie(l)),l.setDate(l.getDate()+o),l.setHours(0,0,0,0);return s?u.reverse():u}function qn(e){const t=ie(e);return t.setDate(1),t.setHours(0,0,0,0),t}function ay(e){const t=ie(e),n=Rt(e,0);return n.setFullYear(t.getFullYear(),0,1),n.setHours(0,0,0,0),n}function ly(e,t){const n=t==null?void 0:t.weekStartsOn,r=ie(e),s=r.getDay(),a=(s<n?-7:0)+6-(s-n);return r.setDate(r.getDate()+a),r.setHours(23,59,59,999),r}const iy={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},oy=(e,t,n)=>{let r;const s=iy[e];return typeof s=="string"?r=s:t===1?r=s.one:r=s.other.replace("{{count}}",t.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Xi(e){return(t={})=>{const n=t.width?String(t.width):e.defaultWidth;return e.formats[n]||e.formats[e.defaultWidth]}}const uy={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},cy={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},dy={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},fy={date:Xi({formats:uy,defaultWidth:"full"}),time:Xi({formats:cy,defaultWidth:"full"}),dateTime:Xi({formats:dy,defaultWidth:"full"})},py={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},my=(e,t,n,r)=>py[e];function ks(e){return(t,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&e.formattingValues){const l=e.defaultFormattingWidth||e.defaultWidth,o=n!=null&&n.width?String(n.width):l;s=e.formattingValues[o]||e.formattingValues[l]}else{const l=e.defaultWidth,o=n!=null&&n.width?String(n.width):e.defaultWidth;s=e.values[o]||e.values[l]}const a=e.argumentCallback?e.argumentCallback(t):t;return s[a]}}const hy={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},gy={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},xy={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},yy={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},vy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},wy={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ky=(e,t)=>{const n=Number(e),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},Ny={ordinalNumber:ky,era:ks({values:hy,defaultWidth:"wide"}),quarter:ks({values:gy,defaultWidth:"wide",argumentCallback:e=>e-1}),month:ks({values:xy,defaultWidth:"wide"}),day:ks({values:yy,defaultWidth:"wide"}),dayPeriod:ks({values:vy,defaultWidth:"wide",formattingValues:wy,defaultFormattingWidth:"wide"})};function Ns(e){return(t,n={})=>{const r=n.width,s=r&&e.matchPatterns[r]||e.matchPatterns[e.defaultMatchWidth],a=t.match(s);if(!a)return null;const l=a[0],o=r&&e.parsePatterns[r]||e.parsePatterns[e.defaultParseWidth],u=Array.isArray(o)?by(o,p=>p.test(l)):jy(o,p=>p.test(l));let c;c=e.valueCallback?e.valueCallback(u):u,c=n.valueCallback?n.valueCallback(c):c;const f=t.slice(l.length);return{value:c,rest:f}}}function jy(e,t){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&t(e[n]))return n}function by(e,t){for(let n=0;n<e.length;n++)if(t(e[n]))return n}function Sy(e){return(t,n={})=>{const r=t.match(e.matchPattern);if(!r)return null;const s=r[0],a=t.match(e.parsePattern);if(!a)return null;let l=e.valueCallback?e.valueCallback(a[0]):a[0];l=n.valueCallback?n.valueCallback(l):l;const o=t.slice(s.length);return{value:l,rest:o}}}const _y=/^(\d+)(th|st|nd|rd)?/i,Cy=/\d+/i,Ty={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Ey={any:[/^b/i,/^(a|c)/i]},My={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Py={any:[/1/i,/2/i,/3/i,/4/i]},Dy={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Oy={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Ly={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Ry={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Iy={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Ay={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Wy={ordinalNumber:Sy({matchPattern:_y,parsePattern:Cy,valueCallback:e=>parseInt(e,10)}),era:Ns({matchPatterns:Ty,defaultMatchWidth:"wide",parsePatterns:Ey,defaultParseWidth:"any"}),quarter:Ns({matchPatterns:My,defaultMatchWidth:"wide",parsePatterns:Py,defaultParseWidth:"any",valueCallback:e=>e+1}),month:Ns({matchPatterns:Dy,defaultMatchWidth:"wide",parsePatterns:Oy,defaultParseWidth:"any"}),day:Ns({matchPatterns:Ly,defaultMatchWidth:"wide",parsePatterns:Ry,defaultParseWidth:"any"}),dayPeriod:Ns({matchPatterns:Iy,defaultMatchWidth:"any",parsePatterns:Ay,defaultParseWidth:"any"})},$y={code:"en-US",formatDistance:oy,formatLong:fy,formatRelative:my,localize:Ny,match:Wy,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Fy(e){const t=ie(e);return Qx(t,ay(t))+1}function zy(e){const t=ie(e),n=+Ll(t)-+Kx(t);return Math.round(n/dc)+1}function $m(e,t){var f,p,m,k;const n=ie(e),r=n.getFullYear(),s=hi(),a=(t==null?void 0:t.firstWeekContainsDate)??((p=(f=t==null?void 0:t.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??s.firstWeekContainsDate??((k=(m=s.locale)==null?void 0:m.options)==null?void 0:k.firstWeekContainsDate)??1,l=Rt(e,0);l.setFullYear(r+1,0,a),l.setHours(0,0,0,0);const o=Pe(l,t),u=Rt(e,0);u.setFullYear(r,0,a),u.setHours(0,0,0,0);const c=Pe(u,t);return n.getTime()>=o.getTime()?r+1:n.getTime()>=c.getTime()?r:r-1}function Uy(e,t){var o,u,c,f;const n=hi(),r=(t==null?void 0:t.firstWeekContainsDate)??((u=(o=t==null?void 0:t.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,s=$m(e,t),a=Rt(e,0);return a.setFullYear(s,0,r),a.setHours(0,0,0,0),Pe(a,t)}function By(e,t){const n=ie(e),r=+Pe(n,t)-+Uy(n,t);return Math.round(r/dc)+1}function ce(e,t){const n=e<0?"-":"",r=Math.abs(e).toString().padStart(t,"0");return n+r}const vn={y(e,t){const n=e.getFullYear(),r=n>0?n:1-n;return ce(t==="yy"?r%100:r,t.length)},M(e,t){const n=e.getMonth();return t==="M"?String(n+1):ce(n+1,2)},d(e,t){return ce(e.getDate(),t.length)},a(e,t){const n=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(e,t){return ce(e.getHours()%12||12,t.length)},H(e,t){return ce(e.getHours(),t.length)},m(e,t){return ce(e.getMinutes(),t.length)},s(e,t){return ce(e.getSeconds(),t.length)},S(e,t){const n=t.length,r=e.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return ce(s,t.length)}},br={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Wd={G:function(e,t,n){const r=e.getFullYear()>0?1:0;switch(t){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(e,t,n){if(t==="yo"){const r=e.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return vn.y(e,t)},Y:function(e,t,n,r){const s=$m(e,r),a=s>0?s:1-s;if(t==="YY"){const l=a%100;return ce(l,2)}return t==="Yo"?n.ordinalNumber(a,{unit:"year"}):ce(a,t.length)},R:function(e,t){const n=Am(e);return ce(n,t.length)},u:function(e,t){const n=e.getFullYear();return ce(n,t.length)},Q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"Q":return String(r);case"QQ":return ce(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(e,t,n){const r=Math.ceil((e.getMonth()+1)/3);switch(t){case"q":return String(r);case"qq":return ce(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(e,t,n){const r=e.getMonth();switch(t){case"M":case"MM":return vn.M(e,t);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(e,t,n){const r=e.getMonth();switch(t){case"L":return String(r+1);case"LL":return ce(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(e,t,n,r){const s=By(e,r);return t==="wo"?n.ordinalNumber(s,{unit:"week"}):ce(s,t.length)},I:function(e,t,n){const r=zy(e);return t==="Io"?n.ordinalNumber(r,{unit:"week"}):ce(r,t.length)},d:function(e,t,n){return t==="do"?n.ordinalNumber(e.getDate(),{unit:"date"}):vn.d(e,t)},D:function(e,t,n){const r=Fy(e);return t==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):ce(r,t.length)},E:function(e,t,n){const r=e.getDay();switch(t){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"e":return String(a);case"ee":return ce(a,2);case"eo":return n.ordinalNumber(a,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(e,t,n,r){const s=e.getDay(),a=(s-r.weekStartsOn+8)%7||7;switch(t){case"c":return String(a);case"cc":return ce(a,t.length);case"co":return n.ordinalNumber(a,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(e,t,n){const r=e.getDay(),s=r===0?7:r;switch(t){case"i":return String(s);case"ii":return ce(s,t.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(e,t,n){const s=e.getHours()/12>=1?"pm":"am";switch(t){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(e,t,n){const r=e.getHours();let s;switch(r===12?s=br.noon:r===0?s=br.midnight:s=r/12>=1?"pm":"am",t){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(e,t,n){const r=e.getHours();let s;switch(r>=17?s=br.evening:r>=12?s=br.afternoon:r>=4?s=br.morning:s=br.night,t){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(e,t,n){if(t==="ho"){let r=e.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return vn.h(e,t)},H:function(e,t,n){return t==="Ho"?n.ordinalNumber(e.getHours(),{unit:"hour"}):vn.H(e,t)},K:function(e,t,n){const r=e.getHours()%12;return t==="Ko"?n.ordinalNumber(r,{unit:"hour"}):ce(r,t.length)},k:function(e,t,n){let r=e.getHours();return r===0&&(r=24),t==="ko"?n.ordinalNumber(r,{unit:"hour"}):ce(r,t.length)},m:function(e,t,n){return t==="mo"?n.ordinalNumber(e.getMinutes(),{unit:"minute"}):vn.m(e,t)},s:function(e,t,n){return t==="so"?n.ordinalNumber(e.getSeconds(),{unit:"second"}):vn.s(e,t)},S:function(e,t){return vn.S(e,t)},X:function(e,t,n){const r=e.getTimezoneOffset();if(r===0)return"Z";switch(t){case"X":return Fd(r);case"XXXX":case"XX":return nr(r);case"XXXXX":case"XXX":default:return nr(r,":")}},x:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"x":return Fd(r);case"xxxx":case"xx":return nr(r);case"xxxxx":case"xxx":default:return nr(r,":")}},O:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"O":case"OO":case"OOO":return"GMT"+$d(r,":");case"OOOO":default:return"GMT"+nr(r,":")}},z:function(e,t,n){const r=e.getTimezoneOffset();switch(t){case"z":case"zz":case"zzz":return"GMT"+$d(r,":");case"zzzz":default:return"GMT"+nr(r,":")}},t:function(e,t,n){const r=Math.trunc(e.getTime()/1e3);return ce(r,t.length)},T:function(e,t,n){const r=e.getTime();return ce(r,t.length)}};function $d(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=Math.trunc(r/60),a=r%60;return a===0?n+String(s):n+String(s)+t+ce(a,2)}function Fd(e,t){return e%60===0?(e>0?"-":"+")+ce(Math.abs(e)/60,2):nr(e,t)}function nr(e,t=""){const n=e>0?"-":"+",r=Math.abs(e),s=ce(Math.trunc(r/60),2),a=ce(r%60,2);return n+s+t+a}const zd=(e,t)=>{switch(e){case"P":return t.date({width:"short"});case"PP":return t.date({width:"medium"});case"PPP":return t.date({width:"long"});case"PPPP":default:return t.date({width:"full"})}},Fm=(e,t)=>{switch(e){case"p":return t.time({width:"short"});case"pp":return t.time({width:"medium"});case"ppp":return t.time({width:"long"});case"pppp":default:return t.time({width:"full"})}},Vy=(e,t)=>{const n=e.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zd(e,t);let a;switch(r){case"P":a=t.dateTime({width:"short"});break;case"PP":a=t.dateTime({width:"medium"});break;case"PPP":a=t.dateTime({width:"long"});break;case"PPPP":default:a=t.dateTime({width:"full"});break}return a.replace("{{date}}",zd(r,t)).replace("{{time}}",Fm(s,t))},Hy={p:Fm,P:Vy},Yy=/^D+$/,Zy=/^Y+$/,Gy=["D","DD","YY","YYYY"];function Qy(e){return Yy.test(e)}function Ky(e){return Zy.test(e)}function Xy(e,t,n){const r=qy(e,t,n);if(console.warn(r),Gy.includes(e))throw new RangeError(r)}function qy(e,t,n){const r=e[0]==="Y"?"years":"days of the month";return`Use \`${e.toLowerCase()}\` instead of \`${e}\` (in \`${t}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Jy=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,ev=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,tv=/^'([^]*?)'?$/,nv=/''/g,rv=/[a-zA-Z]/;function oe(e,t,n){var f,p,m,k;const r=hi(),s=r.locale??$y,a=r.firstWeekContainsDate??((p=(f=r.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,l=r.weekStartsOn??((k=(m=r.locale)==null?void 0:m.options)==null?void 0:k.weekStartsOn)??0,o=ie(e);if(!Jx(o))throw new RangeError("Invalid time value");let u=t.match(ev).map(N=>{const j=N[0];if(j==="p"||j==="P"){const C=Hy[j];return C(N,s.formatLong)}return N}).join("").match(Jy).map(N=>{if(N==="''")return{isToken:!1,value:"'"};const j=N[0];if(j==="'")return{isToken:!1,value:sv(N)};if(Wd[j])return{isToken:!0,value:N};if(j.match(rv))throw new RangeError("Format string contains an unescaped latin alphabet character `"+j+"`");return{isToken:!1,value:N}});s.localize.preprocessor&&(u=s.localize.preprocessor(o,u));const c={firstWeekContainsDate:a,weekStartsOn:l,locale:s};return u.map(N=>{if(!N.isToken)return N.value;const j=N.value;(Ky(j)||Qy(j))&&Xy(j,t,String(e));const C=Wd[j[0]];return C(o,j,s.localize,c)}).join("")}function sv(e){const t=e.match(tv);return t?t[1].replace(nv,"'"):e}function qi(e){return ie(e).getFullYear()}function iu(e,t){const n=ie(e),r=ie(t);return+n<+r}function av(e,t,n){const r=Pe(e,n),s=Pe(t,n);return+r==+s}function lv(e,t){const n=ie(e),r=ie(t);return n.getFullYear()===r.getFullYear()&&n.getMonth()===r.getMonth()}function Ae(e,t){const r=cv(e);let s;if(r.date){const u=dv(r.date,2);s=fv(u.restDateString,u.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const a=s.getTime();let l=0,o;if(r.time&&(l=pv(r.time),isNaN(l)))return new Date(NaN);if(r.timezone){if(o=mv(r.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(a+l),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(a+l+o)}const Ua={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},iv=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,ov=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,uv=/^([+-])(\d{2})(?::?(\d{2}))?$/;function cv(e){const t={},n=e.split(Ua.dateTimeDelimiter);let r;if(n.length>2)return t;if(/:/.test(n[0])?r=n[0]:(t.date=n[0],r=n[1],Ua.timeZoneDelimiter.test(t.date)&&(t.date=e.split(Ua.timeZoneDelimiter)[0],r=e.substr(t.date.length,e.length))),r){const s=Ua.timezone.exec(r);s?(t.time=r.replace(s[1],""),t.timezone=s[1]):t.time=r}return t}function dv(e,t){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+t)+"})|(\\d{2}|[+-]\\d{"+(2+t)+"})$)"),r=e.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,a=r[2]?parseInt(r[2]):null;return{year:a===null?s:a*100,restDateString:e.slice((r[1]||r[2]).length)}}function fv(e,t){if(t===null)return new Date(NaN);const n=e.match(iv);if(!n)return new Date(NaN);const r=!!n[4],s=js(n[1]),a=js(n[2])-1,l=js(n[3]),o=js(n[4]),u=js(n[5])-1;if(r)return vv(t,o,u)?hv(t,o,u):new Date(NaN);{const c=new Date(0);return!xv(t,a,l)||!yv(t,s)?new Date(NaN):(c.setUTCFullYear(t,a,Math.max(s,l)),c)}}function js(e){return e?parseInt(e):1}function pv(e){const t=e.match(ov);if(!t)return NaN;const n=Ji(t[1]),r=Ji(t[2]),s=Ji(t[3]);return wv(n,r,s)?n*Im+r*mi+s*1e3:NaN}function Ji(e){return e&&parseFloat(e.replace(",","."))||0}function mv(e){if(e==="Z")return 0;const t=e.match(uv);if(!t)return 0;const n=t[1]==="+"?-1:1,r=parseInt(t[2]),s=t[3]&&parseInt(t[3])||0;return kv(r,s)?n*(r*Im+s*mi):NaN}function hv(e,t,n){const r=new Date(0);r.setUTCFullYear(e,0,4);const s=r.getUTCDay()||7,a=(t-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+a),r}const gv=[31,null,31,30,31,30,31,31,30,31,30,31];function zm(e){return e%400===0||e%4===0&&e%100!==0}function xv(e,t,n){return t>=0&&t<=11&&n>=1&&n<=(gv[t]||(zm(e)?29:28))}function yv(e,t){return t>=1&&t<=(zm(e)?366:365)}function vv(e,t,n){return t>=1&&t<=53&&n>=0&&n<=6}function wv(e,t,n){return e===24?t===0&&n===0:n>=0&&n<60&&t>=0&&t<60&&e>=0&&e<25}function kv(e,t){return t>=0&&t<=59}function Nv(e,t){return Xx(e,-1)}function Es(){if(typeof globalThis.crypto<"u"){if("randomUUID"in globalThis.crypto)return globalThis.crypto.randomUUID();if("getRandomValues"in globalThis.crypto){const e=new Uint32Array(4);return(globalThis==null?void 0:globalThis.crypto).getRandomValues(e),Array.from(e,t=>t.toString(16).padStart(8,"0")).join("")}}return`${Date.now().toString(16)}-${Math.random().toString(16).slice(2)}`}function fc(e){return new Promise((t,n)=>{e.oncomplete=e.onsuccess=()=>t(e.result),e.onabort=e.onerror=()=>n(e.error)})}function jv(e,t){let n;const r=()=>{if(n)return n;const s=indexedDB.open(e);return s.onupgradeneeded=()=>s.result.createObjectStore(t),n=fc(s),n.then(a=>{a.onclose=()=>n=void 0},()=>{}),n};return(s,a)=>r().then(l=>a(l.transaction(t,s).objectStore(t)))}let eo;function Um(){return eo||(eo=jv("keyval-store","keyval")),eo}function bv(e,t=Um()){return t("readonly",n=>fc(n.get(e)))}function Sv(e,t,n=Um()){return n("readwrite",r=>(r.put(t,e),fc(r.transaction)))}var ae;(function(e){e.assertEqual=s=>{};function t(s){}e.assertIs=t;function n(s){throw new Error}e.assertNever=n,e.arrayToEnum=s=>{const a={};for(const l of s)a[l]=l;return a},e.getValidEnumValues=s=>{const a=e.objectKeys(s).filter(o=>typeof s[s[o]]!="number"),l={};for(const o of a)l[o]=s[o];return e.objectValues(l)},e.objectValues=s=>e.objectKeys(s).map(function(a){return s[a]}),e.objectKeys=typeof Object.keys=="function"?s=>Object.keys(s):s=>{const a=[];for(const l in s)Object.prototype.hasOwnProperty.call(s,l)&&a.push(l);return a},e.find=(s,a)=>{for(const l of s)if(a(l))return l},e.isInteger=typeof Number.isInteger=="function"?s=>Number.isInteger(s):s=>typeof s=="number"&&Number.isFinite(s)&&Math.floor(s)===s;function r(s,a=" | "){return s.map(l=>typeof l=="string"?`'${l}'`:l).join(a)}e.joinValues=r,e.jsonStringifyReplacer=(s,a)=>typeof a=="bigint"?a.toString():a})(ae||(ae={}));var Ud;(function(e){e.mergeShapes=(t,n)=>({...t,...n})})(Ud||(Ud={}));const H=ae.arrayToEnum(["string","nan","number","integer","float","boolean","date","bigint","symbol","function","undefined","null","array","object","unknown","promise","void","never","map","set"]),Nn=e=>{switch(typeof e){case"undefined":return H.undefined;case"string":return H.string;case"number":return Number.isNaN(e)?H.nan:H.number;case"boolean":return H.boolean;case"function":return H.function;case"bigint":return H.bigint;case"symbol":return H.symbol;case"object":return Array.isArray(e)?H.array:e===null?H.null:e.then&&typeof e.then=="function"&&e.catch&&typeof e.catch=="function"?H.promise:typeof Map<"u"&&e instanceof Map?H.map:typeof Set<"u"&&e instanceof Set?H.set:typeof Date<"u"&&e instanceof Date?H.date:H.object;default:return H.unknown}},R=ae.arrayToEnum(["invalid_type","invalid_literal","custom","invalid_union","invalid_union_discriminator","invalid_enum_value","unrecognized_keys","invalid_arguments","invalid_return_type","invalid_date","invalid_string","too_small","too_big","invalid_intersection_types","not_multiple_of","not_finite"]);class un extends Error{get errors(){return this.issues}constructor(t){super(),this.issues=[],this.addIssue=r=>{this.issues=[...this.issues,r]},this.addIssues=(r=[])=>{this.issues=[...this.issues,...r]};const n=new.target.prototype;Object.setPrototypeOf?Object.setPrototypeOf(this,n):this.__proto__=n,this.name="ZodError",this.issues=t}format(t){const n=t||function(a){return a.message},r={_errors:[]},s=a=>{for(const l of a.issues)if(l.code==="invalid_union")l.unionErrors.map(s);else if(l.code==="invalid_return_type")s(l.returnTypeError);else if(l.code==="invalid_arguments")s(l.argumentsError);else if(l.path.length===0)r._errors.push(n(l));else{let o=r,u=0;for(;u<l.path.length;){const c=l.path[u];u===l.path.length-1?(o[c]=o[c]||{_errors:[]},o[c]._errors.push(n(l))):o[c]=o[c]||{_errors:[]},o=o[c],u++}}};return s(this),r}static assert(t){if(!(t instanceof un))throw new Error(`Not a ZodError: ${t}`)}toString(){return this.message}get message(){return JSON.stringify(this.issues,ae.jsonStringifyReplacer,2)}get isEmpty(){return this.issues.length===0}flatten(t=n=>n.message){const n={},r=[];for(const s of this.issues)if(s.path.length>0){const a=s.path[0];n[a]=n[a]||[],n[a].push(t(s))}else r.push(t(s));return{formErrors:r,fieldErrors:n}}get formErrors(){return this.flatten()}}un.create=e=>new un(e);const ou=(e,t)=>{let n;switch(e.code){case R.invalid_type:e.received===H.undefined?n="Required":n=`Expected ${e.expected}, received ${e.received}`;break;case R.invalid_literal:n=`Invalid literal value, expected ${JSON.stringify(e.expected,ae.jsonStringifyReplacer)}`;break;case R.unrecognized_keys:n=`Unrecognized key(s) in object: ${ae.joinValues(e.keys,", ")}`;break;case R.invalid_union:n="Invalid input";break;case R.invalid_union_discriminator:n=`Invalid discriminator value. Expected ${ae.joinValues(e.options)}`;break;case R.invalid_enum_value:n=`Invalid enum value. Expected ${ae.joinValues(e.options)}, received '${e.received}'`;break;case R.invalid_arguments:n="Invalid function arguments";break;case R.invalid_return_type:n="Invalid function return type";break;case R.invalid_date:n="Invalid date";break;case R.invalid_string:typeof e.validation=="object"?"includes"in e.validation?(n=`Invalid input: must include "${e.validation.includes}"`,typeof e.validation.position=="number"&&(n=`${n} at one or more positions greater than or equal to ${e.validation.position}`)):"startsWith"in e.validation?n=`Invalid input: must start with "${e.validation.startsWith}"`:"endsWith"in e.validation?n=`Invalid input: must end with "${e.validation.endsWith}"`:ae.assertNever(e.validation):e.validation!=="regex"?n=`Invalid ${e.validation}`:n="Invalid";break;case R.too_small:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at least":"more than"} ${e.minimum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at least":"over"} ${e.minimum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="bigint"?n=`Number must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${e.minimum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly equal to ":e.inclusive?"greater than or equal to ":"greater than "}${new Date(Number(e.minimum))}`:n="Invalid input";break;case R.too_big:e.type==="array"?n=`Array must contain ${e.exact?"exactly":e.inclusive?"at most":"less than"} ${e.maximum} element(s)`:e.type==="string"?n=`String must contain ${e.exact?"exactly":e.inclusive?"at most":"under"} ${e.maximum} character(s)`:e.type==="number"?n=`Number must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="bigint"?n=`BigInt must be ${e.exact?"exactly":e.inclusive?"less than or equal to":"less than"} ${e.maximum}`:e.type==="date"?n=`Date must be ${e.exact?"exactly":e.inclusive?"smaller than or equal to":"smaller than"} ${new Date(Number(e.maximum))}`:n="Invalid input";break;case R.custom:n="Invalid input";break;case R.invalid_intersection_types:n="Intersection results could not be merged";break;case R.not_multiple_of:n=`Number must be a multiple of ${e.multipleOf}`;break;case R.not_finite:n="Number must be finite";break;default:n=t.defaultError,ae.assertNever(e)}return{message:n}};let _v=ou;function Cv(){return _v}const Tv=e=>{const{data:t,path:n,errorMaps:r,issueData:s}=e,a=[...n,...s.path||[]],l={...s,path:a};if(s.message!==void 0)return{...s,path:a,message:s.message};let o="";const u=r.filter(c=>!!c).slice().reverse();for(const c of u)o=c(l,{data:t,defaultError:o}).message;return{...s,path:a,message:o}};function U(e,t){const n=Cv(),r=Tv({issueData:t,data:e.data,path:e.path,errorMaps:[e.common.contextualErrorMap,e.schemaErrorMap,n,n===ou?void 0:ou].filter(s=>!!s)});e.common.issues.push(r)}class et{constructor(){this.value="valid"}dirty(){this.value==="valid"&&(this.value="dirty")}abort(){this.value!=="aborted"&&(this.value="aborted")}static mergeArray(t,n){const r=[];for(const s of n){if(s.status==="aborted")return q;s.status==="dirty"&&t.dirty(),r.push(s.value)}return{status:t.value,value:r}}static async mergeObjectAsync(t,n){const r=[];for(const s of n){const a=await s.key,l=await s.value;r.push({key:a,value:l})}return et.mergeObjectSync(t,r)}static mergeObjectSync(t,n){const r={};for(const s of n){const{key:a,value:l}=s;if(a.status==="aborted"||l.status==="aborted")return q;a.status==="dirty"&&t.dirty(),l.status==="dirty"&&t.dirty(),a.value!=="__proto__"&&(typeof l.value<"u"||s.alwaysSet)&&(r[a.value]=l.value)}return{status:t.value,value:r}}}const q=Object.freeze({status:"aborted"}),Ms=e=>({status:"dirty",value:e}),jt=e=>({status:"valid",value:e}),Bd=e=>e.status==="aborted",Vd=e=>e.status==="dirty",es=e=>e.status==="valid",Al=e=>typeof Promise<"u"&&e instanceof Promise;var Z;(function(e){e.errToObj=t=>typeof t=="string"?{message:t}:t||{},e.toString=t=>typeof t=="string"?t:t==null?void 0:t.message})(Z||(Z={}));class Ht{constructor(t,n,r,s){this._cachedPath=[],this.parent=t,this.data=n,this._path=r,this._key=s}get path(){return this._cachedPath.length||(Array.isArray(this._key)?this._cachedPath.push(...this._path,...this._key):this._cachedPath.push(...this._path,this._key)),this._cachedPath}}const Hd=(e,t)=>{if(es(t))return{success:!0,data:t.value};if(!e.common.issues.length)throw new Error("Validation failed but no issues detected.");return{success:!1,get error(){if(this._error)return this._error;const n=new un(e.common.issues);return this._error=n,this._error}}};function ee(e){if(!e)return{};const{errorMap:t,invalid_type_error:n,required_error:r,description:s}=e;if(t&&(n||r))throw new Error(`Can't use "invalid_type_error" or "required_error" in conjunction with custom error map.`);return t?{errorMap:t,description:s}:{errorMap:(l,o)=>{const{message:u}=e;return l.code==="invalid_enum_value"?{message:u??o.defaultError}:typeof o.data>"u"?{message:u??r??o.defaultError}:l.code!=="invalid_type"?{message:o.defaultError}:{message:u??n??o.defaultError}},description:s}}class ne{get description(){return this._def.description}_getType(t){return Nn(t.data)}_getOrReturnCtx(t,n){return n||{common:t.parent.common,data:t.data,parsedType:Nn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}_processInputParams(t){return{status:new et,ctx:{common:t.parent.common,data:t.data,parsedType:Nn(t.data),schemaErrorMap:this._def.errorMap,path:t.path,parent:t.parent}}}_parseSync(t){const n=this._parse(t);if(Al(n))throw new Error("Synchronous parse encountered promise.");return n}_parseAsync(t){const n=this._parse(t);return Promise.resolve(n)}parse(t,n){const r=this.safeParse(t,n);if(r.success)return r.data;throw r.error}safeParse(t,n){const r={common:{issues:[],async:(n==null?void 0:n.async)??!1,contextualErrorMap:n==null?void 0:n.errorMap},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nn(t)},s=this._parseSync({data:t,path:r.path,parent:r});return Hd(r,s)}"~validate"(t){var r,s;const n={common:{issues:[],async:!!this["~standard"].async},path:[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nn(t)};if(!this["~standard"].async)try{const a=this._parseSync({data:t,path:[],parent:n});return es(a)?{value:a.value}:{issues:n.common.issues}}catch(a){(s=(r=a==null?void 0:a.message)==null?void 0:r.toLowerCase())!=null&&s.includes("encountered")&&(this["~standard"].async=!0),n.common={issues:[],async:!0}}return this._parseAsync({data:t,path:[],parent:n}).then(a=>es(a)?{value:a.value}:{issues:n.common.issues})}async parseAsync(t,n){const r=await this.safeParseAsync(t,n);if(r.success)return r.data;throw r.error}async safeParseAsync(t,n){const r={common:{issues:[],contextualErrorMap:n==null?void 0:n.errorMap,async:!0},path:(n==null?void 0:n.path)||[],schemaErrorMap:this._def.errorMap,parent:null,data:t,parsedType:Nn(t)},s=this._parse({data:t,path:r.path,parent:r}),a=await(Al(s)?s:Promise.resolve(s));return Hd(r,a)}refine(t,n){const r=s=>typeof n=="string"||typeof n>"u"?{message:n}:typeof n=="function"?n(s):n;return this._refinement((s,a)=>{const l=t(s),o=()=>a.addIssue({code:R.custom,...r(s)});return typeof Promise<"u"&&l instanceof Promise?l.then(u=>u?!0:(o(),!1)):l?!0:(o(),!1)})}refinement(t,n){return this._refinement((r,s)=>t(r)?!0:(s.addIssue(typeof n=="function"?n(r,s):n),!1))}_refinement(t){return new xr({schema:this,typeName:J.ZodEffects,effect:{type:"refinement",refinement:t}})}superRefine(t){return this._refinement(t)}constructor(t){this.spa=this.safeParseAsync,this._def=t,this.parse=this.parse.bind(this),this.safeParse=this.safeParse.bind(this),this.parseAsync=this.parseAsync.bind(this),this.safeParseAsync=this.safeParseAsync.bind(this),this.spa=this.spa.bind(this),this.refine=this.refine.bind(this),this.refinement=this.refinement.bind(this),this.superRefine=this.superRefine.bind(this),this.optional=this.optional.bind(this),this.nullable=this.nullable.bind(this),this.nullish=this.nullish.bind(this),this.array=this.array.bind(this),this.promise=this.promise.bind(this),this.or=this.or.bind(this),this.and=this.and.bind(this),this.transform=this.transform.bind(this),this.brand=this.brand.bind(this),this.default=this.default.bind(this),this.catch=this.catch.bind(this),this.describe=this.describe.bind(this),this.pipe=this.pipe.bind(this),this.readonly=this.readonly.bind(this),this.isNullable=this.isNullable.bind(this),this.isOptional=this.isOptional.bind(this),this["~standard"]={version:1,vendor:"zod",validate:n=>this["~validate"](n)}}optional(){return rn.create(this,this._def)}nullable(){return yr.create(this,this._def)}nullish(){return this.nullable().optional()}array(){return Vt.create(this)}promise(){return Bl.create(this,this._def)}or(t){return $l.create([this,t],this._def)}and(t){return Fl.create(this,t,this._def)}transform(t){return new xr({...ee(this._def),schema:this,typeName:J.ZodEffects,effect:{type:"transform",transform:t}})}default(t){const n=typeof t=="function"?t:()=>t;return new Vl({...ee(this._def),innerType:this,defaultValue:n,typeName:J.ZodDefault})}brand(){return new Ym({typeName:J.ZodBranded,type:this,...ee(this._def)})}catch(t){const n=typeof t=="function"?t:()=>t;return new Hl({...ee(this._def),innerType:this,catchValue:n,typeName:J.ZodCatch})}describe(t){const n=this.constructor;return new n({...this._def,description:t})}pipe(t){return mc.create(this,t)}readonly(){return Yl.create(this)}isOptional(){return this.safeParse(void 0).success}isNullable(){return this.safeParse(null).success}}const Ev=/^c[^\s-]{8,}$/i,Mv=/^[0-9a-z]+$/,Pv=/^[0-9A-HJKMNP-TV-Z]{26}$/i,Dv=/^[0-9a-fA-F]{8}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{4}\b-[0-9a-fA-F]{12}$/i,Ov=/^[a-z0-9_-]{21}$/i,Lv=/^[A-Za-z0-9-_]+\.[A-Za-z0-9-_]+\.[A-Za-z0-9-_]*$/,Rv=/^[-+]?P(?!$)(?:(?:[-+]?\d+Y)|(?:[-+]?\d+[.,]\d+Y$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:(?:[-+]?\d+W)|(?:[-+]?\d+[.,]\d+W$))?(?:(?:[-+]?\d+D)|(?:[-+]?\d+[.,]\d+D$))?(?:T(?=[\d+-])(?:(?:[-+]?\d+H)|(?:[-+]?\d+[.,]\d+H$))?(?:(?:[-+]?\d+M)|(?:[-+]?\d+[.,]\d+M$))?(?:[-+]?\d+(?:[.,]\d+)?S)?)??$/,Iv=/^(?!\.)(?!.*\.\.)([A-Z0-9_'+\-\.]*)[A-Z0-9_+-]@([A-Z0-9][A-Z0-9\-]*\.)+[A-Z]{2,}$/i,Av="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";let to;const Wv=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,$v=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/(3[0-2]|[12]?[0-9])$/,Fv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))$/,zv=/^(([0-9a-fA-F]{1,4}:){7,7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:)|fe80:(:[0-9a-fA-F]{0,4}){0,4}%[0-9a-zA-Z]{1,}|::(ffff(:0{1,4}){0,1}:){0,1}((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])|([0-9a-fA-F]{1,4}:){1,4}:((25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9])\.){3,3}(25[0-5]|(2[0-4]|1{0,1}[0-9]){0,1}[0-9]))\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,Uv=/^([0-9a-zA-Z+/]{4})*(([0-9a-zA-Z+/]{2}==)|([0-9a-zA-Z+/]{3}=))?$/,Bv=/^([0-9a-zA-Z-_]{4})*(([0-9a-zA-Z-_]{2}(==)?)|([0-9a-zA-Z-_]{3}(=)?))?$/,Bm="((\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-((0[13578]|1[02])-(0[1-9]|[12]\\d|3[01])|(0[469]|11)-(0[1-9]|[12]\\d|30)|(02)-(0[1-9]|1\\d|2[0-8])))",Vv=new RegExp(`^${Bm}$`);function Vm(e){let t="[0-5]\\d";e.precision?t=`${t}\\.\\d{${e.precision}}`:e.precision==null&&(t=`${t}(\\.\\d+)?`);const n=e.precision?"+":"?";return`([01]\\d|2[0-3]):[0-5]\\d(:${t})${n}`}function Hv(e){return new RegExp(`^${Vm(e)}$`)}function Yv(e){let t=`${Bm}T${Vm(e)}`;const n=[];return n.push(e.local?"Z?":"Z"),e.offset&&n.push("([+-]\\d{2}:?\\d{2})"),t=`${t}(${n.join("|")})`,new RegExp(`^${t}$`)}function Zv(e,t){return!!((t==="v4"||!t)&&Wv.test(e)||(t==="v6"||!t)&&Fv.test(e))}function Gv(e,t){if(!Lv.test(e))return!1;try{const[n]=e.split(".");if(!n)return!1;const r=n.replace(/-/g,"+").replace(/_/g,"/").padEnd(n.length+(4-n.length%4)%4,"="),s=JSON.parse(atob(r));return!(typeof s!="object"||s===null||"typ"in s&&(s==null?void 0:s.typ)!=="JWT"||!s.alg||t&&s.alg!==t)}catch{return!1}}function Qv(e,t){return!!((t==="v4"||!t)&&$v.test(e)||(t==="v6"||!t)&&zv.test(e))}class tn extends ne{_parse(t){if(this._def.coerce&&(t.data=String(t.data)),this._getType(t)!==H.string){const a=this._getOrReturnCtx(t);return U(a,{code:R.invalid_type,expected:H.string,received:a.parsedType}),q}const r=new et;let s;for(const a of this._def.checks)if(a.kind==="min")t.data.length<a.value&&(s=this._getOrReturnCtx(t,s),U(s,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="max")t.data.length>a.value&&(s=this._getOrReturnCtx(t,s),U(s,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!1,message:a.message}),r.dirty());else if(a.kind==="length"){const l=t.data.length>a.value,o=t.data.length<a.value;(l||o)&&(s=this._getOrReturnCtx(t,s),l?U(s,{code:R.too_big,maximum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}):o&&U(s,{code:R.too_small,minimum:a.value,type:"string",inclusive:!0,exact:!0,message:a.message}),r.dirty())}else if(a.kind==="email")Iv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"email",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="emoji")to||(to=new RegExp(Av,"u")),to.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"emoji",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="uuid")Dv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"uuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="nanoid")Ov.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"nanoid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid")Ev.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"cuid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="cuid2")Mv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"cuid2",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="ulid")Pv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"ulid",code:R.invalid_string,message:a.message}),r.dirty());else if(a.kind==="url")try{new URL(t.data)}catch{s=this._getOrReturnCtx(t,s),U(s,{validation:"url",code:R.invalid_string,message:a.message}),r.dirty()}else a.kind==="regex"?(a.regex.lastIndex=0,a.regex.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"regex",code:R.invalid_string,message:a.message}),r.dirty())):a.kind==="trim"?t.data=t.data.trim():a.kind==="includes"?t.data.includes(a.value,a.position)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:{includes:a.value,position:a.position},message:a.message}),r.dirty()):a.kind==="toLowerCase"?t.data=t.data.toLowerCase():a.kind==="toUpperCase"?t.data=t.data.toUpperCase():a.kind==="startsWith"?t.data.startsWith(a.value)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:{startsWith:a.value},message:a.message}),r.dirty()):a.kind==="endsWith"?t.data.endsWith(a.value)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:{endsWith:a.value},message:a.message}),r.dirty()):a.kind==="datetime"?Yv(a).test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:"datetime",message:a.message}),r.dirty()):a.kind==="date"?Vv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:"date",message:a.message}),r.dirty()):a.kind==="time"?Hv(a).test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{code:R.invalid_string,validation:"time",message:a.message}),r.dirty()):a.kind==="duration"?Rv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"duration",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="ip"?Zv(t.data,a.version)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"ip",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="jwt"?Gv(t.data,a.alg)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"jwt",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="cidr"?Qv(t.data,a.version)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"cidr",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="base64"?Uv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"base64",code:R.invalid_string,message:a.message}),r.dirty()):a.kind==="base64url"?Bv.test(t.data)||(s=this._getOrReturnCtx(t,s),U(s,{validation:"base64url",code:R.invalid_string,message:a.message}),r.dirty()):ae.assertNever(a);return{status:r.value,value:t.data}}_regex(t,n,r){return this.refinement(s=>t.test(s),{validation:n,code:R.invalid_string,...Z.errToObj(r)})}_addCheck(t){return new tn({...this._def,checks:[...this._def.checks,t]})}email(t){return this._addCheck({kind:"email",...Z.errToObj(t)})}url(t){return this._addCheck({kind:"url",...Z.errToObj(t)})}emoji(t){return this._addCheck({kind:"emoji",...Z.errToObj(t)})}uuid(t){return this._addCheck({kind:"uuid",...Z.errToObj(t)})}nanoid(t){return this._addCheck({kind:"nanoid",...Z.errToObj(t)})}cuid(t){return this._addCheck({kind:"cuid",...Z.errToObj(t)})}cuid2(t){return this._addCheck({kind:"cuid2",...Z.errToObj(t)})}ulid(t){return this._addCheck({kind:"ulid",...Z.errToObj(t)})}base64(t){return this._addCheck({kind:"base64",...Z.errToObj(t)})}base64url(t){return this._addCheck({kind:"base64url",...Z.errToObj(t)})}jwt(t){return this._addCheck({kind:"jwt",...Z.errToObj(t)})}ip(t){return this._addCheck({kind:"ip",...Z.errToObj(t)})}cidr(t){return this._addCheck({kind:"cidr",...Z.errToObj(t)})}datetime(t){return typeof t=="string"?this._addCheck({kind:"datetime",precision:null,offset:!1,local:!1,message:t}):this._addCheck({kind:"datetime",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,offset:(t==null?void 0:t.offset)??!1,local:(t==null?void 0:t.local)??!1,...Z.errToObj(t==null?void 0:t.message)})}date(t){return this._addCheck({kind:"date",message:t})}time(t){return typeof t=="string"?this._addCheck({kind:"time",precision:null,message:t}):this._addCheck({kind:"time",precision:typeof(t==null?void 0:t.precision)>"u"?null:t==null?void 0:t.precision,...Z.errToObj(t==null?void 0:t.message)})}duration(t){return this._addCheck({kind:"duration",...Z.errToObj(t)})}regex(t,n){return this._addCheck({kind:"regex",regex:t,...Z.errToObj(n)})}includes(t,n){return this._addCheck({kind:"includes",value:t,position:n==null?void 0:n.position,...Z.errToObj(n==null?void 0:n.message)})}startsWith(t,n){return this._addCheck({kind:"startsWith",value:t,...Z.errToObj(n)})}endsWith(t,n){return this._addCheck({kind:"endsWith",value:t,...Z.errToObj(n)})}min(t,n){return this._addCheck({kind:"min",value:t,...Z.errToObj(n)})}max(t,n){return this._addCheck({kind:"max",value:t,...Z.errToObj(n)})}length(t,n){return this._addCheck({kind:"length",value:t,...Z.errToObj(n)})}nonempty(t){return this.min(1,Z.errToObj(t))}trim(){return new tn({...this._def,checks:[...this._def.checks,{kind:"trim"}]})}toLowerCase(){return new tn({...this._def,checks:[...this._def.checks,{kind:"toLowerCase"}]})}toUpperCase(){return new tn({...this._def,checks:[...this._def.checks,{kind:"toUpperCase"}]})}get isDatetime(){return!!this._def.checks.find(t=>t.kind==="datetime")}get isDate(){return!!this._def.checks.find(t=>t.kind==="date")}get isTime(){return!!this._def.checks.find(t=>t.kind==="time")}get isDuration(){return!!this._def.checks.find(t=>t.kind==="duration")}get isEmail(){return!!this._def.checks.find(t=>t.kind==="email")}get isURL(){return!!this._def.checks.find(t=>t.kind==="url")}get isEmoji(){return!!this._def.checks.find(t=>t.kind==="emoji")}get isUUID(){return!!this._def.checks.find(t=>t.kind==="uuid")}get isNANOID(){return!!this._def.checks.find(t=>t.kind==="nanoid")}get isCUID(){return!!this._def.checks.find(t=>t.kind==="cuid")}get isCUID2(){return!!this._def.checks.find(t=>t.kind==="cuid2")}get isULID(){return!!this._def.checks.find(t=>t.kind==="ulid")}get isIP(){return!!this._def.checks.find(t=>t.kind==="ip")}get isCIDR(){return!!this._def.checks.find(t=>t.kind==="cidr")}get isBase64(){return!!this._def.checks.find(t=>t.kind==="base64")}get isBase64url(){return!!this._def.checks.find(t=>t.kind==="base64url")}get minLength(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxLength(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}tn.create=e=>new tn({checks:[],typeName:J.ZodString,coerce:(e==null?void 0:e.coerce)??!1,...ee(e)});function Kv(e,t){const n=(e.toString().split(".")[1]||"").length,r=(t.toString().split(".")[1]||"").length,s=n>r?n:r,a=Number.parseInt(e.toFixed(s).replace(".","")),l=Number.parseInt(t.toFixed(s).replace(".",""));return a%l/10**s}class ts extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte,this.step=this.multipleOf}_parse(t){if(this._def.coerce&&(t.data=Number(t.data)),this._getType(t)!==H.number){const a=this._getOrReturnCtx(t);return U(a,{code:R.invalid_type,expected:H.number,received:a.parsedType}),q}let r;const s=new et;for(const a of this._def.checks)a.kind==="int"?ae.isInteger(t.data)||(r=this._getOrReturnCtx(t,r),U(r,{code:R.invalid_type,expected:"integer",received:"float",message:a.message}),s.dirty()):a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.too_small,minimum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.too_big,maximum:a.value,type:"number",inclusive:a.inclusive,exact:!1,message:a.message}),s.dirty()):a.kind==="multipleOf"?Kv(t.data,a.value)!==0&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):a.kind==="finite"?Number.isFinite(t.data)||(r=this._getOrReturnCtx(t,r),U(r,{code:R.not_finite,message:a.message}),s.dirty()):ae.assertNever(a);return{status:s.value,value:t.data}}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new ts({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new ts({...this._def,checks:[...this._def.checks,t]})}int(t){return this._addCheck({kind:"int",message:Z.toString(t)})}positive(t){return this._addCheck({kind:"min",value:0,inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:0,inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:0,inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:0,inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}finite(t){return this._addCheck({kind:"finite",message:Z.toString(t)})}safe(t){return this._addCheck({kind:"min",inclusive:!0,value:Number.MIN_SAFE_INTEGER,message:Z.toString(t)})._addCheck({kind:"max",inclusive:!0,value:Number.MAX_SAFE_INTEGER,message:Z.toString(t)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}get isInt(){return!!this._def.checks.find(t=>t.kind==="int"||t.kind==="multipleOf"&&ae.isInteger(t.value))}get isFinite(){let t=null,n=null;for(const r of this._def.checks){if(r.kind==="finite"||r.kind==="int"||r.kind==="multipleOf")return!0;r.kind==="min"?(n===null||r.value>n)&&(n=r.value):r.kind==="max"&&(t===null||r.value<t)&&(t=r.value)}return Number.isFinite(n)&&Number.isFinite(t)}}ts.create=e=>new ts({checks:[],typeName:J.ZodNumber,coerce:(e==null?void 0:e.coerce)||!1,...ee(e)});class ia extends ne{constructor(){super(...arguments),this.min=this.gte,this.max=this.lte}_parse(t){if(this._def.coerce)try{t.data=BigInt(t.data)}catch{return this._getInvalidInput(t)}if(this._getType(t)!==H.bigint)return this._getInvalidInput(t);let r;const s=new et;for(const a of this._def.checks)a.kind==="min"?(a.inclusive?t.data<a.value:t.data<=a.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.too_small,type:"bigint",minimum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="max"?(a.inclusive?t.data>a.value:t.data>=a.value)&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.too_big,type:"bigint",maximum:a.value,inclusive:a.inclusive,message:a.message}),s.dirty()):a.kind==="multipleOf"?t.data%a.value!==BigInt(0)&&(r=this._getOrReturnCtx(t,r),U(r,{code:R.not_multiple_of,multipleOf:a.value,message:a.message}),s.dirty()):ae.assertNever(a);return{status:s.value,value:t.data}}_getInvalidInput(t){const n=this._getOrReturnCtx(t);return U(n,{code:R.invalid_type,expected:H.bigint,received:n.parsedType}),q}gte(t,n){return this.setLimit("min",t,!0,Z.toString(n))}gt(t,n){return this.setLimit("min",t,!1,Z.toString(n))}lte(t,n){return this.setLimit("max",t,!0,Z.toString(n))}lt(t,n){return this.setLimit("max",t,!1,Z.toString(n))}setLimit(t,n,r,s){return new ia({...this._def,checks:[...this._def.checks,{kind:t,value:n,inclusive:r,message:Z.toString(s)}]})}_addCheck(t){return new ia({...this._def,checks:[...this._def.checks,t]})}positive(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}negative(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!1,message:Z.toString(t)})}nonpositive(t){return this._addCheck({kind:"max",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}nonnegative(t){return this._addCheck({kind:"min",value:BigInt(0),inclusive:!0,message:Z.toString(t)})}multipleOf(t,n){return this._addCheck({kind:"multipleOf",value:t,message:Z.toString(n)})}get minValue(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t}get maxValue(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t}}ia.create=e=>new ia({checks:[],typeName:J.ZodBigInt,coerce:(e==null?void 0:e.coerce)??!1,...ee(e)});class uu extends ne{_parse(t){if(this._def.coerce&&(t.data=!!t.data),this._getType(t)!==H.boolean){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.boolean,received:r.parsedType}),q}return jt(t.data)}}uu.create=e=>new uu({typeName:J.ZodBoolean,coerce:(e==null?void 0:e.coerce)||!1,...ee(e)});class Wl extends ne{_parse(t){if(this._def.coerce&&(t.data=new Date(t.data)),this._getType(t)!==H.date){const a=this._getOrReturnCtx(t);return U(a,{code:R.invalid_type,expected:H.date,received:a.parsedType}),q}if(Number.isNaN(t.data.getTime())){const a=this._getOrReturnCtx(t);return U(a,{code:R.invalid_date}),q}const r=new et;let s;for(const a of this._def.checks)a.kind==="min"?t.data.getTime()<a.value&&(s=this._getOrReturnCtx(t,s),U(s,{code:R.too_small,message:a.message,inclusive:!0,exact:!1,minimum:a.value,type:"date"}),r.dirty()):a.kind==="max"?t.data.getTime()>a.value&&(s=this._getOrReturnCtx(t,s),U(s,{code:R.too_big,message:a.message,inclusive:!0,exact:!1,maximum:a.value,type:"date"}),r.dirty()):ae.assertNever(a);return{status:r.value,value:new Date(t.data.getTime())}}_addCheck(t){return new Wl({...this._def,checks:[...this._def.checks,t]})}min(t,n){return this._addCheck({kind:"min",value:t.getTime(),message:Z.toString(n)})}max(t,n){return this._addCheck({kind:"max",value:t.getTime(),message:Z.toString(n)})}get minDate(){let t=null;for(const n of this._def.checks)n.kind==="min"&&(t===null||n.value>t)&&(t=n.value);return t!=null?new Date(t):null}get maxDate(){let t=null;for(const n of this._def.checks)n.kind==="max"&&(t===null||n.value<t)&&(t=n.value);return t!=null?new Date(t):null}}Wl.create=e=>new Wl({checks:[],coerce:(e==null?void 0:e.coerce)||!1,typeName:J.ZodDate,...ee(e)});class Yd extends ne{_parse(t){if(this._getType(t)!==H.symbol){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.symbol,received:r.parsedType}),q}return jt(t.data)}}Yd.create=e=>new Yd({typeName:J.ZodSymbol,...ee(e)});class cu extends ne{_parse(t){if(this._getType(t)!==H.undefined){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.undefined,received:r.parsedType}),q}return jt(t.data)}}cu.create=e=>new cu({typeName:J.ZodUndefined,...ee(e)});class du extends ne{_parse(t){if(this._getType(t)!==H.null){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.null,received:r.parsedType}),q}return jt(t.data)}}du.create=e=>new du({typeName:J.ZodNull,...ee(e)});class Zd extends ne{constructor(){super(...arguments),this._any=!0}_parse(t){return jt(t.data)}}Zd.create=e=>new Zd({typeName:J.ZodAny,...ee(e)});class Gd extends ne{constructor(){super(...arguments),this._unknown=!0}_parse(t){return jt(t.data)}}Gd.create=e=>new Gd({typeName:J.ZodUnknown,...ee(e)});class zn extends ne{_parse(t){const n=this._getOrReturnCtx(t);return U(n,{code:R.invalid_type,expected:H.never,received:n.parsedType}),q}}zn.create=e=>new zn({typeName:J.ZodNever,...ee(e)});class Qd extends ne{_parse(t){if(this._getType(t)!==H.undefined){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.void,received:r.parsedType}),q}return jt(t.data)}}Qd.create=e=>new Qd({typeName:J.ZodVoid,...ee(e)});class Vt extends ne{_parse(t){const{ctx:n,status:r}=this._processInputParams(t),s=this._def;if(n.parsedType!==H.array)return U(n,{code:R.invalid_type,expected:H.array,received:n.parsedType}),q;if(s.exactLength!==null){const l=n.data.length>s.exactLength.value,o=n.data.length<s.exactLength.value;(l||o)&&(U(n,{code:l?R.too_big:R.too_small,minimum:o?s.exactLength.value:void 0,maximum:l?s.exactLength.value:void 0,type:"array",inclusive:!0,exact:!0,message:s.exactLength.message}),r.dirty())}if(s.minLength!==null&&n.data.length<s.minLength.value&&(U(n,{code:R.too_small,minimum:s.minLength.value,type:"array",inclusive:!0,exact:!1,message:s.minLength.message}),r.dirty()),s.maxLength!==null&&n.data.length>s.maxLength.value&&(U(n,{code:R.too_big,maximum:s.maxLength.value,type:"array",inclusive:!0,exact:!1,message:s.maxLength.message}),r.dirty()),n.common.async)return Promise.all([...n.data].map((l,o)=>s.type._parseAsync(new Ht(n,l,n.path,o)))).then(l=>et.mergeArray(r,l));const a=[...n.data].map((l,o)=>s.type._parseSync(new Ht(n,l,n.path,o)));return et.mergeArray(r,a)}get element(){return this._def.type}min(t,n){return new Vt({...this._def,minLength:{value:t,message:Z.toString(n)}})}max(t,n){return new Vt({...this._def,maxLength:{value:t,message:Z.toString(n)}})}length(t,n){return new Vt({...this._def,exactLength:{value:t,message:Z.toString(n)}})}nonempty(t){return this.min(1,t)}}Vt.create=(e,t)=>new Vt({type:e,minLength:null,maxLength:null,exactLength:null,typeName:J.ZodArray,...ee(t)});function _r(e){if(e instanceof Te){const t={};for(const n in e.shape){const r=e.shape[n];t[n]=rn.create(_r(r))}return new Te({...e._def,shape:()=>t})}else return e instanceof Vt?new Vt({...e._def,type:_r(e.element)}):e instanceof rn?rn.create(_r(e.unwrap())):e instanceof yr?yr.create(_r(e.unwrap())):e instanceof hr?hr.create(e.items.map(t=>_r(t))):e}class Te extends ne{constructor(){super(...arguments),this._cached=null,this.nonstrict=this.passthrough,this.augment=this.extend}_getCached(){if(this._cached!==null)return this._cached;const t=this._def.shape(),n=ae.objectKeys(t);return this._cached={shape:t,keys:n},this._cached}_parse(t){if(this._getType(t)!==H.object){const c=this._getOrReturnCtx(t);return U(c,{code:R.invalid_type,expected:H.object,received:c.parsedType}),q}const{status:r,ctx:s}=this._processInputParams(t),{shape:a,keys:l}=this._getCached(),o=[];if(!(this._def.catchall instanceof zn&&this._def.unknownKeys==="strip"))for(const c in s.data)l.includes(c)||o.push(c);const u=[];for(const c of l){const f=a[c],p=s.data[c];u.push({key:{status:"valid",value:c},value:f._parse(new Ht(s,p,s.path,c)),alwaysSet:c in s.data})}if(this._def.catchall instanceof zn){const c=this._def.unknownKeys;if(c==="passthrough")for(const f of o)u.push({key:{status:"valid",value:f},value:{status:"valid",value:s.data[f]}});else if(c==="strict")o.length>0&&(U(s,{code:R.unrecognized_keys,keys:o}),r.dirty());else if(c!=="strip")throw new Error("Internal ZodObject error: invalid unknownKeys value.")}else{const c=this._def.catchall;for(const f of o){const p=s.data[f];u.push({key:{status:"valid",value:f},value:c._parse(new Ht(s,p,s.path,f)),alwaysSet:f in s.data})}}return s.common.async?Promise.resolve().then(async()=>{const c=[];for(const f of u){const p=await f.key,m=await f.value;c.push({key:p,value:m,alwaysSet:f.alwaysSet})}return c}).then(c=>et.mergeObjectSync(r,c)):et.mergeObjectSync(r,u)}get shape(){return this._def.shape()}strict(t){return Z.errToObj,new Te({...this._def,unknownKeys:"strict",...t!==void 0?{errorMap:(n,r)=>{var a,l;const s=((l=(a=this._def).errorMap)==null?void 0:l.call(a,n,r).message)??r.defaultError;return n.code==="unrecognized_keys"?{message:Z.errToObj(t).message??s}:{message:s}}}:{}})}strip(){return new Te({...this._def,unknownKeys:"strip"})}passthrough(){return new Te({...this._def,unknownKeys:"passthrough"})}extend(t){return new Te({...this._def,shape:()=>({...this._def.shape(),...t})})}merge(t){return new Te({unknownKeys:t._def.unknownKeys,catchall:t._def.catchall,shape:()=>({...this._def.shape(),...t._def.shape()}),typeName:J.ZodObject})}setKey(t,n){return this.augment({[t]:n})}catchall(t){return new Te({...this._def,catchall:t})}pick(t){const n={};for(const r of ae.objectKeys(t))t[r]&&this.shape[r]&&(n[r]=this.shape[r]);return new Te({...this._def,shape:()=>n})}omit(t){const n={};for(const r of ae.objectKeys(this.shape))t[r]||(n[r]=this.shape[r]);return new Te({...this._def,shape:()=>n})}deepPartial(){return _r(this)}partial(t){const n={};for(const r of ae.objectKeys(this.shape)){const s=this.shape[r];t&&!t[r]?n[r]=s:n[r]=s.optional()}return new Te({...this._def,shape:()=>n})}required(t){const n={};for(const r of ae.objectKeys(this.shape))if(t&&!t[r])n[r]=this.shape[r];else{let a=this.shape[r];for(;a instanceof rn;)a=a._def.innerType;n[r]=a}return new Te({...this._def,shape:()=>n})}keyof(){return Hm(ae.objectKeys(this.shape))}}Te.create=(e,t)=>new Te({shape:()=>e,unknownKeys:"strip",catchall:zn.create(),typeName:J.ZodObject,...ee(t)});Te.strictCreate=(e,t)=>new Te({shape:()=>e,unknownKeys:"strict",catchall:zn.create(),typeName:J.ZodObject,...ee(t)});Te.lazycreate=(e,t)=>new Te({shape:e,unknownKeys:"strip",catchall:zn.create(),typeName:J.ZodObject,...ee(t)});class $l extends ne{_parse(t){const{ctx:n}=this._processInputParams(t),r=this._def.options;function s(a){for(const o of a)if(o.result.status==="valid")return o.result;for(const o of a)if(o.result.status==="dirty")return n.common.issues.push(...o.ctx.common.issues),o.result;const l=a.map(o=>new un(o.ctx.common.issues));return U(n,{code:R.invalid_union,unionErrors:l}),q}if(n.common.async)return Promise.all(r.map(async a=>{const l={...n,common:{...n.common,issues:[]},parent:null};return{result:await a._parseAsync({data:n.data,path:n.path,parent:l}),ctx:l}})).then(s);{let a;const l=[];for(const u of r){const c={...n,common:{...n.common,issues:[]},parent:null},f=u._parseSync({data:n.data,path:n.path,parent:c});if(f.status==="valid")return f;f.status==="dirty"&&!a&&(a={result:f,ctx:c}),c.common.issues.length&&l.push(c.common.issues)}if(a)return n.common.issues.push(...a.ctx.common.issues),a.result;const o=l.map(u=>new un(u));return U(n,{code:R.invalid_union,unionErrors:o}),q}}get options(){return this._def.options}}$l.create=(e,t)=>new $l({options:e,typeName:J.ZodUnion,...ee(t)});const Gt=e=>e instanceof pu?Gt(e.schema):e instanceof xr?Gt(e.innerType()):e instanceof Ul?[e.value]:e instanceof gr?e.options:e instanceof mu?ae.objectValues(e.enum):e instanceof Vl?Gt(e._def.innerType):e instanceof cu?[void 0]:e instanceof du?[null]:e instanceof rn?[void 0,...Gt(e.unwrap())]:e instanceof yr?[null,...Gt(e.unwrap())]:e instanceof Ym||e instanceof Yl?Gt(e.unwrap()):e instanceof Hl?Gt(e._def.innerType):[];class pc extends ne{_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==H.object)return U(n,{code:R.invalid_type,expected:H.object,received:n.parsedType}),q;const r=this.discriminator,s=n.data[r],a=this.optionsMap.get(s);return a?n.common.async?a._parseAsync({data:n.data,path:n.path,parent:n}):a._parseSync({data:n.data,path:n.path,parent:n}):(U(n,{code:R.invalid_union_discriminator,options:Array.from(this.optionsMap.keys()),path:[r]}),q)}get discriminator(){return this._def.discriminator}get options(){return this._def.options}get optionsMap(){return this._def.optionsMap}static create(t,n,r){const s=new Map;for(const a of n){const l=Gt(a.shape[t]);if(!l.length)throw new Error(`A discriminator value for key \`${t}\` could not be extracted from all schema options`);for(const o of l){if(s.has(o))throw new Error(`Discriminator property ${String(t)} has duplicate value ${String(o)}`);s.set(o,a)}}return new pc({typeName:J.ZodDiscriminatedUnion,discriminator:t,options:n,optionsMap:s,...ee(r)})}}function fu(e,t){const n=Nn(e),r=Nn(t);if(e===t)return{valid:!0,data:e};if(n===H.object&&r===H.object){const s=ae.objectKeys(t),a=ae.objectKeys(e).filter(o=>s.indexOf(o)!==-1),l={...e,...t};for(const o of a){const u=fu(e[o],t[o]);if(!u.valid)return{valid:!1};l[o]=u.data}return{valid:!0,data:l}}else if(n===H.array&&r===H.array){if(e.length!==t.length)return{valid:!1};const s=[];for(let a=0;a<e.length;a++){const l=e[a],o=t[a],u=fu(l,o);if(!u.valid)return{valid:!1};s.push(u.data)}return{valid:!0,data:s}}else return n===H.date&&r===H.date&&+e==+t?{valid:!0,data:e}:{valid:!1}}class Fl extends ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=(a,l)=>{if(Bd(a)||Bd(l))return q;const o=fu(a.value,l.value);return o.valid?((Vd(a)||Vd(l))&&n.dirty(),{status:n.value,value:o.data}):(U(r,{code:R.invalid_intersection_types}),q)};return r.common.async?Promise.all([this._def.left._parseAsync({data:r.data,path:r.path,parent:r}),this._def.right._parseAsync({data:r.data,path:r.path,parent:r})]).then(([a,l])=>s(a,l)):s(this._def.left._parseSync({data:r.data,path:r.path,parent:r}),this._def.right._parseSync({data:r.data,path:r.path,parent:r}))}}Fl.create=(e,t,n)=>new Fl({left:e,right:t,typeName:J.ZodIntersection,...ee(n)});class hr extends ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==H.array)return U(r,{code:R.invalid_type,expected:H.array,received:r.parsedType}),q;if(r.data.length<this._def.items.length)return U(r,{code:R.too_small,minimum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),q;!this._def.rest&&r.data.length>this._def.items.length&&(U(r,{code:R.too_big,maximum:this._def.items.length,inclusive:!0,exact:!1,type:"array"}),n.dirty());const a=[...r.data].map((l,o)=>{const u=this._def.items[o]||this._def.rest;return u?u._parse(new Ht(r,l,r.path,o)):null}).filter(l=>!!l);return r.common.async?Promise.all(a).then(l=>et.mergeArray(n,l)):et.mergeArray(n,a)}get items(){return this._def.items}rest(t){return new hr({...this._def,rest:t})}}hr.create=(e,t)=>{if(!Array.isArray(e))throw new Error("You must pass an array of schemas to z.tuple([ ... ])");return new hr({items:e,typeName:J.ZodTuple,rest:null,...ee(t)})};class zl extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==H.object)return U(r,{code:R.invalid_type,expected:H.object,received:r.parsedType}),q;const s=[],a=this._def.keyType,l=this._def.valueType;for(const o in r.data)s.push({key:a._parse(new Ht(r,o,r.path,o)),value:l._parse(new Ht(r,r.data[o],r.path,o)),alwaysSet:o in r.data});return r.common.async?et.mergeObjectAsync(n,s):et.mergeObjectSync(n,s)}get element(){return this._def.valueType}static create(t,n,r){return n instanceof ne?new zl({keyType:t,valueType:n,typeName:J.ZodRecord,...ee(r)}):new zl({keyType:tn.create(),valueType:t,typeName:J.ZodRecord,...ee(n)})}}class Kd extends ne{get keySchema(){return this._def.keyType}get valueSchema(){return this._def.valueType}_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==H.map)return U(r,{code:R.invalid_type,expected:H.map,received:r.parsedType}),q;const s=this._def.keyType,a=this._def.valueType,l=[...r.data.entries()].map(([o,u],c)=>({key:s._parse(new Ht(r,o,r.path,[c,"key"])),value:a._parse(new Ht(r,u,r.path,[c,"value"]))}));if(r.common.async){const o=new Map;return Promise.resolve().then(async()=>{for(const u of l){const c=await u.key,f=await u.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}})}else{const o=new Map;for(const u of l){const c=u.key,f=u.value;if(c.status==="aborted"||f.status==="aborted")return q;(c.status==="dirty"||f.status==="dirty")&&n.dirty(),o.set(c.value,f.value)}return{status:n.value,value:o}}}}Kd.create=(e,t,n)=>new Kd({valueType:t,keyType:e,typeName:J.ZodMap,...ee(n)});class oa extends ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.parsedType!==H.set)return U(r,{code:R.invalid_type,expected:H.set,received:r.parsedType}),q;const s=this._def;s.minSize!==null&&r.data.size<s.minSize.value&&(U(r,{code:R.too_small,minimum:s.minSize.value,type:"set",inclusive:!0,exact:!1,message:s.minSize.message}),n.dirty()),s.maxSize!==null&&r.data.size>s.maxSize.value&&(U(r,{code:R.too_big,maximum:s.maxSize.value,type:"set",inclusive:!0,exact:!1,message:s.maxSize.message}),n.dirty());const a=this._def.valueType;function l(u){const c=new Set;for(const f of u){if(f.status==="aborted")return q;f.status==="dirty"&&n.dirty(),c.add(f.value)}return{status:n.value,value:c}}const o=[...r.data.values()].map((u,c)=>a._parse(new Ht(r,u,r.path,c)));return r.common.async?Promise.all(o).then(u=>l(u)):l(o)}min(t,n){return new oa({...this._def,minSize:{value:t,message:Z.toString(n)}})}max(t,n){return new oa({...this._def,maxSize:{value:t,message:Z.toString(n)}})}size(t,n){return this.min(t,n).max(t,n)}nonempty(t){return this.min(1,t)}}oa.create=(e,t)=>new oa({valueType:e,minSize:null,maxSize:null,typeName:J.ZodSet,...ee(t)});class pu extends ne{get schema(){return this._def.getter()}_parse(t){const{ctx:n}=this._processInputParams(t);return this._def.getter()._parse({data:n.data,path:n.path,parent:n})}}pu.create=(e,t)=>new pu({getter:e,typeName:J.ZodLazy,...ee(t)});class Ul extends ne{_parse(t){if(t.data!==this._def.value){const n=this._getOrReturnCtx(t);return U(n,{received:n.data,code:R.invalid_literal,expected:this._def.value}),q}return{status:"valid",value:t.data}}get value(){return this._def.value}}Ul.create=(e,t)=>new Ul({value:e,typeName:J.ZodLiteral,...ee(t)});function Hm(e,t){return new gr({values:e,typeName:J.ZodEnum,...ee(t)})}class gr extends ne{_parse(t){if(typeof t.data!="string"){const n=this._getOrReturnCtx(t),r=this._def.values;return U(n,{expected:ae.joinValues(r),received:n.parsedType,code:R.invalid_type}),q}if(this._cache||(this._cache=new Set(this._def.values)),!this._cache.has(t.data)){const n=this._getOrReturnCtx(t),r=this._def.values;return U(n,{received:n.data,code:R.invalid_enum_value,options:r}),q}return jt(t.data)}get options(){return this._def.values}get enum(){const t={};for(const n of this._def.values)t[n]=n;return t}get Values(){const t={};for(const n of this._def.values)t[n]=n;return t}get Enum(){const t={};for(const n of this._def.values)t[n]=n;return t}extract(t,n=this._def){return gr.create(t,{...this._def,...n})}exclude(t,n=this._def){return gr.create(this.options.filter(r=>!t.includes(r)),{...this._def,...n})}}gr.create=Hm;class mu extends ne{_parse(t){const n=ae.getValidEnumValues(this._def.values),r=this._getOrReturnCtx(t);if(r.parsedType!==H.string&&r.parsedType!==H.number){const s=ae.objectValues(n);return U(r,{expected:ae.joinValues(s),received:r.parsedType,code:R.invalid_type}),q}if(this._cache||(this._cache=new Set(ae.getValidEnumValues(this._def.values))),!this._cache.has(t.data)){const s=ae.objectValues(n);return U(r,{received:r.data,code:R.invalid_enum_value,options:s}),q}return jt(t.data)}get enum(){return this._def.values}}mu.create=(e,t)=>new mu({values:e,typeName:J.ZodNativeEnum,...ee(t)});class Bl extends ne{unwrap(){return this._def.type}_parse(t){const{ctx:n}=this._processInputParams(t);if(n.parsedType!==H.promise&&n.common.async===!1)return U(n,{code:R.invalid_type,expected:H.promise,received:n.parsedType}),q;const r=n.parsedType===H.promise?n.data:Promise.resolve(n.data);return jt(r.then(s=>this._def.type.parseAsync(s,{path:n.path,errorMap:n.common.contextualErrorMap})))}}Bl.create=(e,t)=>new Bl({type:e,typeName:J.ZodPromise,...ee(t)});class xr extends ne{innerType(){return this._def.schema}sourceType(){return this._def.schema._def.typeName===J.ZodEffects?this._def.schema.sourceType():this._def.schema}_parse(t){const{status:n,ctx:r}=this._processInputParams(t),s=this._def.effect||null,a={addIssue:l=>{U(r,l),l.fatal?n.abort():n.dirty()},get path(){return r.path}};if(a.addIssue=a.addIssue.bind(a),s.type==="preprocess"){const l=s.transform(r.data,a);if(r.common.async)return Promise.resolve(l).then(async o=>{if(n.value==="aborted")return q;const u=await this._def.schema._parseAsync({data:o,path:r.path,parent:r});return u.status==="aborted"?q:u.status==="dirty"||n.value==="dirty"?Ms(u.value):u});{if(n.value==="aborted")return q;const o=this._def.schema._parseSync({data:l,path:r.path,parent:r});return o.status==="aborted"?q:o.status==="dirty"||n.value==="dirty"?Ms(o.value):o}}if(s.type==="refinement"){const l=o=>{const u=s.refinement(o,a);if(r.common.async)return Promise.resolve(u);if(u instanceof Promise)throw new Error("Async refinement encountered during synchronous parse operation. Use .parseAsync instead.");return o};if(r.common.async===!1){const o=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});return o.status==="aborted"?q:(o.status==="dirty"&&n.dirty(),l(o.value),{status:n.value,value:o.value})}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(o=>o.status==="aborted"?q:(o.status==="dirty"&&n.dirty(),l(o.value).then(()=>({status:n.value,value:o.value}))))}if(s.type==="transform")if(r.common.async===!1){const l=this._def.schema._parseSync({data:r.data,path:r.path,parent:r});if(!es(l))return q;const o=s.transform(l.value,a);if(o instanceof Promise)throw new Error("Asynchronous transform encountered during synchronous parse operation. Use .parseAsync instead.");return{status:n.value,value:o}}else return this._def.schema._parseAsync({data:r.data,path:r.path,parent:r}).then(l=>es(l)?Promise.resolve(s.transform(l.value,a)).then(o=>({status:n.value,value:o})):q);ae.assertNever(s)}}xr.create=(e,t,n)=>new xr({schema:e,typeName:J.ZodEffects,effect:t,...ee(n)});xr.createWithPreprocess=(e,t,n)=>new xr({schema:t,effect:{type:"preprocess",transform:e},typeName:J.ZodEffects,...ee(n)});class rn extends ne{_parse(t){return this._getType(t)===H.undefined?jt(void 0):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}rn.create=(e,t)=>new rn({innerType:e,typeName:J.ZodOptional,...ee(t)});class yr extends ne{_parse(t){return this._getType(t)===H.null?jt(null):this._def.innerType._parse(t)}unwrap(){return this._def.innerType}}yr.create=(e,t)=>new yr({innerType:e,typeName:J.ZodNullable,...ee(t)});class Vl extends ne{_parse(t){const{ctx:n}=this._processInputParams(t);let r=n.data;return n.parsedType===H.undefined&&(r=this._def.defaultValue()),this._def.innerType._parse({data:r,path:n.path,parent:n})}removeDefault(){return this._def.innerType}}Vl.create=(e,t)=>new Vl({innerType:e,typeName:J.ZodDefault,defaultValue:typeof t.default=="function"?t.default:()=>t.default,...ee(t)});class Hl extends ne{_parse(t){const{ctx:n}=this._processInputParams(t),r={...n,common:{...n.common,issues:[]}},s=this._def.innerType._parse({data:r.data,path:r.path,parent:{...r}});return Al(s)?s.then(a=>({status:"valid",value:a.status==="valid"?a.value:this._def.catchValue({get error(){return new un(r.common.issues)},input:r.data})})):{status:"valid",value:s.status==="valid"?s.value:this._def.catchValue({get error(){return new un(r.common.issues)},input:r.data})}}removeCatch(){return this._def.innerType}}Hl.create=(e,t)=>new Hl({innerType:e,typeName:J.ZodCatch,catchValue:typeof t.catch=="function"?t.catch:()=>t.catch,...ee(t)});class Xd extends ne{_parse(t){if(this._getType(t)!==H.nan){const r=this._getOrReturnCtx(t);return U(r,{code:R.invalid_type,expected:H.nan,received:r.parsedType}),q}return{status:"valid",value:t.data}}}Xd.create=e=>new Xd({typeName:J.ZodNaN,...ee(e)});class Ym extends ne{_parse(t){const{ctx:n}=this._processInputParams(t),r=n.data;return this._def.type._parse({data:r,path:n.path,parent:n})}unwrap(){return this._def.type}}class mc extends ne{_parse(t){const{status:n,ctx:r}=this._processInputParams(t);if(r.common.async)return(async()=>{const a=await this._def.in._parseAsync({data:r.data,path:r.path,parent:r});return a.status==="aborted"?q:a.status==="dirty"?(n.dirty(),Ms(a.value)):this._def.out._parseAsync({data:a.value,path:r.path,parent:r})})();{const s=this._def.in._parseSync({data:r.data,path:r.path,parent:r});return s.status==="aborted"?q:s.status==="dirty"?(n.dirty(),{status:"dirty",value:s.value}):this._def.out._parseSync({data:s.value,path:r.path,parent:r})}}static create(t,n){return new mc({in:t,out:n,typeName:J.ZodPipeline})}}class Yl extends ne{_parse(t){const n=this._def.innerType._parse(t),r=s=>(es(s)&&(s.value=Object.freeze(s.value)),s);return Al(n)?n.then(s=>r(s)):r(n)}unwrap(){return this._def.innerType}}Yl.create=(e,t)=>new Yl({innerType:e,typeName:J.ZodReadonly,...ee(t)});var J;(function(e){e.ZodString="ZodString",e.ZodNumber="ZodNumber",e.ZodNaN="ZodNaN",e.ZodBigInt="ZodBigInt",e.ZodBoolean="ZodBoolean",e.ZodDate="ZodDate",e.ZodSymbol="ZodSymbol",e.ZodUndefined="ZodUndefined",e.ZodNull="ZodNull",e.ZodAny="ZodAny",e.ZodUnknown="ZodUnknown",e.ZodNever="ZodNever",e.ZodVoid="ZodVoid",e.ZodArray="ZodArray",e.ZodObject="ZodObject",e.ZodUnion="ZodUnion",e.ZodDiscriminatedUnion="ZodDiscriminatedUnion",e.ZodIntersection="ZodIntersection",e.ZodTuple="ZodTuple",e.ZodRecord="ZodRecord",e.ZodMap="ZodMap",e.ZodSet="ZodSet",e.ZodFunction="ZodFunction",e.ZodLazy="ZodLazy",e.ZodLiteral="ZodLiteral",e.ZodEnum="ZodEnum",e.ZodEffects="ZodEffects",e.ZodNativeEnum="ZodNativeEnum",e.ZodOptional="ZodOptional",e.ZodNullable="ZodNullable",e.ZodDefault="ZodDefault",e.ZodCatch="ZodCatch",e.ZodPromise="ZodPromise",e.ZodBranded="ZodBranded",e.ZodPipeline="ZodPipeline",e.ZodReadonly="ZodReadonly"})(J||(J={}));const re=tn.create,_e=ts.create,Un=uu.create;zn.create;const qt=Vt.create,Fe=Te.create,kr=$l.create,Xv=pc.create;Fl.create;hr.create;const hc=zl.create,ue=Ul.create;gr.create;Bl.create;rn.create;yr.create;const Zm="driftcue/app-state",hu="driftcue-cache-v1",qv=kr([ue("planned"),ue("in_progress"),ue("completed"),ue("skipped")]),Jv=Fe({id:re(),title:re(),description:re().optional(),scheduledFor:re(),startAt:re().optional(),deadlineAt:re().optional(),reminderAt:re().optional(),durationMinutes:_e().nonnegative().optional(),progressive:Un().default(!0),tags:qt(re()).default([]),status:qv,createdAt:re(),updatedAt:re()}),e1=Fe({name:re().min(1),dateOfBirth:re(),lifeExpectancyYears:_e().min(1).max(120),dayStartHour:_e().min(0).max(23),dayEndHour:_e().min(1).max(24),allowNotifications:Un(),onboardingComplete:Un()}),t1=kr([ue("aurora"),ue("forest"),ue("sunset"),ue("midnight")]),n1=kr([ue("indigo"),ue("aurora"),ue("dawn"),ue("ember"),ue("glacier"),ue("midnight"),ue("slate"),ue("charcoal"),ue("lumina")]),r1=Fe({reminderLeadMinutes:_e().min(0).max(720).default(15),defaultReminderTime:re().optional(),accentTheme:t1.default("aurora"),surfaceTheme:n1.default("indigo"),dayFulfillmentThreshold:_e().min(10).max(100).default(40),weekFulfillmentTarget:_e().min(1).max(7).default(3),progressiveTasksPerDay:_e().min(0).max(24).default(1),progressiveDaysForWeekWin:_e().min(0).max(7).default(3),showLifeCalendar:Un().default(!0)}),Gm=kr([ue("none"),ue("learned"),ue("progressed"),ue("advanced"),ue("enjoyed")]),s1=Fe({tag:Gm,color:re().optional()}),a1=hc(kr([s1,Gm])).default({}),l1=Fe({status:kr([ue("auto"),ue("manual")]).default("auto"),fulfilled:Un()}),i1=hc(kr([l1,Un()])).default({}),o1=Fe({date:re(),completionRate:_e(),totalTasks:_e(),completedTasks:_e(),inProgressTasks:_e().default(0),progressiveTasks:_e().default(0),progressed:Un().default(!1),weekId:re(),fulfilled:Un()}),u1=hc(o1).default({}),c1=Xv("type",[Fe({type:ue("every_minutes"),intervalMinutes:_e().min(1).max(24*60)}),Fe({type:ue("hourly"),minuteMark:_e().min(0).max(59)}),Fe({type:ue("daily"),time:re()}),Fe({type:ue("weekly"),daysOfWeek:qt(_e().min(0).max(6)).min(1),time:re()}),Fe({type:ue("monthly"),daysOfMonth:qt(_e().min(1).max(31)).min(1),time:re()}),Fe({type:ue("yearly"),dates:qt(re()).min(1),time:re()})]),d1=Fe({id:re(),title:re(),description:re().optional(),schedule:c1,createdAt:re(),updatedAt:re()}),f1=Fe({id:re(),title:re(),description:re().optional(),x:_e(),y:_e()}),p1=Fe({id:re(),sourceId:re(),targetId:re()}),Qm=Fe({profile:e1.optional(),tasks:qt(Jv),preferences:r1,taskTags:qt(re()).default([]),lifeReflections:a1,lifeWins:i1.optional(),daySummaries:u1.optional(),reminders:qt(d1).default([]),lifeGoals:qt(f1).default([]),lifeGoalLinks:qt(p1).default([]),lastNotificationSync:re().optional()});function m1(e){const t={};return e&&Object.entries(e).forEach(([n,r])=>{r&&(typeof r=="string"?r!=="none"&&(t[n]={tag:r}):r.tag&&r.tag!=="none"&&(t[n]={tag:r.tag,color:r.color}))}),t}function h1(e){const t={};return e&&Object.entries(e).forEach(([n,r])=>{typeof r=="boolean"?r&&(t[n]={status:"auto",fulfilled:!0}):r&&r.fulfilled?t[n]={status:r.status??"auto",fulfilled:r.fulfilled}:r&&(t[n]={status:r.status??"manual",fulfilled:r.fulfilled})}),t}function g1(e){if(!e)return{};const t={};return Object.entries(e).forEach(([n,r])=>{r&&(t[n]=r)}),t}function x1(e){const{accentTheme:t="aurora",surfaceTheme:n="indigo",dayFulfillmentThreshold:r=40,weekFulfillmentTarget:s=3,reminderLeadMinutes:a=15,defaultReminderTime:l,progressiveTasksPerDay:o=1,progressiveDaysForWeekWin:u=3,showLifeCalendar:c=!0}=e??{};return{reminderLeadMinutes:a,defaultReminderTime:l,accentTheme:t,surfaceTheme:n,dayFulfillmentThreshold:r,weekFulfillmentTarget:s,progressiveTasksPerDay:o,progressiveDaysForWeekWin:u,showLifeCalendar:c}}function Km(e){return{profile:e.profile,tasks:e.tasks,preferences:x1(e.preferences),taskTags:(e.taskTags??[]).map(t=>t.trim()).filter(Boolean),lifeReflections:m1(e.lifeReflections),lifeWins:h1(e.lifeWins),daySummaries:g1(e.daySummaries),reminders:e.reminders??[],lifeGoals:e.lifeGoals??[],lifeGoalLinks:e.lifeGoalLinks??[],lastNotificationSync:e.lastNotificationSync}}async function y1(){const e=t=>{const n=Qm.safeParse(t);if(n.success)return Km(n.data)};try{const t=localStorage.getItem(hu);if(t){const n=e(JSON.parse(t));if(n)return n}}catch(t){console.warn("Failed to read cached state",t)}try{const t=await bv(Zm);if(t){const n=e(t);if(n)return localStorage.setItem(hu,JSON.stringify(n)),n}}catch(t){console.warn("Failed to load state from IndexedDB",t)}}async function v1(e){try{localStorage.setItem(hu,JSON.stringify(e))}catch(t){console.warn("Failed to save cache to local storage",t)}try{await Sv(Zm,e)}catch(t){console.warn("Failed to save state to IndexedDB",t)}}function w1(e){const t={version:1,exportedAt:new Date().toISOString(),state:e};return JSON.stringify(t,null,2)}const k1=Fe({version:_e().min(1),exportedAt:re(),state:Qm});function N1(e){const t=k1.safeParse(JSON.parse(e));if(!t.success)throw new Error("Invalid import file");return Km(t.data.state)}function j1(e){return oe(e,"yyyy-MM-dd")}function zs(){return j1(new Date)}function gu(e,t){const n=new Date,r=new Date(n);r.setHours(e,0,0,0);const s=new Date(n);s.setHours(t,0,0,0);const a=Math.max(0,lu(s,r)),l=Math.min(Math.max(lu(n,r),0),a),o=Math.max(a-l,0),u=a===0?0:Math.min(Math.max(l/a*100,0),100);return{totalMinutes:a,minutesElapsed:l,minutesRemaining:o,percentElapsed:u}}function b1(e,t){const n=Rl(Ae(e)),r=Rl(new Date),s=t*52,a=[],l=Pe(n,{weekStartsOn:1});for(let o=0;o<s;o+=1){const u=Wm(l,o);let c="future";iu(u,Pe(r,{weekStartsOn:1}))&&(c="past"),av(u,r,{weekStartsOn:1})&&(c="current"),a.push({id:`${e}-week-${o}`,start:u,status:c})}return a}function S1(e=new Date){const t=Pe(e,{weekStartsOn:1}),n=new Date(e.getFullYear(),e.getMonth(),1),r=new Date(e.getFullYear(),0,1),s=Wm(t,1),a=new Date(e.getFullYear(),e.getMonth()+1,1),l=new Date(e.getFullYear()+1,0,1);return{week:{start:t,end:s,label:`${oe(t,"MMM d")} - ${oe(Nv(s),"MMM d")}`},month:{start:n,end:a,label:oe(e,"MMMM yyyy")},year:{start:r,end:l,label:oe(e,"yyyy")}}}function _1(e,t){const n=Ae(e);return!iu(n,t.start)&&iu(n,t.end)}const no={weekStartsOn:1};function C1(e,t){const n=Pe(Ae(t),no),r=Pe(Ae(e),no),s=Math.max(0,ey(r,n,no));return`${t}-week-${s}`}function T1(e,t,n){const r=new Map;e.forEach(o=>{const u=o.scheduledFor;if(!u)return;const c=r.get(u)??{total:0,completed:0,inProgress:0,progressive:0};c.total+=1,o.status==="completed"&&(c.completed+=1),o.status==="in_progress"&&(c.inProgress+=1),(o.progressive??!0)&&o.status==="completed"&&(c.progressive+=1),r.set(u,c)});const s=Math.min(Math.max(t.dayFulfillmentThreshold??40,0),100),a=t.progressiveTasksPerDay??1,l={};return r.forEach((o,u)=>{const c=o.total===0?0:o.completed/o.total;o.total>0&&c*100>=s;const f=a<=0||o.progressive>=a;l[u]={date:u,completionRate:c,totalTasks:o.total,completedTasks:o.completed,inProgressTasks:o.inProgress,progressiveTasks:o.progressive,progressed:f,weekId:C1(u,n.dateOfBirth),fulfilled:f}}),l}function E1(e,t){const n=new Map;Object.values(e).forEach(a=>{a.progressed&&n.set(a.weekId,(n.get(a.weekId)??0)+1)});const r=Math.min(Math.max(t,1),7),s=new Set;return n.forEach((a,l)=>{a>=r&&s.add(l)}),s}const Xt={tasks:[],preferences:{reminderLeadMinutes:15,defaultReminderTime:"09:00",accentTheme:"aurora",surfaceTheme:"indigo",dayFulfillmentThreshold:40,weekFulfillmentTarget:3,progressiveTasksPerDay:1,progressiveDaysForWeekWin:3,showLifeCalendar:!0},taskTags:[],lifeReflections:{},lifeWins:{},daySummaries:{},reminders:[],lifeGoals:[],lifeGoalLinks:[]};function qd(e){const{accentTheme:t=Xt.preferences.accentTheme,surfaceTheme:n=Xt.preferences.surfaceTheme,progressiveTasksPerDay:r=Xt.preferences.progressiveTasksPerDay,progressiveDaysForWeekWin:s=Xt.preferences.progressiveDaysForWeekWin,showLifeCalendar:a=Xt.preferences.showLifeCalendar,...l}=e??{};return{...Xt.preferences,...l,accentTheme:t,surfaceTheme:n,progressiveTasksPerDay:r,progressiveDaysForWeekWin:s,showLifeCalendar:a}}function Jd(e){const t={};return e&&Object.entries(e).forEach(([n,r])=>{if(!r)return;const s=typeof r=="string"?r:r.tag;if(!s||s==="none")return;const a=typeof r=="string"?void 0:r.color;t[n]={tag:s,color:a}}),t}function M1(e,t){switch(t.type){case"hydrate":return{...Xt,...t.payload,preferences:qd(t.payload.preferences),lifeReflections:Jd(t.payload.lifeReflections)};case"importState":return{...Xt,...t.payload,preferences:qd(t.payload.preferences),lifeReflections:Jd(t.payload.lifeReflections)};case"setProfile":return{...e,profile:t.payload};case"updateProfile":return e.profile?{...e,profile:{...e.profile,...t.payload}}:e;case"addTask":return{...e,tasks:[...e.tasks,t.payload]};case"updateTask":return{...e,tasks:e.tasks.map(n=>n.id===t.id?{...n,...t.payload,updatedAt:new Date().toISOString()}:n)};case"deleteTask":return{...e,tasks:e.tasks.filter(n=>n.id!==t.id)};case"setTaskStatus":return{...e,tasks:e.tasks.map(n=>n.id===t.id?{...n,status:t.status,updatedAt:new Date().toISOString()}:n)};case"addTaskTag":{const n=t.tag.trim();return!n||e.taskTags.includes(n)?e:{...e,taskTags:[...e.taskTags,n].sort((r,s)=>r.localeCompare(s))}}case"removeTaskTag":{const n=e.taskTags.filter(s=>s!==t.tag);if(n.length===e.taskTags.length)return e;const r=e.tasks.map(s=>s.tags.includes(t.tag)?{...s,tags:s.tags.filter(a=>a!==t.tag)}:s);return{...e,taskTags:n,tasks:r}}case"setPreferences":return{...e,preferences:{...e.preferences,...t.payload}};case"setLifeReflection":{const n={...e.lifeReflections};return t.reflection==="none"?delete n[t.weekId]:n[t.weekId]={tag:t.reflection,color:t.color},{...e,lifeReflections:n}}case"setWeekWinManual":{const n={...e.lifeWins};return n[t.weekId]={status:"manual",fulfilled:t.fulfilled},{...e,lifeWins:n}}case"resetWeekWin":{const n={...e.lifeWins};return delete n[t.weekId],{...e,lifeWins:n}}case"addReminder":return{...e,reminders:[...e.reminders,t.payload]};case"updateReminder":return{...e,reminders:e.reminders.map(n=>n.id===t.id?{...n,...t.payload,updatedAt:new Date().toISOString()}:n)};case"deleteReminder":return{...e,reminders:e.reminders.filter(n=>n.id!==t.id)};case"addLifeGoal":return{...e,lifeGoals:[...e.lifeGoals,t.payload]};case"updateLifeGoal":return{...e,lifeGoals:e.lifeGoals.map(n=>n.id===t.id?{...n,...t.payload}:n)};case"deleteLifeGoal":return{...e,lifeGoals:e.lifeGoals.filter(n=>n.id!==t.id),lifeGoalLinks:e.lifeGoalLinks.filter(n=>n.sourceId!==t.id&&n.targetId!==t.id)};case"connectLifeGoals":return{...e,lifeGoalLinks:[...e.lifeGoalLinks,t.payload]};case"disconnectLifeGoals":return{...e,lifeGoalLinks:e.lifeGoalLinks.filter(n=>n.id!==t.id)};default:return e}}const Xm=h.createContext(void 0);function P1({children:e}){const[t,n]=h.useReducer(M1,Xt),[r,s]=h.useState(!0),[a,l]=h.useState(!1);h.useEffect(()=>{let M=!0;return y1().then(G=>{M&&G&&n({type:"hydrate",payload:G}),M&&(setTimeout(()=>s(!1),1e3),l(!0))}),()=>{M=!1}},[]),h.useEffect(()=>{a&&v1(t)},[t,a]);const o=h.useCallback(M=>{n({type:"setProfile",payload:M})},[]),u=h.useCallback(M=>{n({type:"updateProfile",payload:M})},[]),c=h.useCallback(M=>{const G=new Date().toISOString(),T={id:Es(),title:M.title,description:M.description,scheduledFor:M.scheduledFor,startAt:M.startAt,deadlineAt:M.deadlineAt,reminderAt:M.reminderAt,durationMinutes:M.durationMinutes,progressive:M.progressive??!0,tags:M.tags??[],status:"planned",createdAt:G,updatedAt:G};n({type:"addTask",payload:T})},[]),f=h.useCallback((M,G)=>{n({type:"updateTask",id:M,payload:G})},[]),p=h.useCallback(M=>{n({type:"deleteTask",id:M})},[]),m=h.useCallback((M,G)=>{n({type:"setTaskStatus",id:M,status:G})},[]),k=h.useCallback(M=>{n({type:"setPreferences",payload:M})},[]),N=h.useCallback(M=>{n({type:"addTaskTag",tag:M})},[]),j=h.useCallback(M=>{n({type:"removeTaskTag",tag:M})},[]),C=h.useCallback(M=>{n({type:"importState",payload:M})},[]),g=h.useCallback((M,G,T)=>{n({type:"setLifeReflection",weekId:M,reflection:G,color:T})},[]),d=h.useCallback((M,G)=>{n({type:"setWeekWinManual",weekId:M,fulfilled:G})},[]),x=h.useCallback(M=>{n({type:"resetWeekWin",weekId:M})},[]),b=h.useCallback(M=>{const G=new Date().toISOString(),T={id:Es(),title:M.title,description:M.description,schedule:M.schedule,createdAt:G,updatedAt:G};n({type:"addReminder",payload:T})},[]),P=h.useCallback((M,G)=>{n({type:"updateReminder",id:M,payload:G})},[]),A=h.useCallback(M=>{n({type:"deleteReminder",id:M})},[]),W=h.useCallback(M=>{var T,Y;const G={id:M.id??Es(),title:M.title,description:M.description,x:M.x??((T=M.position)==null?void 0:T.x)??0,y:M.y??((Y=M.position)==null?void 0:Y.y)??0};n({type:"addLifeGoal",payload:G})},[]),S=h.useCallback((M,G)=>{n({type:"updateLifeGoal",id:M,payload:G})},[]),I=h.useCallback(M=>{n({type:"deleteLifeGoal",id:M})},[]),w=h.useCallback((M,G)=>{const T={id:Es(),sourceId:M,targetId:G};n({type:"connectLifeGoals",payload:T})},[]),_=h.useCallback(M=>{n({type:"disconnectLifeGoals",id:M})},[]),K=h.useMemo(()=>t.profile?T1(t.tasks,t.preferences,t.profile):{},[t.tasks,t.preferences,t.profile]),D=h.useMemo(()=>E1(K,t.preferences.progressiveDaysForWeekWin??3),[K,t.preferences.progressiveDaysForWeekWin]),z=h.useMemo(()=>{const G={...t.lifeWins??{}};return D.forEach(T=>{const Y=G[T];Y&&Y.status==="manual"||(G[T]={status:"auto",fulfilled:!0})}),G},[t.lifeWins,D]),Q=h.useMemo(()=>({state:{...t,daySummaries:K,lifeWins:z},loading:r,autoWeekWins:D,actions:{setProfile:o,updateProfile:u,addTask:c,updateTask:f,deleteTask:p,setTaskStatus:m,setPreferences:k,addTaskTag:N,removeTaskTag:j,importState:C,setLifeReflection:g,setWeekWinManual:d,resetWeekWin:x,addReminder:b,updateReminder:P,deleteReminder:A,addLifeGoal:W,updateLifeGoal:S,deleteLifeGoal:I,connectLifeGoals:w,disconnectLifeGoals:_}}),[t,K,z,D,r,o,u,c,f,p,m,k,N,j,C,g,d,x,b,P,A,W,S,I,w,_]);return i.jsx(Xm.Provider,{value:Q,children:e})}function dn(){const e=h.useContext(Xm);if(!e)throw new Error("useAppData must be used within AppDataProvider");return e}function Sn({children:e}){const t=h.useRef(null);return t.current||(t.current=document.createElement("div")),h.useEffect(()=>{const n=t.current;if(n)return document.body.appendChild(n),()=>{document.body.removeChild(n)}},[]),t.current?Nm.createPortal(e,t.current):null}const Ps=60*1e3,qm=60*Ps,Ba=24*qm;function D1(){const{state:{reminders:e}}=dn(),[t,n]=h.useState([]),r=h.useRef(new Map);return h.useEffect(()=>{const s=new Set(e.map(a=>a.id));r.current.forEach((a,l)=>{s.has(l)||r.current.delete(l)})},[e]),h.useEffect(()=>{const s=()=>{const l=new Date;e.forEach(o=>{const u=r.current.get(o.id);if(O1(o,l,u)){r.current.set(o.id,l.getTime());const c=`${o.id}-${l.getTime()}`;n(f=>[...f,{id:o.id,key:c,title:o.title,body:R1(o.schedule)}]),setTimeout(()=>{n(f=>f.filter(p=>p.key!==c))},7e3)}})};s();const a=window.setInterval(s,15e3);return()=>window.clearInterval(a)},[e]),t.length===0?null:i.jsx(Sn,{children:i.jsx("div",{className:"fixed right-6 top-24 z-50 flex w-72 flex-col gap-2 text-sm",children:t.map(s=>i.jsx("div",{className:"rounded-2xl border border-slate-700 bg-slate-900/95 px-4 py-3 shadow-xl",children:i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-semibold text-slate-100",children:s.title}),s.body&&i.jsx("p",{className:"text-xs text-slate-400",children:s.body})]}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-2 py-0.5 text-xs text-slate-300 hover:bg-slate-700",onClick:()=>n(a=>a.filter(l=>l.key!==s.key)),children:"close"})]})},s.key))})})}function O1(e,t,n){const r=e.schedule,s=t.getTime(),a=n??new Date(e.createdAt).getTime();switch(r.type){case"every_minutes":{const l=r.intervalMinutes*Ps;return s-a>=l}case"hourly":return t.getMinutes()!==r.minuteMark?!1:s-a>=qm-Ps/2;case"daily":return Va(r.time,t)?s-a>=Ba-10*Ps:!1;case"weekly":{const l=L1(t);return!r.daysOfWeek.includes(l)||!Va(r.time,t)?!1:s-a>=7*Ba-10*Ps}case"monthly":return!Va(r.time,t)||!r.daysOfMonth.includes(t.getDate())?!1:s-a>=27*Ba;case"yearly":{if(!Va(r.time,t))return!1;const l=oe(t,"MM-dd");return r.dates.includes(l)?s-a>=350*Ba:!1}default:return!1}}function Va(e,t){const[n,r]=e.split(":").map(s=>Number.parseInt(s,10));return t.getHours()===n&&t.getMinutes()===r}function L1(e){return(e.getDay()+6)%7}function R1(e){switch(e.type){case"every_minutes":return`Every ${e.intervalMinutes} minutes`;case"hourly":return`Every hour at minute ${e.minuteMark}`;case"daily":return`Daily at ${e.time}`;case"weekly":return`Weekly on ${e.daysOfWeek.map(t=>["Mon","Tue","Wed","Thu","Fri","Sat","Sun"][t]).join(", ")} at ${e.time}`;case"monthly":return`Monthly on days ${e.daysOfMonth.join(", ")} at ${e.time}`;case"yearly":return`Yearly on ${e.dates.join(", ")} at ${e.time}`;default:return}}const gi="h-5 w-5",I1=()=>i.jsxs("svg",{viewBox:"0 0 24 24",className:gi,fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[i.jsx("rect",{x:"3.5",y:"5",width:"17",height:"15",rx:"3",className:"fill-slate-900/60"}),i.jsx("path",{d:"M7 3v4M17 3v4",strokeLinecap:"round"}),i.jsx("path",{d:"M4 9h16",strokeLinecap:"round"}),i.jsx("circle",{cx:"12",cy:"14",r:"2.3",className:"fill-current"})]}),A1=()=>i.jsxs("svg",{viewBox:"0 0 24 24",className:gi,fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[i.jsx("rect",{x:"4",y:"5",width:"16",height:"14",rx:"3",className:"fill-slate-900/60"}),i.jsx("path",{d:"M8 9.5h8M8 13h5",strokeLinecap:"round"}),i.jsx("path",{d:"m6.5 10 1.5 1.5 3-3",strokeLinecap:"round",strokeLinejoin:"round"})]}),W1=()=>i.jsxs("svg",{viewBox:"0 0 24 24",className:gi,fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:[i.jsx("rect",{x:"4",y:"4",width:"16",height:"16",rx:"4",className:"fill-slate-900/60"}),i.jsx("path",{d:"M8 8h0.01M12 8h0.01M16 8h0.01M8 12h0.01M12 12h0.01M16 12h0.01M8 16h0.01M12 16h0.01M16 16h0.01",strokeLinecap:"round"})]}),$1=()=>i.jsx("svg",{viewBox:"0 0 24 24",className:gi,fill:"none",stroke:"currentColor",strokeWidth:"1.6",children:i.jsx("path",{d:"M12 15.2a3.2 3.2 0 1 0 0-6.4 3.2 3.2 0 0 0 0 6.4Zm6.6-3.2a1.1 1.1 0 0 0 .72-1.9l-1.1-.9a7.3 7.3 0 0 0 .07-1.1l1.05-.83a1.1 1.1 0 0 0-.7-1.95l-1.36.05a7.32 7.32 0 0 0-.95-.82l.18-1.34A1.1 1.1 0 0 0 15.5 2l-1.2.74a7.36 7.36 0 0 0-1.3-.2L12.7 1a1.1 1.1 0 0 0-1.4 0l-.3 1.54a7.36 7.36 0 0 0-1.3.2L8.5 2a1.1 1.1 0 0 0-1.6 1.04l.18 1.34a7.32 7.32 0 0 0-.95.82l-1.36-.05a1.1 1.1 0 0 0-.7 1.95l1.05.83c-.03.35-.03.7.07 1.1l-1.1.9a1.1 1.1 0 0 0 .72 1.9l1.38-.1c.26.33.54.63.86.9l-.23 1.35A1.1 1.1 0 0 0 7.9 20l1.24-.76c.42.17.86.3 1.32.39L10.8 21a1.1 1.1 0 0 0 2.4 0l.34-1.37c.46-.08.9-.22 1.32-.39l1.24.76a1.1 1.1 0 0 0 1.63-1.04l-.23-1.35c.32-.27.6-.57.86-.9l1.38.1Z",className:"stroke-current",strokeLinecap:"round",strokeLinejoin:"round"})}),ef=[{to:"/",label:"Today",icon:i.jsx(I1,{})},{to:"/tasks",label:"Tasks",icon:i.jsx(A1,{})},{to:"/lifespan",label:"Life",icon:i.jsx(W1,{})},{to:"/settings",label:"Settings",icon:i.jsx($1,{})}];function F1(){return i.jsx("div",{className:"h-screen bg-transparent",children:i.jsxs("div",{className:"mx-auto flex h-screen w-full max-w-5xl flex-col bg-slate-900/90 backdrop-blur md:rounded-3xl md:border md:border-slate-800/80 md:px-8 md:py-6 md:shadow-[0_25px_60px_-20px_rgba(15,23,42,0.8)]",children:[i.jsxs("header",{className:"hidden md:flex h-[10%] flex-col gap-4 px-4 py-4 md:flex-row md:items-center md:justify-between md:px-0",children:[i.jsxs("div",{children:[i.jsx("h1",{className:"text-2xl font-semibold text-slate-100",children:"Driftcue"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Design your weeks, honour your life."})]}),i.jsx("nav",{className:"hidden items-center gap-2 md:flex",children:ef.map(e=>i.jsxs(Od,{to:e.to,end:e.to==="/",className:({isActive:t})=>`flex items-center gap-2 rounded-full px-4 py-2 text-sm font-medium transition-colors ${t?"bg-[color:var(--accent-600)] text-white shadow-[0_18px_40px_-24px_var(--accent-shadow-strong)]":"text-slate-300 hover:bg-slate-800/60"}`,children:[i.jsx("span",{"aria-hidden":!0,className:"flex h-8 w-8 items-center justify-center rounded-full bg-slate-900/70",children:e.icon}),e.label]},e.to))})]}),i.jsx("main",{className:"flex-1 h-[90%] px-4 pb-2 pt-5 md:pt-0 md:px-0 md:pb-8",children:i.jsx(Tx,{})}),i.jsx("nav",{className:"sticky bottom-0 flex h-[10%]  w-full justify-around border-t border-slate-800 bg-slate-950/95 py-2 backdrop-blur md:hidden",children:ef.map(e=>i.jsxs(Od,{to:e.to,end:e.to==="/",className:({isActive:t})=>`flex flex-col items-center gap-1 rounded-md px-3 py-2 text-xs transition-colors ${t?"bg-[color:var(--accent-600-soft)] text-[color:var(--accent-200)]":"text-slate-400"}`,children:[i.jsx("span",{"aria-hidden":!0,className:"flex h-9 w-9 items-center justify-center rounded-full bg-slate-900/70",children:e.icon}),e.label]},e.to))}),i.jsx(D1,{})]})})}function rr(){return typeof window<"u"&&"Notification"in window&&"serviceWorker"in navigator}function z1(){return rr()?"showTrigger"in Notification.prototype:!1}function gc(){const[e,t]=h.useState(()=>rr()?Notification.permission:"unsupported");h.useEffect(()=>{if(!rr()){t("unsupported");return}t(Notification.permission)},[]);const n=h.useCallback(async()=>{if(!rr())return t("unsupported"),"unsupported";const l=await Notification.requestPermission();return t(l),l},[]),r=h.useCallback(async l=>{var u;if(!rr())return;const o=await navigator.serviceWorker.ready;await((u=o.showNotification)==null?void 0:u.call(o,"Driftcue reminder",{body:`${l.title} is waiting for you`,tag:`task-${l.id}`,data:{taskId:l.id}}))},[]),s=h.useCallback(async l=>{var f,p;if(!rr()||e!=="granted"||!l.reminderAt)return;const o=new Date(l.reminderAt).getTime();if(Number.isNaN(o))return;const u=await navigator.serviceWorker.ready,c=await((f=u.getNotifications)==null?void 0:f.call(u,{tag:`task-${l.id}`}));if(c==null||c.forEach(m=>m.close()),z1()&&window.TimestampTrigger){const m=new window.TimestampTrigger(o);await((p=u.showNotification)==null?void 0:p.call(u,"Driftcue reminder",{body:`${l.title} starts soon`,tag:`task-${l.id}`,data:{taskId:l.id},showTrigger:m}))}else o<=Date.now()&&await r(l)},[e,r]),a=h.useCallback(async l=>{var c;if(!rr())return;const o=await navigator.serviceWorker.ready,u=await((c=o.getNotifications)==null?void 0:c.call(o,{tag:`task-${l}`}));u==null||u.forEach(f=>f.close())},[]);return{permission:e,requestPermission:n,scheduleReminder:s,cancelReminder:a}}const U1="inline-flex h-9 w-9 items-center justify-center rounded-full border border-slate-700 bg-slate-900 text-slate-300 transition-colors hover:border-slate-500 hover:text-white focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-500)]/30 focus:ring-offset-2 focus:ring-offset-slate-900";function ir({className:e="",...t}){return i.jsx("button",{type:"button","aria-label":"Close dialog",className:`${U1} ${e}`.trim(),...t,children:i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5","aria-hidden":"true",children:i.jsx("path",{d:"M6 6l12 12M18 6L6 18"})})})}function B1(){const{state:{profile:e},actions:t}=dn(),{permission:n,requestPermission:r}=gc(),[s,a]=h.useState(!(e!=null&&e.onboardingComplete)),[l,o]=h.useState({name:(e==null?void 0:e.name)??"",dateOfBirth:(e==null?void 0:e.dateOfBirth)??"",allowNotifications:(e==null?void 0:e.allowNotifications)??!1});if(h.useEffect(()=>{e!=null&&e.onboardingComplete||a(!0)},[e]),!s)return null;const u=async c=>{c.preventDefault();let f=l.allowNotifications;f&&n!=="granted"&&(f=await r()==="granted");const p={name:l.name.trim(),dateOfBirth:l.dateOfBirth,dayStartHour:(e==null?void 0:e.dayStartHour)??0,dayEndHour:(e==null?void 0:e.dayEndHour)??24,lifeExpectancyYears:(e==null?void 0:e.lifeExpectancyYears)??90,allowNotifications:f,onboardingComplete:!0};t.setProfile(p),a(!1)};return i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur",children:i.jsxs("form",{className:"w-full max-w-md space-y-4 rounded-2xl bg-slate-900 p-6 shadow-xl",onSubmit:u,role:"dialog","aria-modal":"true",children:[i.jsxs("div",{className:"flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:"Welcome to Driftcue"}),i.jsx("p",{className:"text-sm text-slate-400",children:"A few details help personalise your dashboard."})]}),i.jsx(ir,{onClick:()=>a(!1)})]}),i.jsxs("label",{className:"block space-y-1",children:[i.jsx("span",{className:"text-sm text-slate-300",children:"Name"}),i.jsx("input",{required:!0,value:l.name,onChange:c=>o(f=>({...f,name:c.target.value})),className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-sm text-slate-100",placeholder:"Your name"})]}),i.jsxs("label",{className:"block space-y-1",children:[i.jsx("span",{className:"text-sm text-slate-300",children:"Date of birth"}),i.jsx("input",{required:!0,type:"date",value:l.dateOfBirth,onChange:c=>o(f=>({...f,dateOfBirth:c.target.value})),max:zs(),className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-sm text-slate-100"})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-slate-800/70 px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm font-medium text-slate-200",children:"Enable reminders"}),i.jsx("p",{className:"text-xs text-slate-400",children:"We will only use local notifications."})]}),i.jsx("button",{type:"button",role:"switch","aria-checked":l.allowNotifications,className:`flex h-6 w-12 items-center rounded-full border px-1 transition-colors ${l.allowNotifications?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/40":"border-slate-700 bg-slate-800"}`,onClick:()=>o(c=>({...c,allowNotifications:!c.allowNotifications})),children:i.jsx("span",{className:`h-4 w-4 rounded-full bg-white transition-transform ${l.allowNotifications?"translate-x-6":"translate-x-0"}`})})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",className:"rounded-lg bg-[color:var(--accent-600)] px-4 py-2 text-sm font-semibold text-white shadow transition-colors hover:bg-[color:var(--accent-500)]",children:"Save & start"})})]})})}function V1(){const{state:{tasks:e,profile:t}}=dn(),{permission:n,scheduleReminder:r,cancelReminder:s}=gc();return h.useEffect(()=>{if(!(t!=null&&t.allowNotifications)||n!=="granted"){e.forEach(a=>s(a.id));return}e.forEach(a=>{if(!a.reminderAt){s(a.id);return}if(a.status==="completed"||a.status==="skipped"){s(a.id);return}const l=new Date(a.reminderAt).getTime();if(Number.isNaN(l)||l<Date.now()-5*60*1e3){s(a.id);return}r(a)})},[e,n,t==null?void 0:t.allowNotifications,r,s]),null}const Pt=24*60;function ga(e){if(typeof e.durationMinutes=="number"&&Number.isFinite(e.durationMinutes))return Math.max(0,Math.floor(e.durationMinutes));if(e.startAt&&e.deadlineAt){const t=Ae(e.startAt),n=Ae(e.deadlineAt),r=lu(n,t);return Math.max(0,r)}return 0}function ns(e,t,n,r){const s=(r==null?void 0:r.excludeCompleted)??!1;return e.filter(a=>a.scheduledFor===t&&a.id!==n).filter(a=>s?a.status!=="completed":!0).reduce((a,l)=>a+ga(l),0)}function pe(e){const t=Math.max(0,Math.floor(e)),n=Math.floor(t/60),r=t%60;return n===0?`${r}m`:r===0?`${n}h`:`${n}h ${r}m`}function H1(e,t,n,r){const s=ns(e,t,n,r),a=Math.min(Pt,s);return{assigned:s,remaining:Math.max(0,Pt-a)}}function Ha(e){const t=[],n=/(\*\*[^*]+\*\*|\*[^*]+\*|`[^`]+`|\[[^\]]+\]\([^\s)]+\))/g;let r=0,s;for(;(s=n.exec(e))!==null;){s.index>r&&t.push({type:"text",value:e.slice(r,s.index)});const a=s[0];if(a.startsWith("**")&&a.endsWith("**"))t.push({type:"strong",value:a.slice(2,-2)});else if(a.startsWith("*")&&a.endsWith("*"))t.push({type:"em",value:a.slice(1,-1)});else if(a.startsWith("`")&&a.endsWith("`"))t.push({type:"code",value:a.slice(1,-1)});else if(a.startsWith("[")&&a.includes("](")&&a.endsWith(")")){const l=a.indexOf("]("),o=a.slice(1,l),u=a.slice(l+2,-1);t.push({type:"link",label:o,href:u})}else t.push({type:"text",value:a});r=n.lastIndex}return r<e.length&&t.push({type:"text",value:e.slice(r)}),t}function Ya({tokens:e}){return i.jsx(i.Fragment,{children:e.map((t,n)=>t.type==="text"?i.jsx(h.Fragment,{children:t.value},n):t.type==="strong"?i.jsx("strong",{className:"font-semibold text-slate-200",children:t.value},n):t.type==="em"?i.jsx("em",{className:"italic text-slate-200",children:t.value},n):t.type==="code"?i.jsx("code",{className:"rounded bg-slate-800 px-1.5 py-0.5 text-[13px] text-slate-200",children:t.value},n):i.jsx("a",{href:t.href,target:"_blank",rel:"noreferrer",className:"text-[color:var(--accent-300)] hover:underline",children:t.label},n))})}function Y1(e){const t=e.replace(/\r/g,"").split(`
`),n=[];let r=0;const s=(a,l)=>{if(a.length===0)return;const o=l?"ol":"ul";n.push(i.jsx(o,{className:"ml-5 space-y-1 marker:text-slate-400",children:a.map((u,c)=>i.jsx("li",{className:"text-sm text-slate-200",children:i.jsx(Ya,{tokens:Ha(u)})},c))},`list-${n.length}`))};for(;r<t.length;){const a=t[r];if(!a.trim()){r+=1;continue}if(a.startsWith("```")){const f=a.slice(3).trim(),p=[];for(r+=1;r<t.length&&!t[r].startsWith("```");)p.push(t[r]),r+=1;r<t.length&&(r+=1),n.push(i.jsx("pre",{className:"overflow-auto rounded-xl bg-slate-950/70 p-3 text-xs text-slate-200",children:i.jsx("code",{"data-language":f,children:p.join(`
`)})},`code-${n.length}`));continue}const l=a.match(/^(#{1,6})\s+(.*)$/);if(l){const f=l[1].length,p=l[2],m=`h${Math.min(f+2,6)}`;n.push(i.jsx(m,{className:"font-semibold text-slate-100",children:i.jsx(Ya,{tokens:Ha(p)})},`heading-${n.length}`)),r+=1;continue}if(a.startsWith("- ")||a.startsWith("* ")){const f=[];for(;r<t.length&&(t[r].startsWith("- ")||t[r].startsWith("* "));)f.push(t[r].slice(2)),r+=1;s(f,!1);continue}if(a.match(/^(\d+)\.\s+(.*)$/)){const f=[];for(;r<t.length&&/^\d+\.\s+/.test(t[r]);)f.push(t[r].replace(/^\d+\.\s+/,"")),r+=1;s(f,!0);continue}if(a.startsWith(">")){const f=[a.replace(/^>\s?/,"")];for(r+=1;r<t.length&&t[r].startsWith(">");)f.push(t[r].replace(/^>\s?/,"")),r+=1;n.push(i.jsx("blockquote",{className:"border-l-2 border-slate-700 pl-4 text-sm text-slate-300",children:f.map((p,m)=>i.jsx("p",{className:"mb-2 last:mb-0",children:i.jsx(Ya,{tokens:Ha(p)})},m))},`quote-${n.length}`));continue}const u=[a];for(r+=1;r<t.length&&t[r].trim()&&!t[r].match(/^(#{1,6})\s+/)&&!t[r].startsWith("```")&&!t[r].startsWith("- ")&&!t[r].startsWith("* ")&&!/^\d+\.\s+/.test(t[r])&&!t[r].startsWith(">");)u.push(t[r]),r+=1;const c=u.join(" ");n.push(i.jsx("p",{className:"text-sm leading-relaxed text-slate-200",children:i.jsx(Ya,{tokens:Ha(c)})},`paragraph-${n.length}`))}return n.length>0?n:null}function is({content:e,className:t}){const n=h.useMemo(()=>!e||!e.trim()?null:Y1(e.trim()),[e]);return n?i.jsx("div",{className:t??"space-y-3",children:n}):null}function Jm({message:e}){return i.jsx("p",{className:"text-sm text-slate-500",children:e})}function tf(e,t,n){return Number.isNaN(e)?t:Math.min(Math.max(e,t),n)}function Z1({draft:e,allocation:t,onChange:n}){const r=a=>{if(a!==e.mode){if(a==="duration"){n({mode:a,startTime:"",deadlineTime:""});return}n({mode:a,durationHours:1,durationMinutes:0})}},s=(a,l)=>{const o=Number.parseInt(l,10),u=a==="durationHours"?tf(o,0,24):tf(o,0,59);n({[a]:u})};return i.jsxs("div",{className:"space-y-4 rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[i.jsx("span",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Scheduling mode"}),i.jsxs("div",{className:"flex gap-2 text-xs font-medium text-slate-300",children:[i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${e.mode==="time"?"bg-[color:var(--accent-600)] text-white shadow-[0_16px_32px_-20px_var(--accent-shadow-strong)]":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,onClick:()=>r("time"),children:"Schedule by time"}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${e.mode==="duration"?"bg-[color:var(--accent-600)] text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,onClick:()=>r("duration"),children:"Assign duration"})]}),i.jsxs("label",{className:"block space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Scheduled for"}),i.jsx("input",{type:"date",className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-500)]/40",value:e.scheduledFor,onChange:a=>n({scheduledFor:a.target.value}),required:!0})]}),e.mode==="time"?i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Starts at (optional)"}),i.jsx("input",{type:"time",className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:e.startTime,onChange:a=>n({startTime:a.target.value})})]}),i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Deadline (optional)"}),i.jsx("input",{type:"time",className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:e.deadlineTime,onChange:a=>n({deadlineTime:a.target.value})})]})]}):i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Hours"}),i.jsx("input",{type:"number",min:0,max:24,className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:e.durationHours,onChange:a=>s("durationHours",a.target.value)})]}),i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Minutes"}),i.jsx("input",{type:"number",min:0,max:59,className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:e.durationMinutes,onChange:a=>s("durationMinutes",a.target.value)})]})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2 text-[11px] text-slate-300",children:[i.jsx("span",{className:"font-medium text-slate-200",children:"Active load:"})," ",pe(t.assigned),i.jsx("span",{className:"mx-2 text-slate-600",children:"|"}),i.jsx("span",{className:"font-medium text-slate-200",children:"Time left:"})," ",pe(t.remaining)]})]})}function eh({mode:e,open:t,draft:n,allocation:r,preferences:s,availableTags:a,error:l,onClose:o,onChange:u,onSubmit:c}){const[f,p]=h.useState("write"),[m,k]=h.useState(!1),N=h.useRef(null);if(h.useEffect(()=>{t||(p("write"),k(!1))},[t]),h.useEffect(()=>{if(!m)return;const d=b=>{N.current&&!N.current.contains(b.target)&&k(!1)},x=b=>{b.key==="Escape"&&k(!1)};return document.addEventListener("mousedown",d),document.addEventListener("keydown",x),()=>{document.removeEventListener("mousedown",d),document.removeEventListener("keydown",x)}},[m]),!t)return null;const j=d=>{d.preventDefault(),c()},C=d=>{const b=n.tags.includes(d)?n.tags.filter(P=>P!==d):[...n.tags,d];u({tags:b})},g=()=>u({tags:[]});return i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 px-3 py-6 backdrop-blur",onClick:o,role:"dialog","aria-modal":"true",children:i.jsxs("div",{className:"w-full max-w-xl max-h-[90vh] overflow-y-auto rounded-2xl bg-slate-900/95 p-6 shadow-2xl",onClick:d=>d.stopPropagation(),children:[i.jsxs("div",{className:"mb-5 flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:e==="create"?"Plan a task":"Edit task"}),i.jsx(ir,{onClick:o})]}),i.jsxs("form",{className:"space-y-5",onSubmit:j,children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Title"}),i.jsx("input",{className:"w-full rounded-2xl border border-slate-700 bg-slate-950/80 px-4 py-2.5 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-500)]/40",placeholder:"What will you do?",value:n.title,onChange:d=>u({title:d.target.value}),required:!0})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-2 inline-flex gap-2 rounded-full bg-slate-800/80 p-1 text-xs text-slate-400",children:[i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${f==="write"?"bg-[color:var(--accent-600)] text-white":"hover:text-white"}`,onClick:()=>p("write"),children:"Write"}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${f==="preview"?"bg-[color:var(--accent-600)] text-white":"hover:text-white"}`,onClick:()=>p("preview"),children:"Preview"})]}),f==="write"?i.jsx("textarea",{className:"w-full rounded-2xl border border-slate-700 bg-slate-950/80 px-4 py-3 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-500)]/40",placeholder:"Add an optional note (Markdown supported)",value:n.description,onChange:d=>u({description:d.target.value}),rows:6}):n.description?i.jsx("div",{className:"rounded-xl border border-slate-800 bg-slate-900/70 px-3 py-2",children:i.jsx(is,{content:n.description})}):i.jsx("div",{className:"rounded-xl border border-dashed border-slate-800 px-3 py-6 text-center",children:i.jsx(Jm,{message:"Nothing to preview yet."})})]}),i.jsxs("div",{className:"space-y-2 text-sm",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Tags"}),i.jsxs("div",{ref:N,className:"relative flex flex-wrap items-center gap-2",children:[n.tags.map(d=>i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-3 py-1 text-[11px] text-slate-200",children:[d,i.jsx("button",{type:"button","aria-label":`Remove ${d}`,className:"text-slate-400 transition-colors hover:text-rose-300",onClick:()=>C(d),children:""})]},d)),i.jsxs("button",{type:"button",className:`inline-flex items-center gap-2 rounded-full border px-3 py-1 text-xs font-medium transition-colors ${m?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/10 text-slate-100":"border-slate-700 bg-slate-900/60 text-slate-200 hover:border-[color:var(--accent-500)]/70"}`,onClick:()=>k(d=>!d),children:[n.tags.length>0?"Edit tags":"Select tags",i.jsxs("span",{className:"text-[10px] uppercase tracking-wide text-slate-500",children:[n.tags.length," selected"]})]}),n.tags.length>0&&i.jsx("button",{type:"button",className:"text-[11px] text-slate-400 underline-offset-2 transition-colors hover:text-rose-300 hover:underline",onClick:g,children:"Clear"}),m&&i.jsx("div",{className:"absolute right-0 top-full z-20 mt-2 w-full min-w-[220px] max-w-xs overflow-hidden rounded-2xl border border-slate-700 bg-slate-900/95 shadow-xl",children:a.length===0?i.jsx("p",{className:"px-3 py-2 text-xs text-slate-500",children:"No tags yet. Add tags from Settings."}):i.jsx("ul",{className:"max-h-60 overflow-auto py-2 text-xs text-slate-200",children:a.map(d=>{const x=n.tags.includes(d);return i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>C(d),className:`flex w-full items-center justify-between px-3 py-2 text-left transition-colors ${x?"bg-[color:var(--accent-600)]/20 text-slate-50":"hover:bg-slate-800/80"}`,children:[i.jsx("span",{children:d}),i.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${x?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/30 text-[color:var(--accent-200)]":"border-slate-700 text-transparent"}`,"aria-hidden":"true",children:""})]})},d)})})})]})]}),i.jsx(Z1,{draft:n,allocation:r,onChange:u}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 rounded-2xl border border-slate-800 bg-slate-900/70 px-4 py-3 text-xs text-slate-300",children:[i.jsxs("div",{className:"flex-1",children:[i.jsx("p",{className:"font-semibold text-slate-100",children:"Counts toward daily progress"}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Need at least ",s.progressiveTasksPerDay," per day"]})]}),i.jsx("button",{type:"button",onClick:()=>u({progressive:!n.progressive}),className:`flex h-6 w-12 items-center rounded-full border px-1 transition-colors ${n.progressive?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/40":"border-slate-700 bg-slate-800"}`,"aria-pressed":n.progressive,"aria-label":"Toggle counts toward progress",children:i.jsx("span",{className:`h-4 w-4 rounded-full bg-white transition-transform ${n.progressive?"translate-x-6":"translate-x-0"}`})})]}),l&&i.jsx("p",{className:"rounded-xl border border-rose-500/40 bg-rose-500/10 px-3 py-2 text-sm text-rose-200",children:l}),i.jsxs("p",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 px-3 py-2 text-xs text-slate-400",children:["Reminders fire ",s.reminderLeadMinutes," minutes before start when notifications are enabled."]}),i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-2 pt-2",children:[i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-sm text-slate-300 hover:border-slate-500",onClick:o,children:"Cancel"}),i.jsx("button",{type:"submit",className:"rounded-full bg-[color:var(--accent-600)] px-6 py-2 text-sm font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)] shadow-[0_18px_32px_-24px_var(--accent-shadow-strong)]",children:e==="create"?"Add task":"Save changes"})]})]})]})})})}function Zl(e,t){if(!t)return;const[n,r]=t.split(":").map(a=>Number.parseInt(a,10));if(Number.isNaN(n)||Number.isNaN(r))return;const s=new Date(e);return s.setHours(n,r,0,0),s.toISOString()}function Wn(e){if(!e)return null;try{return oe(Ae(e),"p")}catch{return null}}function Gl(e){return{title:"",description:"",scheduledFor:"",mode:"time",startTime:e??"",deadlineTime:"",durationHours:1,durationMinutes:0,progressive:!0,tags:[]}}function th(e,t=""){const n=typeof e.durationMinutes=="number"&&e.durationMinutes>0,r=Math.max(0,e.durationMinutes??0);return{title:e.title,description:e.description??"",scheduledFor:e.scheduledFor,mode:n?"duration":"time",startTime:n?"":e.startAt?oe(Ae(e.startAt),"HH:mm"):t,deadlineTime:n||!e.deadlineAt?"":oe(Ae(e.deadlineAt),"HH:mm"),durationHours:n?Math.floor(r/60):1,durationMinutes:n?r%60:0,progressive:e.progressive??!0,tags:e.tags??[]}}function nh(e,t){const n=G1(t);return n===null?!0:n<=e}function G1(e){if(e.mode==="duration")return Math.max(0,(e.durationHours??0)*60+(e.durationMinutes??0));const t=Zl(e.scheduledFor,e.startTime||""),n=Zl(e.scheduledFor,e.deadlineTime||"");if(!t||!n)return null;const r=Math.floor((new Date(n).getTime()-new Date(t).getTime())/6e4);return Math.max(0,r)}function rh(e,t){if(!e)return;if(!t||t<=0)return e;const n=new Date(e);return new Date(n.getTime()-t*60*1e3).toISOString()}function sh(e,t,n,r){if(!t)return{error:"Choose a day for this task."};if(n.mode==="duration"){const c=Math.max(0,n.durationHours*60+n.durationMinutes);if(c<=0)return{error:"Set a duration greater than zero."};const f=ns(e,t,r);if(f+c>Pt){const p=Math.max(0,Pt-f);return{error:p===0?"This day is already fully allocated.":`Only ${pe(p)} left on this day.`}}return{durationMinutes:c}}const s=Zl(t,n.startTime),a=n.deadlineTime?Zl(t,n.deadlineTime):void 0;if(a&&!s)return{error:"Set a start time before the deadline."};if(!s)return{};const l=new Date(s).getTime();if(Number.isNaN(l))return{error:"Start time is invalid."};let o;if(a){if(o=new Date(a).getTime(),Number.isNaN(o))return{error:"Deadline is invalid."};if(o<=l)return{error:"Deadline must be after the start time."};const c=ns(e,t,r),f=Math.floor((o-l)/6e4);if(c+f>Pt){const p=Math.max(0,Pt-c);return{error:p===0?"This day is already fully allocated.":`Only ${pe(p)} left on this day.`}}}const u=e.find(c=>{if(c.id===r||c.scheduledFor!==t||!c.startAt)return!1;const f=new Date(c.startAt).getTime(),p=c.deadlineAt?new Date(c.deadlineAt).getTime():void 0;return Number.isFinite(f)?f===l?!0:o&&p?l<p&&f<o:o&&!p?f>l&&f<o:!o&&p?l>f&&l<p:!1:!1});if(u){const c=Wn(u.startAt)??"that time",f=u.deadlineAt?` to ${Wn(u.deadlineAt)}`:"";return{error:`${u.title} already occupies ${c}${f}.`}}return{startAt:s,deadlineAt:a}}function ah({task:e,open:t,onClose:n,onEdit:r}){if(!t||!e)return null;const s=ga(e),a=[],l=Wn(e.startAt);l&&a.push(`Starts ${l}`);const o=Wn(e.deadlineAt);o&&a.push(`Deadline ${o}`),s&&a.push(`Duration ${pe(s)}`);const u=Wn(e.reminderAt);return u&&a.push(`Reminder ${u}`),i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 px-3 py-6 backdrop-blur",onClick:n,role:"dialog","aria-modal":"true",children:i.jsxs("div",{className:"w-full max-w-2xl max-h-[90vh] overflow-y-auto rounded-3xl border border-slate-800 bg-slate-900/95 p-6 shadow-[0_40px_80px_-30px_rgba(15,23,42,0.85)]",onClick:c=>c.stopPropagation(),children:[i.jsxs("header",{className:"mb-5 flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:e.title}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs",children:[i.jsx("span",{className:"rounded-full bg-slate-800 px-2.5 py-1 uppercase tracking-wide text-slate-300",children:e.status.replace("_"," ")}),e.progressive&&i.jsx("span",{className:"rounded-full bg-emerald-600/20 px-2.5 py-1 uppercase tracking-wide text-emerald-200",children:"Progressive"}),s>0&&i.jsxs("span",{className:"rounded-full bg-slate-800 px-2.5 py-1 text-slate-200",children:[pe(s)," planned"]})]})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[r&&i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-sm text-slate-200 hover:border-slate-500",onClick:()=>r(e),children:"Edit task"}),i.jsx(ir,{onClick:n})]})]}),i.jsxs("section",{className:"space-y-4 text-sm text-slate-200",children:[i.jsxs("div",{className:"grid gap-3 rounded-2xl border border-slate-800 bg-slate-900/70 p-4 text-xs text-slate-300 sm:grid-cols-2",children:[i.jsxs("p",{children:[i.jsx("span",{className:"font-semibold text-slate-100",children:"Scheduled:"})," ",e.scheduledFor]}),a.map(c=>i.jsx("p",{children:c},c))]}),e.tags.length>0&&i.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-4 text-xs text-slate-300",children:[i.jsx("p",{className:"mb-2 text-[11px] uppercase tracking-wide text-slate-500",children:"Tags"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:e.tags.map(c=>i.jsx("span",{className:"rounded-full bg-slate-800 px-3 py-1",children:c},c))})]}),i.jsxs("div",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[i.jsx("p",{className:"mb-2 text-[11px] uppercase tracking-wide text-slate-500",children:"Description"}),e.description?i.jsx(is,{content:e.description,className:"space-y-3"}):i.jsx("p",{className:"text-xs text-slate-500",children:"No description provided."})]})]})]})})})}function ro(e){const t=Math.max(0,Math.floor(e)),n=Math.floor(t/60),r=t%60;return n===0?`${r}m`:r===0?`${n}h`:`${n}h ${r}m`}function Q1(){const{state:{profile:e,tasks:t,preferences:n,taskTags:r},actions:s}=dn(),a=e?gu(e.dayStartHour,e.dayEndHour):{totalMinutes:0,minutesElapsed:0,minutesRemaining:0,percentElapsed:0},l=zs(),o=n.defaultReminderTime??"",[u,c]=h.useState(null),[f,p]=h.useState(null),[m,k]=h.useState(()=>({...Gl(o),scheduledFor:l})),[N,j]=h.useState(null),[C,g]=h.useState({}),d=h.useMemo(()=>t.filter(D=>D.scheduledFor===l).sort((D,z)=>{const Q=D.startAt??"",M=z.startAt??"";return Q.localeCompare(M)}),[t,l]),x=h.useMemo(()=>t.find(D=>D.id===u)??null,[t,u]),b=h.useMemo(()=>{const D=d.filter(F=>F.status==="completed").length,z=d.filter(F=>F.status==="in_progress").length,Q=d.filter(F=>F.progressive??!0).length,M=d.length,G=M===0?0:Math.min(100,D/M*100),T=M===0?0:Math.min(100,z/M*100),Y=M===0?0:Math.min(100,Q/M*100);return{completed:D,inProgress:z,progressive:Q,total:M,completedPercent:G,inProgressPercent:T,progressivePercent:Y}},[d]),P=h.useMemo(()=>ns(t,l,void 0,{excludeCompleted:!0}),[t,l]),A=Math.max(0,a.minutesRemaining-P),W=P>a.minutesRemaining,S=h.useMemo(()=>{if(!f)return{assigned:0,remaining:Pt};const D=m.scheduledFor||l,z=ns(t,D,f.taskId,{excludeCompleted:!0});let Q=Pt;if(e)if(D===l){const G=gu(e.dayStartHour,e.dayEndHour);Q=Math.max(0,G.minutesRemaining)}else{const G=e.dayEndHour-e.dayStartHour,T=G>0?G:G+24;Q=Math.max(0,Math.min(24,T)*60)}const M=Math.max(0,Q-z);return{assigned:z,remaining:M}},[f,m.scheduledFor,t,l,e]),I=D=>{g(z=>({...z,[D]:!z[D]}))},w=D=>{c(null),k(th(D,o)),p({mode:"edit",taskId:D.id}),j(null)},_=()=>{p(null),j(null),k(()=>({...Gl(o),scheduledFor:l}))},K=()=>{if(!f)return;j(null);const D=m.title.trim();if(!D){j("Give the task a name.");return}const z=m.scheduledFor,Q=sh(t,z,m,f.taskId);if("error"in Q){j(Q.error);return}if(!nh(S.remaining,m)){j("Task duration exceeds your remaining time for that day. Adjust duration or reschedule.");return}const M=Q.startAt,G=Q.deadlineAt,T=rh(M,n.reminderLeadMinutes);s.updateTask(f.taskId,{title:D,description:m.description.trim()||void 0,scheduledFor:z,startAt:M,deadlineAt:G,reminderAt:T,durationMinutes:Q.durationMinutes,progressive:m.progressive,tags:m.tags}),_()};return e?i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"md:hidden h-[8%] mb-5",children:[i.jsx("h1",{className:"text-2xl font-semibold text-slate-100",children:"Driftcue"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Design your weeks, honour your life."})]}),i.jsxs("div",{className:"space-y-6 h-[89%] overflow-y-auto",children:[i.jsxs("section",{className:"rounded-2xl bg-slate-800/60 p-4 shadow-lg",children:[i.jsxs("header",{className:"mb-3 flex items-center justify-between text-sm text-slate-300",children:[i.jsx("span",{children:"Today"}),i.jsx("span",{children:oe(new Date,"EEEE, MMM d")})]}),i.jsxs("div",{className:"space-y-3",children:[i.jsx("div",{className:"h-3 w-full overflow-hidden rounded-full bg-slate-700",children:i.jsx("div",{className:"h-3 rounded-full bg-[color:var(--accent-500)] transition-all",style:{width:`${a.percentElapsed}%`}})}),i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[i.jsxs("div",{children:[i.jsxs("p",{className:"font-semibold text-slate-200",children:[Math.round(a.percentElapsed),"% done"]}),i.jsxs("p",{children:[ro(a.minutesRemaining)," left"]})]}),i.jsxs("div",{className:"text-right",children:[i.jsxs("p",{className:"font-semibold text-slate-200",children:[ro(a.minutesElapsed)," spent"]}),i.jsxs("p",{children:["Total ",ro(a.totalMinutes)]})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-lg bg-slate-900/60 px-3 py-2 text-xs text-slate-300",children:[i.jsxs("span",{children:["Active workload: ",pe(P)]}),i.jsxs("span",{children:["Time left today: ",pe(A)]})]}),P>Pt&&i.jsx("p",{className:"text-xs text-amber-300",children:"You have planned more than 24 hours today. Consider trimming tasks."}),W&&i.jsx("p",{className:"text-xs text-rose-300",children:"Planned work exceeds your remaining day  some tasks may need to move."}),i.jsxs("div",{className:"space-y-2 text-xs text-slate-400",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[i.jsx("span",{children:"Completed"}),i.jsxs("span",{className:"font-semibold text-slate-200",children:[b.completed,"/",b.total]})]}),i.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-700",children:i.jsx("div",{className:"h-2 rounded-full bg-emerald-500 transition-all",style:{width:`${b.completedPercent}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[i.jsx("span",{children:"In progress"}),i.jsxs("span",{className:"font-semibold text-slate-200",children:[b.inProgress,"/",b.total]})]}),i.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-700",children:i.jsx("div",{className:"h-2 rounded-full bg-sky-500 transition-all",style:{width:`${b.inProgressPercent}%`}})})]}),i.jsxs("div",{children:[i.jsxs("div",{className:"mb-1 flex items-center justify-between",children:[i.jsx("span",{children:"Progressive"}),i.jsxs("span",{className:"font-semibold text-slate-200",children:[b.progressive,"/",b.total]})]}),i.jsx("div",{className:"h-2 w-full overflow-hidden rounded-full bg-slate-700",children:i.jsx("div",{className:"h-2 rounded-full bg-amber-400 transition-all",style:{width:`${b.progressivePercent}%`}})})]})]})]})]}),i.jsxs("section",{className:"space-y-3",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Today's tasks"}),i.jsxs("span",{className:"text-xs text-slate-400",children:[d.length," scheduled"]})]}),i.jsxs("ul",{className:"space-y-2",children:[d.length===0&&i.jsx("li",{className:"rounded-xl border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:"Plan something meaningful for today."}),d.map(D=>{const z=ga(D);return i.jsx("li",{className:"rounded-2xl bg-slate-800/70 p-4 cursor-pointer",onClick:()=>c(D.id),children:i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"font-medium text-slate-100",children:D.title}),i.jsx("span",{className:"rounded-full bg-slate-700 px-2 py-0.5 text-[11px] uppercase text-slate-300",children:D.status.replace("_"," ")}),D.progressive&&i.jsx("span",{className:"rounded-full bg-emerald-600/30 px-2 py-0.5 text-[11px] uppercase text-emerald-200",children:"Progressive"})]}),D.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 text-[11px] text-slate-300",children:D.tags.map(Q=>i.jsx("span",{className:"rounded-full bg-slate-700/80 px-2 py-0.5",children:Q},Q))}),D.description&&i.jsxs("div",{className:"pt-1",children:[i.jsxs("button",{type:"button",className:"flex items-center gap-2 text-xs text-[color:var(--accent-300)] hover:text-[color:var(--accent-200)]",onClick:Q=>{Q.stopPropagation(),I(D.id)},children:[i.jsx("span",{children:"Description"}),i.jsx("span",{children:C[D.id]?"":""})]}),C[D.id]&&i.jsx("div",{className:"mt-2 rounded-xl px-3 py-2",children:i.jsx(is,{content:D.description})})]}),i.jsxs("p",{className:"text-xs text-slate-400",children:[D.startAt?`Starts ${oe(Ae(D.startAt),"p")}`:"No start time",D.deadlineAt?`  Deadline ${oe(Ae(D.deadlineAt),"p")}`:"",z?`  Duration ${pe(z)}`:"",D.reminderAt?`  Reminder ${oe(Ae(D.reminderAt),"p")}`:""]})]}),i.jsxs("div",{className:"flex gap-2 text-xs",onClick:Q=>Q.stopPropagation(),children:[i.jsx("button",{className:"rounded-lg bg-slate-700 px-3 py-1 text-slate-200",onClick:()=>w(D),children:"Edit"}),i.jsx("button",{className:"rounded-lg bg-slate-700 px-3 py-1 text-rose-300",onClick:()=>s.deleteTask(D.id),children:"Delete"})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs",onClick:Q=>Q.stopPropagation(),children:["planned","in_progress","completed","skipped"].map(Q=>i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 capitalize transition-colors ${D.status===Q?"bg-[color:var(--accent-600)] text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,onClick:()=>s.setTaskStatus(D.id,Q),children:Q.replace("_"," ")},Q))})]})},D.id)})]})]}),i.jsx(eh,{mode:(f==null?void 0:f.mode)??"edit",open:!!f,draft:m,allocation:S,preferences:n,availableTags:r,error:N,onClose:_,onChange:D=>k(z=>({...z,...D})),onSubmit:K}),i.jsx(ah,{task:x,open:!!x,onClose:()=>c(null),onEdit:w})]})]}):i.jsxs("div",{className:"space-y-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Let's set up your profile"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Complete onboarding to start tracking your time."})]})}const so=10;function Zt(e){const t={total:0,completed:0,inProgress:0,progressive:0,assignedMinutes:0,spentMinutes:0,progressiveMinutes:0,statusMinutes:{planned:0,in_progress:0,completed:0,skipped:0},statusCounts:{planned:0,in_progress:0,completed:0,skipped:0}};return e.reduce((n,r)=>{n.total+=1,n.statusCounts[r.status]+=1,r.status==="completed"?n.completed+=1:r.status==="in_progress"&&(n.inProgress+=1);const s=(r.progressive??!0)&&r.status!=="skipped";s&&(n.progressive+=1);const a=ga(r);return n.assignedMinutes+=a,r.status==="completed"&&(n.spentMinutes+=a),n.statusMinutes[r.status]+=a,s&&(n.progressiveMinutes+=a),n},t)}const K1=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"];function X1(){const{state:{tasks:e,preferences:t,taskTags:n,profile:r},actions:s}=dn(),a=t.defaultReminderTime??"",l=zs(),[o,u]=h.useState(null),[c,f]=h.useState(()=>({...Gl(a),scheduledFor:zs()})),[p,m]=h.useState(null),[k,N]=h.useState(null),[j,C]=h.useState([]),[g,d]=h.useState(!1),[x,b]=h.useState([]),[P,A]=h.useState({}),W=h.useRef(null),S=h.useRef(null),I=h.useRef(null),[w,_]=h.useState(""),[K,D]=h.useState([]),[z,Q]=h.useState(!1),[M,G]=h.useState("today"),[T,Y]=h.useState(""),[F,se]=h.useState(1),[B,he]=h.useState(l),[Ze,Oe]=h.useState(()=>Pe(new Date,{weekStartsOn:1})),[Le,Ge]=h.useState(()=>qn(new Date)),[It,bt]=h.useState(()=>qi(new Date));h.useEffect(()=>{f(v=>({...v,startTime:v.mode==="time"&&!v.startTime?a:v.startTime}))},[a]),h.useEffect(()=>{se(1)},[M,T,B]),h.useEffect(()=>{M==="week"?Oe(Pe(Ae(B),{weekStartsOn:1})):M==="month"&&Ge(qn(Ae(B)))},[M,B]),h.useEffect(()=>{g&&b(j)},[g,j]);const fn=h.useMemo(()=>{const v=T.trim().toLowerCase();return e.filter(L=>v?`${L.title} ${L.description??""}`.toLowerCase().includes(v):!0).sort((L,$)=>{const fe=L.scheduledFor.localeCompare($.scheduledFor);if(fe!==0)return fe;const Ne=L.startAt??"",Ce=$.startAt??"";return Ne.localeCompare(Ce)})},[e,T]),gt=h.useMemo(()=>j.length===0?fn:fn.filter(v=>v.tags.some(L=>j.includes(L))),[fn,j]);h.useMemo(()=>Zt(gt),[gt]),h.useMemo(()=>j.map(v=>({tag:v,summary:Zt(fn.filter(L=>L.tags.includes(v)))})),[fn,j]);const Gn=h.useMemo(()=>{const v=new Map;return gt.forEach(L=>{const $=v.get(L.scheduledFor);$?$.push(L):v.set(L.scheduledFor,[L])}),v},[gt]),At=h.useMemo(()=>Gn.get(B)??[],[Gn,B]),Re=h.useMemo(()=>Zt(At),[At]),os=h.useMemo(()=>H1(e,B,void 0,{excludeCompleted:!0}),[e,B]),rt=Math.max(1,Math.ceil(At.length/so));h.useEffect(()=>{se(v=>Math.min(v,rt))},[rt]);const xa=h.useMemo(()=>{const v=(F-1)*so;return At.slice(v,v+so)},[At,F]);h.useEffect(()=>{g&&b(j)},[g,j]),h.useEffect(()=>{if(!g)return;const v=$=>{W.current&&!W.current.contains($.target)&&d(!1)},L=$=>{$.key==="Escape"&&d(!1)};return document.addEventListener("mousedown",v),document.addEventListener("keydown",L),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",L)}},[g]),h.useEffect(()=>{if(!z)return;const v=$=>{S.current&&!S.current.contains($.target)&&Q(!1)},L=$=>{$.key==="Escape"&&Q(!1)};return document.addEventListener("mousedown",v),document.addEventListener("keydown",L),()=>{document.removeEventListener("mousedown",v),document.removeEventListener("keydown",L)}},[z]);const St=h.useMemo(()=>e.find(v=>v.id===k)||null,[e,k]),ya=h.useMemo(()=>{try{return oe(Ae(B),"EEEE, MMM d")}catch{return B}},[B]),pn=h.useMemo(()=>{const v=Ze;return Ad({start:v,end:au(v,6)})},[Ze]),xi=h.useMemo(()=>pn.map(v=>{const L=oe(v,"yyyy-MM-dd"),$=Gn.get(L)??[];return{date:v,iso:L,summary:Zt($)}}),[pn,Gn]),yi=h.useMemo(()=>{const v=Pe(qn(Le),{weekStartsOn:1}),L=ly(Id(Le),{weekStartsOn:1}),$=Ad({start:v,end:L}),fe=[];for(let Ne=0;Ne<$.length;Ne+=7)fe.push($.slice(Ne,Ne+7));return fe},[Le]),Yt=h.useMemo(()=>{const v=new Map;return gt.forEach(L=>{const $=Ae(L.scheduledFor);if(Number.isNaN($.getTime()))return;const fe=qi($),Ne=v.get(fe)??[];Ne.push(L),v.set(fe,Ne)}),Array.from(v.entries()).sort((L,$)=>L[0]-$[0]).map(([L,$])=>({year:L,summary:Zt($)}))},[gt]),Qe=h.useMemo(()=>Yt.map(({year:v})=>v),[Yt]),Wt=qi(new Date);h.useEffect(()=>{if(Qe.length===0){It!==Wt&&bt(Wt);return}Qe.includes(It)||(Qe.includes(Wt)?bt(Wt):bt(Qe[Qe.length-1]))},[Qe,It,Wt]);const ut=h.useMemo(()=>Yt.find(({year:v})=>v===It)??null,[Yt,It]),_t=Qe.indexOf(It),mn=_t>0?Qe[_t-1]:null,va=_t>=0&&_t<Qe.length-1?Qe[_t+1]:null,hn=It!==Wt&&Qe.includes(Wt),Nr=v=>{G(v),v==="today"?he(L=>L||l):v==="week"?Oe(Pe(Ae(B),{weekStartsOn:1})):v==="month"&&Ge(qn(Ae(B)))},Qn=v=>{he(v),G("today")},Ke=v=>{Oe(L=>au(L,v*7))},Xe=v=>{Ge(L=>Hx(L,v))},wa=v=>{bt(v);const L=qn(new Date(v,0,1));Ge(L),he(oe(L,"yyyy-MM-dd")),G("month")},gn=()=>{C(x),d(!1)},us=()=>{b([]),C([])},Kn=v=>{b(L=>L.includes(v)?L.filter($=>$!==v):[...L,v])},vi=v=>{const{value:L}=v.target;Y(L),requestAnimationFrame(()=>{var $;($=I.current)==null||$.focus()})},Xn=h.useMemo(()=>{if(pn.length===0)return Zt([]);const v=new Set(pn.map($=>oe($,"yyyy-MM-dd"))),L=gt.filter($=>v.has($.scheduledFor));return Zt(L)},[gt,pn]),wi=h.useMemo(()=>{const v=oe(qn(Le),"yyyy-MM-dd"),L=oe(Id(Le),"yyyy-MM-dd"),$=gt.filter(fe=>fe.scheduledFor>=v&&fe.scheduledFor<=L);return Zt($)},[gt,Le]);w.trim().length===0&&K.length;const ka=({summary:v})=>i.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2 text-[11px] text-slate-300",children:[i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("span",{className:"font-semibold text-slate-100",children:v.total}),i.jsx("span",{className:"uppercase tracking-wide text-slate-500",children:"tasks"})]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("span",{className:"font-semibold text-sky-300",children:v.inProgress}),i.jsx("span",{className:"uppercase tracking-wide text-slate-500",children:"in progress"})]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("span",{className:"font-semibold text-emerald-300",children:v.completed}),i.jsx("span",{className:"uppercase tracking-wide text-slate-500",children:"done"})]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("span",{className:"font-semibold text-slate-100",children:pe(v.assignedMinutes)}),i.jsx("span",{className:"uppercase tracking-wide text-slate-500",children:"assigned"})]}),i.jsxs("span",{className:"inline-flex items-center gap-1 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("span",{className:"font-semibold text-slate-100",children:pe(v.spentMinutes)}),i.jsx("span",{className:"uppercase tracking-wide text-slate-500",children:"spent"})]})]}),ki=()=>i.jsxs("div",{className:"h-[28%] space-y-2",children:[i.jsx("div",{className:" rounded-2xl border border-slate-800 bg-slate-900/70 p-4 ",children:i.jsx("div",{className:"flex flex-col gap-3 md:flex-row md:items-end",children:i.jsx("div",{className:"flex w-full gap-2 md:w-auto",children:i.jsx("button",{type:"button",className:"flex-1 rounded-xl px-4 py-2 text-sm font-semibold transition-colors md:flex-none bg-[color:var(--accent-600)] text-white hover:bg-[color:var(--accent-500)]",onClick:ja,children:"Add task"})})})}),i.jsxs("div",{className:"space-y-3 flex rounded-2xl border border-slate-800 bg-slate-900/70 p-4",children:[i.jsxs("div",{className:"flex  items-end gap-3 w-full",children:[i.jsxs("div",{className:"flex-2 ",children:[i.jsx("label",{className:"mb-1 block text-xs uppercase text-slate-400",children:"Search tasks"}),i.jsx("input",{type:"search",placeholder:"Search by task or description",value:T,onChange:vi,ref:I,className:"w-full rounded-xl border border-slate-700 bg-slate-950/80 px-4 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none"})]}),i.jsxs("div",{className:"relative flex-1",ref:W,children:[i.jsx("label",{className:"mb-1 block text-xs uppercase text-slate-400",children:"Filters"}),i.jsxs("button",{type:"button",onClick:()=>d(v=>!v),className:`relative flex items-center gap-2 rounded-xl border px-3 py-2 text-sm transition-colors ${g||j.length>0?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/15 text-slate-100":"border-slate-700 bg-slate-900/60 text-slate-200 hover:border-[color:var(--accent-500)]/60"}`,children:[i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.8",strokeLinecap:"round",strokeLinejoin:"round",className:"h-5 w-5","aria-hidden":"true",children:i.jsx("path",{d:"M4 5h16M6 12h12M10 19h4"})}),i.jsx("span",{className:"text-xs font-semibold uppercase tracking-wide",children:"Filters"}),j.length>0&&i.jsx("span",{className:"absolute -top-1 -right-1 inline-flex h-4 min-w-[1rem] items-center justify-center rounded-full bg-[color:var(--accent-500)] px-1 text-[10px] font-semibold text-slate-900",children:j.length})]}),g&&i.jsxs("div",{className:"absolute right-0 z-30 mt-2 w-64 rounded-2xl border border-slate-700 bg-slate-900/95 p-4 shadow-xl",children:[i.jsx("p",{className:"mb-3 text-xs text-slate-400",children:"Choose tags to focus this view."}),n.length===0?i.jsx("p",{className:"text-xs text-slate-500",children:"No tags yet. Add some in Settings."}):i.jsx("ul",{className:"max-h-52 space-y-1 overflow-auto pr-1 text-sm text-slate-200",children:n.map(v=>{const L=x.includes(v);return i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>Kn(v),className:`flex w-full items-center justify-between rounded-xl px-3 py-2 text-left transition-colors ${L?"bg-[color:var(--accent-600)]/20 text-slate-50":"hover:bg-slate-800/80"}`,children:[i.jsx("span",{children:v}),i.jsx("span",{className:`flex h-5 w-5 items-center justify-center rounded-full border ${L?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/30 text-[color:var(--accent-200)]":"border-slate-700 text-transparent"}`,"aria-hidden":"true",children:""})]})},v)})}),i.jsxs("div",{className:"mt-4 flex items-center justify-between gap-2 text-xs",children:[i.jsx("button",{type:"button",className:"text-slate-400 transition-colors hover:text-rose-300",onClick:()=>{us(),d(!1)},children:"Clear all"}),i.jsx("button",{type:"button",className:"rounded-full bg-[color:var(--accent-600)] px-4 py-1 font-semibold text-white hover:bg-[color:var(--accent-500)]",onClick:gn,children:"Apply"})]})]})]})]}),j.length>0&&i.jsxs("div",{className:"flex flex-wrap items-center gap-2 pt-1",children:[j.map(v=>i.jsx("span",{className:"inline-flex items-center gap-1 rounded-full bg-slate-800 px-3 py-1 text-xs text-slate-200",children:v},v)),i.jsx("button",{type:"button",className:"text-xs text-slate-400 transition-colors hover:text-rose-300",onClick:us,children:"Clear filters"})]})]})]}),Ni=v=>{A(L=>({...L,[v]:!L[v]}))},Na=v=>({...Gl(a),scheduledFor:v??zs()}),ji=v=>{const L=Na(B),$=v?{...L,...v}:L;f($),u({mode:"create"}),m(null)},ja=()=>{const v={},L=w.trim();L&&(v.title=L),K.length>0&&(v.tags=K),ji(Object.keys(v).length>0?v:void 0),_(""),D([]),Q(!1)},cs=v=>{N(null),f(th(v,a)),u({mode:"edit",taskId:v.id}),m(null)},ds=()=>{u(null),m(null),f(Na(B))},fs=h.useMemo(()=>{if(!o)return{assigned:0,remaining:Pt};const v=c.scheduledFor||B,L=o.mode==="edit"?o.taskId:void 0,$=ns(e,v,L,{excludeCompleted:!0});let fe=Pt;if(r)if(v===l){const Ce=gu(r.dayStartHour,r.dayEndHour);fe=Math.max(0,Ce.minutesRemaining)}else{const Ce=r.dayEndHour-r.dayStartHour,xn=Ce>0?Ce:Ce+24;fe=Math.max(0,Math.min(24,xn)*60)}const Ne=Math.max(0,fe-$);return{assigned:$,remaining:Ne}},[o,c.scheduledFor,e,B,r,l]),y=()=>{if(!o)return;m(null);const v=c.title.trim();if(!v){m("Give the task a name.");return}const L=c.scheduledFor,$=o.mode==="edit"?o.taskId:void 0,fe=sh(e,L,c,$);if("error"in fe){m(fe.error);return}if(!nh(fs.remaining,c)){m("Task duration exceeds your remaining time for that day. Adjust duration or reschedule.");return}const Ne=fe.startAt,Ce=fe.deadlineAt,xn=rh(Ne,t.reminderLeadMinutes);o.mode==="create"?s.addTask({title:v,description:c.description.trim()||void 0,scheduledFor:L,startAt:Ne,deadlineAt:Ce,reminderAt:xn,durationMinutes:fe.durationMinutes,progressive:c.progressive,tags:c.tags}):s.updateTask(o.taskId,{title:v,description:c.description.trim()||void 0,scheduledFor:L,startAt:Ne,deadlineAt:Ce,reminderAt:xn,durationMinutes:fe.durationMinutes,progressive:c.progressive,tags:c.tags}),ds()},E=F>1,X=F<rt;return i.jsxs("div",{className:"space-y-2 h-full",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3 h-[6%] ",children:i.jsx("div",{className:"flex flex-wrap gap-2 text-xs font-medium text-slate-300",children:["today","week","month","all"].map(v=>i.jsxs("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${M===v?"bg-[color:var(--accent-600)] text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,onClick:()=>Nr(v),"aria-pressed":M===v,children:[v==="today"&&"Today",v==="week"&&"This week",v==="month"&&"This month",v==="all"&&"All tasks"]},v))})}),i.jsxs("div",{className:"flex flex-col gap-4 h-[92%] ",children:[i.jsx(ki,{}),M==="today"&&i.jsxs("section",{className:"space-y-4 h-[70%]  overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-200",children:ya}),i.jsxs("p",{className:"text-xs text-slate-400",children:[At.length," task",At.length===1?"":"s","  Assigned"," ",pe(Re.assignedMinutes),"  Spent ",pe(Re.spentMinutes),"  Active load"," ",pe(os.assigned),"  Time left ",pe(os.remaining)]})]}),B!==l&&i.jsx("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>{he(l),G("today")},children:"Jump to today"})}),i.jsxs("div",{className:"grid grid-cols-2 gap-3 text-xs text-slate-300 sm:grid-cols-4  ",children:[i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Planned"}),i.jsx("p",{className:"text-lg font-semibold text-slate-100",children:Re.total}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Time ",pe(Re.statusMinutes.planned)]})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"In progress"}),i.jsx("p",{className:"text-lg font-semibold text-sky-300",children:Re.inProgress}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Time ",pe(Re.statusMinutes.in_progress)]})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Completed"}),i.jsx("p",{className:"text-lg font-semibold text-emerald-300",children:Re.completed}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Time ",pe(Re.statusMinutes.completed)]})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-3",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Progressive"}),i.jsx("p",{className:"text-lg font-semibold text-amber-300",children:Re.progressive}),i.jsxs("p",{className:"text-[11px] text-slate-500",children:["Time ",pe(Re.progressiveMinutes)]})]})]}),At.length===0?i.jsx("p",{className:"rounded-xl border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:"No tasks planned for this day. Add one above."}):i.jsxs(i.Fragment,{children:[i.jsx("ul",{className:"space-y-2  pb-2",children:xa.map(v=>{const L=ga(v);return i.jsx("li",{className:"rounded-2xl bg-slate-800/70 p-4 cursor-pointer",onClick:()=>N(v.id),children:i.jsxs("div",{className:"space-y-3",children:[i.jsxs("div",{className:"flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[i.jsx("h3",{className:"font-medium text-slate-100",children:v.title}),i.jsx("span",{className:"rounded-full bg-slate-700 px-2 py-0.5 text-[11px] uppercase text-slate-300",children:v.status.replace("_"," ")}),v.progressive&&i.jsx("span",{className:"rounded-full bg-emerald-600/30 px-2 py-0.5 text-[11px] uppercase text-emerald-200",children:"Progressive"})]}),v.tags.length>0&&i.jsx("div",{className:"flex flex-wrap gap-1 text-[11px] text-slate-300",children:v.tags.map($=>i.jsx("span",{className:"rounded-full bg-slate-700/80 px-2 py-0.5",children:$},$))}),v.description&&i.jsxs("div",{className:"pt-1",children:[i.jsxs("button",{type:"button",className:"flex items-center gap-2 text-xs text-[color:var(--accent-300)] hover:text-[color:var(--accent-200)]",onClick:$=>{$.stopPropagation(),Ni(v.id)},children:[i.jsx("span",{children:"Description"}),i.jsx("span",{children:P[v.id]?"":""})]}),P[v.id]&&i.jsx("div",{className:"mt-2 rounded-xl   px-3 py-2",children:i.jsx(is,{content:v.description})})]}),i.jsxs("p",{className:"text-xs text-slate-400",children:[v.startAt?`Starts ${Wn(v.startAt)}`:"No start time",v.deadlineAt?`  Deadline ${Wn(v.deadlineAt)}`:"",L?`  Duration ${pe(L)}`:"",v.reminderAt?`  Reminder ${Wn(v.reminderAt)}`:""]})]}),i.jsxs("div",{className:"flex gap-2 text-xs",onClick:$=>$.stopPropagation(),children:[i.jsx("button",{className:"rounded-lg bg-slate-700 px-3 py-1 text-slate-200",onClick:()=>cs(v),children:"Edit"}),i.jsx("button",{className:"rounded-lg bg-slate-700 px-3 py-1 text-rose-300",onClick:()=>s.deleteTask(v.id),children:"Delete"})]})]}),i.jsx("div",{className:"flex flex-wrap gap-2 text-xs",onClick:$=>$.stopPropagation(),children:["planned","in_progress","completed","skipped"].map($=>i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 capitalize transition-colors ${v.status===$?"bg-[color:var(--accent-600)] text-white":"bg-slate-700 text-slate-300 hover:bg-slate-600"}`,onClick:()=>s.setTaskStatus(v.id,$),children:$.replace("_"," ")},$))})]})},v.id)})}),rt>1&&i.jsxs("div",{className:"flex items-center justify-between gap-3 text-xs text-slate-400",children:[i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 enabled:hover:bg-slate-700 disabled:opacity-40",onClick:()=>se(v=>Math.max(v-1,1)),disabled:!E,children:"Previous"}),i.jsxs("span",{children:["Page ",F," of ",rt]}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 enabled:hover:bg-slate-700 disabled:opacity-40",onClick:()=>se(v=>Math.min(v+1,rt)),disabled:!X,children:"Next"})]})]})]}),M==="week"&&i.jsxs("section",{className:"space-y-4 h-[70%]  overflow-y-auto",children:[i.jsxs("div",{children:[i.jsxs("h2",{className:"text-lg font-semibold text-slate-200",children:["Week of ",oe(Ze,"MMM d")]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Select a day to jump into the detailed view."}),i.jsx(ka,{summary:Xn})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>Ke(-1),children:"Previous"}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>{Oe(Pe(new Date,{weekStartsOn:1})),he(l)},children:"This week"}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>Ke(1),children:"Next"})]}),i.jsx("div",{className:"grid gap-3 sm:grid-cols-2 lg:grid-cols-7",children:xi.map(({date:v,iso:L,summary:$})=>{const fe=L===B;return i.jsxs("button",{type:"button",onClick:()=>Qn(L),className:`rounded-2xl border px-3 py-3 text-left transition-colors ${fe?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/10":"border-slate-800 bg-slate-900/60 hover:border-[color:var(--accent-500)]/60"}`,children:[i.jsxs("div",{className:"flex items-center justify-between text-xs text-slate-400",children:[i.jsx("span",{className:"font-semibold text-slate-200",children:oe(v,"EEE")}),i.jsx("span",{children:oe(v,"MMM d")})]}),i.jsxs("div",{className:"mt-3 space-y-1 text-[11px] text-slate-300",children:[i.jsxs("p",{children:["Total ",$.total]}),i.jsxs("p",{className:"text-emerald-300",children:["Completed ",$.completed]}),i.jsxs("p",{className:"text-sky-300",children:["In progress ",$.inProgress]}),i.jsxs("p",{className:"text-amber-300",children:["Progressive ",$.progressive]}),i.jsxs("p",{children:["Assigned ",pe($.assignedMinutes)]}),i.jsxs("p",{children:["Spent ",pe($.spentMinutes)]})]})]},L)})})]}),M==="month"&&i.jsxs("section",{className:"space-y-4 h-[70%]  overflow-y-auto",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-200",children:oe(Le,"MMMM yyyy")}),i.jsx("p",{className:"text-xs text-slate-400",children:"Click a day to open it in the Today view."}),i.jsx(ka,{summary:wi})]}),i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>Xe(-1),children:"Previous"}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>{const v=new Date;Ge(qn(v)),he(oe(v,"yyyy-MM-dd"))},children:"This month"}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>Xe(1),children:"Next"})]}),i.jsx("div",{className:"grid grid-cols-7 gap-2 text-[11px] uppercase tracking-wide text-slate-500",children:K1.map(v=>i.jsx("span",{className:"text-center",children:v},v))}),i.jsx("div",{className:"grid grid-cols-7 gap-2 text-xs",children:yi.map((v,L)=>v.map(($,fe)=>{const Ne=oe($,"yyyy-MM-dd"),Ce=Zt(Gn.get(Ne)??[]),xn=lv($,Le),ba=Ne===B;return i.jsxs("button",{type:"button",onClick:()=>Qn(Ne),className:`rounded-xl border px-2 py-2 text-left transition-colors ${ba?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/10":xn?"border-slate-800 bg-slate-900/60 hover:border-[color:var(--accent-500)]/60":"border-slate-900 bg-slate-900/30 text-slate-600"}`,children:[i.jsx("span",{className:"block text-xs font-semibold text-slate-200",children:oe($,"d")}),Ce.total>0&&i.jsxs("div",{className:"mt-1 space-y-0.5 text-[10px] text-slate-300",children:[i.jsxs("p",{className:"text-emerald-300",children:["C ",Ce.completed]}),i.jsxs("p",{className:"text-sky-300",children:["P ",Ce.inProgress]}),i.jsxs("p",{className:"text-amber-300",children:["G ",Ce.progressive]}),i.jsxs("p",{children:["A ",pe(Ce.assignedMinutes)]}),i.jsxs("p",{children:["S ",pe(Ce.spentMinutes)]})]})]},`${L}-${fe}`)}))})]}),M==="all"&&i.jsxs("section",{className:"space-y-4 h-[70%]  overflow-y-auto",children:[i.jsxs("div",{children:[i.jsxs("div",{className:"flex items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-[11px] uppercase tracking-wide text-slate-400",children:"Selected year"}),i.jsx("h3",{className:"text-2xl font-semibold text-slate-100",children:ut?ut.year:"No-Record"})]}),ut&&i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-4 py-2 text-xs font-semibold text-slate-200 transition-colors hover:border-[color:var(--accent-500)] hover:text-white",onClick:()=>wa(ut.year),children:"View monthly breakdown"})]}),i.jsx("p",{className:"text-xs text-slate-400",children:"Navigate between years to compare your progress."})]}),Yt.length===0?i.jsx("p",{className:"rounded-xl border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:"No tasks recorded yet. Start planning to see yearly stats."}):i.jsxs(i.Fragment,{children:[i.jsxs("div",{className:"flex flex-wrap items-center gap-2 text-xs text-slate-400",children:[mn!==null&&i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>bt(mn),children:"Previous"}),hn&&i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>bt(Wt),children:"This year"}),va!==null&&i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 hover:bg-slate-700",onClick:()=>bt(va),children:"Next"})]}),ut?i.jsx("div",{className:"space-y-4 rounded-2xl ",children:i.jsxs("div",{className:"grid gap-3 text-xs text-slate-300 grid-cols-3 md:grid-cols-3",children:[i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Total"}),i.jsx("p",{className:"mt-1 text-lg font-semibold text-slate-100",children:ut.summary.total})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Completed"}),i.jsx("p",{className:"mt-1 text-lg font-semibold text-emerald-300",children:ut.summary.completed})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Inprogress"}),i.jsx("p",{className:"mt-1 text-lg font-semibold text-sky-300",children:ut.summary.inProgress})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Progressive"}),i.jsx("p",{className:"mt-1 text-lg font-semibold text-amber-300",children:ut.summary.progressive})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Assigned"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-100",children:pe(ut.summary.assignedMinutes)})]}),i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/80 px-3 py-2",children:[i.jsx("p",{className:"text-[11px] uppercase text-slate-500",children:"Spent"}),i.jsx("p",{className:"mt-1 text-sm font-semibold text-slate-100",children:pe(ut.summary.spentMinutes)})]})]})}):i.jsxs("p",{className:"rounded-xl border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:["No task stats available for ",It,"."]})]})]}),i.jsx(eh,{mode:(o==null?void 0:o.mode)??"create",open:!!o,draft:c,allocation:fs,preferences:t,availableTags:n,error:p,onClose:ds,onChange:v=>f(L=>({...L,...v})),onSubmit:y}),i.jsx(ah,{task:St,open:!!St,onClose:()=>N(null),onEdit:v=>cs(v)})]})]})}const lh=12,ih=5,q1=110,J1=.035,ew=32e3,nf=.9;function tw({nodes:e,links:t,onSelectGoal:n,width:r,height:s,isRoot:a,gravity:l,onShare:o,onNodePositionChange:u,onNodeDoubleClick:c},f){const p=h.useRef(null),[m,k]=h.useState(()=>rw(e)),N=h.useRef(null),j=h.useRef(null),C=h.useRef(null),g=h.useRef(null);h.useEffect(()=>{k(S=>{const I={...S};return e.forEach((w,_)=>{if(!I[w.id]){const K=_/Math.max(e.length,1)*Math.PI*2,D=200;I[w.id]={...w,x:r/2+Math.cos(K)*D,y:s/2+Math.sin(K)*D,vx:0,vy:0}}}),Object.keys(I).forEach(w=>{e.find(_=>_.id===w)||delete I[w]}),I})},[e,r,s]),h.useEffect(()=>{const S=()=>{k(I=>sw(I,t,r,s,a,l,g.current)),d(),N.current=requestAnimationFrame(S)};return N.current=requestAnimationFrame(S),()=>{N.current&&cancelAnimationFrame(N.current)}},[e,t,r,s,a,l]),h.useEffect(()=>{d()},[m,t]),h.useImperativeHandle(f,()=>({share:()=>{p.current&&(d(),o(p.current))}}),[o]);const d=()=>{const S=p.current;if(!S)return;const I=S.getContext("2d");if(!I)return;I.clearRect(0,0,S.width,S.height);const w=getComputedStyle(document.documentElement),_=w.getPropertyValue("--surface-panel-strong")||"#020617",K=w.getPropertyValue("--accent-500")||"#38bdf8",D=w.getPropertyValue("--accent-500")||"#38bdf8",z=w.getPropertyValue("--accent-400")||"#2dd4bf",Q=w.getPropertyValue("--surface-chip")||"#94a3b866",M=w.getPropertyValue("--surface-border")||"#334155",G=w.getPropertyValue("--surface-text-primary")||"#e2e8f0";I.fillStyle=_.trim()||"#020617",I.fillRect(0,0,S.width,S.height),I.strokeStyle=`${K.trim()||"#38bdf8"}55`,I.lineWidth=1.5,t.forEach(T=>{const Y=m[T.sourceId],F=m[T.targetId];!Y||!F||(I.beginPath(),I.moveTo(Y.x,Y.y),I.lineTo(F.x,F.y),I.stroke())}),Object.values(m).forEach(T=>{const Y=a(T.id)?lh:ih;I.beginPath(),I.fillStyle=a(T.id)?D.trim()||"#38bdf8":Q.trim()||"#94a3b866",I.strokeStyle=a(T.id)?z.trim()||"#38bdf8":M.trim()||"#334155",I.lineWidth=a(T.id)?2.5:1.2,I.arc(T.x,T.y,Y,0,Math.PI*2),I.fill(),I.stroke(),I.fillStyle=G.trim()||"#e2e8f0",I.font=a(T.id)?"700 15px Inter, sans-serif":"600 12px Inter, sans-serif",I.textAlign="left",I.textBaseline="middle",I.fillText(T.title,T.x+Y+8,T.y)})},x=S=>{const I=p.current;if(!I)return;const w=I.getBoundingClientRect(),_=S.clientX-w.left,K=S.clientY-w.top,D=Za(m,_,K,a);if(j.current=D?{id:D.id,x:_,y:K}:null,D&&!a(D.id)){C.current={id:D.id,offsetX:_-D.x,offsetY:K-D.y,moved:!1},g.current=D.id,k(Q=>{const M=Q[D.id];return M?{...Q,[D.id]:{...M,dragging:!0,vx:0,vy:0}}:Q});const z=p.current;z&&(z.style.cursor="grabbing")}},b=S=>{const I=p.current;if(!I)return;const w=I.getBoundingClientRect(),_=S.clientX-w.left,K=S.clientY-w.top,D=C.current;if(D){k(Q=>{const M=Q[D.id];if(!M)return Q;const G={...Q,[D.id]:{...M,x:_-D.offsetX,y:K-D.offsetY,vx:0,vy:0,dragging:!0}};return D.moved=!0,G});return}const z=Za(m,_,K,a);I.style.cursor=z?"grab":"default"},P=()=>{const S=C.current,I=j.current,w=p.current;if(w&&(w.style.cursor="default"),S!=null&&S.moved){const _=m[S.id];_&&u&&u(S.id,{x:_.x,y:_.y})}else if(I){const _=Za(m,I.x,I.y,a);_&&n(_.id)}S&&k(_=>{const K=_[S.id];return K?{..._,[S.id]:{...K,dragging:!1}}:_}),g.current=null,C.current=null,j.current=null},A=()=>{const S=p.current;S&&(S.style.cursor="default");const I=C.current;I&&k(w=>{const _=w[I.id];return _?{...w,[I.id]:{..._,dragging:!1}}:w}),C.current=null,g.current=null},W=S=>{const I=p.current;if(!I)return;const w=I.getBoundingClientRect(),_=S.clientX-w.left,K=S.clientY-w.top,D=Za(m,_,K,a);D&&(c?c(D.id):n(D.id))};return i.jsx("canvas",{ref:p,width:r,height:s,className:"w-full select-none rounded-2xl border border-slate-800 bg-slate-950",onMouseDown:x,onMouseMove:b,onMouseUp:P,onMouseLeave:A,onDoubleClick:W})}const nw=h.forwardRef(tw);function rw(e){const t={};return e.forEach((n,r)=>{const s=n.position,a=typeof n.x=="number"?n.x:s==null?void 0:s.x,l=typeof n.y=="number"?n.y:s==null?void 0:s.y;t[n.id]={...n,x:a??200+Math.cos(r)*60,y:l??200+Math.sin(r)*60,vx:0,vy:0,dragging:!1}}),t}function sw(e,t,n,r,s,a,l){const o={},u=Object.values(e);if(u.length===0)return e;u.forEach(m=>{o[m.id]={...m}});for(let m=0;m<u.length;m+=1){const k=o[u[m].id],{x:N,y:j}=k;for(let C=m+1;C<u.length;C+=1){const g=o[u[C].id],d=N-g.x,x=j-g.y,b=d*d+x*x+.01,P=ew/b,A=Math.sqrt(b),W=P*d/A,S=P*x/A;!s(k.id)&&k.id!==l&&!k.dragging&&(k.vx+=W,k.vy+=S),!s(g.id)&&g.id!==l&&!g.dragging&&(g.vx-=W,g.vy-=S)}}t.forEach(m=>{const k=o[m.sourceId],N=o[m.targetId];if(!k||!N)return;const j=N.x-k.x,C=N.y-k.y,g=Math.sqrt(j*j+C*C)||.01,d=(g-q1)*J1,x=d*j/g,b=d*C/g;!s(k.id)&&k.id!==l&&!k.dragging&&(k.vx+=x,k.vy+=b),!s(N.id)&&N.id!==l&&!N.dragging&&(N.vx-=x,N.vy-=b)});const c=n/2,f=r/2,p=40;return Object.values(o).forEach(m=>{if(s(m.id)){m.vx=0,m.vy=0,m.x=c,m.y=f;return}m.id!==l&&!m.dragging&&(m.vx+=(c-m.x)*a,m.vy+=(f-m.y)*a,m.vx*=nf,m.vy*=nf,m.x+=m.vx,m.y+=m.vy),m.x=Math.max(p,Math.min(n-p,m.x)),m.y=Math.max(p,Math.min(r-p,m.y))}),o}function Za(e,t,n,r){return Object.values(e).find(s=>{const a=r(s.id)?lh:ih*1.5,l=t-s.x,o=n-s.y;return l*l+o*o<=a*a})}const bs=12,rf=2,$r=52,ao=5,aw=[2,5,10],il="#38bdf8",oh=["Mon","Tue","Wed","Thu","Fri","Sat","Sun"],Sr={width:1200,height:720},lw={past:"bg-rose-500/80",current:"bg-[color:var(--accent-400)]",future:"bg-slate-800"},sf={learned:"Learned something new",progressed:"Made strong progress",advanced:"Levelled up",enjoyed:"Loved this week"};function Ga({label:e,value:t,options:n,onChange:r,placeholder:s="Select goal"}){const[a,l]=h.useState(!1),o=h.useRef(null),u=n.find(c=>c.value===t);return h.useEffect(()=>{if(!a)return;const c=p=>{o.current&&!o.current.contains(p.target)&&l(!1)},f=p=>{p.key==="Escape"&&l(!1)};return document.addEventListener("mousedown",c),document.addEventListener("keydown",f),()=>{document.removeEventListener("mousedown",c),document.removeEventListener("keydown",f)}},[a]),i.jsxs("div",{className:"space-y-1",ref:o,children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:e}),i.jsxs("button",{type:"button",className:`flex w-full items-center justify-between rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2 text-sm text-slate-100 transition-colors hover:border-[color:var(--accent-500)]/60 ${a?"border-[color:var(--accent-500)]":""}`,onClick:()=>l(c=>!c),"aria-expanded":a,children:[i.jsx("span",{className:"truncate",children:u?u.label:s}),i.jsx("svg",{viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.6",strokeLinecap:"round",strokeLinejoin:"round",className:`h-4 w-4 transition-transform ${a?"rotate-180":""}`,"aria-hidden":"true",children:i.jsx("path",{d:"M6 9l6 6 6-6"})})]}),a&&i.jsx("div",{className:"z-30 mt-2 max-h-60 w-full overflow-auto rounded-2xl border border-slate-700 bg-slate-900/95 shadow-xl",children:i.jsx("ul",{className:"divide-y divide-slate-800/40 text-left text-sm text-slate-100",children:n.map(c=>{const f=c.value===t;return i.jsx("li",{children:i.jsxs("button",{type:"button",onClick:()=>{r(c.value),l(!1)},className:`flex w-full flex-col items-start gap-1 px-3 py-2 text-left transition-colors ${f?"bg-[color:var(--accent-600)]/20 text-slate-50":"hover:bg-slate-800/70"}`,children:[i.jsx("span",{className:"font-medium",children:c.label}),c.description&&i.jsx("span",{className:"text-[11px] text-slate-400",children:c.description})]})},c.value)})})})]})}function af({value:e,onChange:t,tab:n,onTabChange:r,placeholder:s}){return i.jsxs("div",{className:"space-y-2",children:[i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-400",children:[i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${n==="write"?"bg-[color:var(--accent-600)] text-white":"hover:text-white"}`,onClick:()=>r("write"),children:"Write"}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 transition-colors ${n==="preview"?"bg-[color:var(--accent-600)] text-white":"hover:text-white"}`,onClick:()=>r("preview"),children:"Preview"})]}),n==="write"?i.jsx("textarea",{className:"w-full rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2 text-sm text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",rows:4,placeholder:s,value:e,onChange:a=>t(a.target.value)}):e.trim()?i.jsx("div",{className:"rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2",children:i.jsx(is,{content:e,className:"space-y-3 text-sm"})}):i.jsx("div",{className:"rounded-xl border border-dashed border-slate-700 px-3 py-6 text-center text-xs text-slate-400",children:i.jsx(Jm,{message:"Nothing to preview yet."})})]})}const iw=[{label:"Past weeks",color:"#f43f5e"},{label:"Current week",color:"var(--accent-400)"},{label:"Future weeks",color:"#1f2937"},{label:"Wins",color:il}];function ow(){var ja,cs,ds,fs;const{state:{profile:e,lifeReflections:t,lifeWins:n,reminders:r,preferences:s,lifeGoals:a,lifeGoalLinks:l},autoWeekWins:o,actions:{setLifeReflection:u,setWeekWinManual:c,resetWeekWin:f,addReminder:p,deleteReminder:m,addLifeGoal:k,updateLifeGoal:N,deleteLifeGoal:j,connectLifeGoals:C,disconnectLifeGoals:g}}=dn(),[d,x]=h.useState(()=>s.showLifeCalendar?"timeline":"goals"),[b,P]=h.useState(null),[A,W]=h.useState(s.showLifeCalendar?"focus":"all"),[S,I]=h.useState(ao),[w,_]=h.useState(null),[K,D]=h.useState("progressed"),[z,Q]=h.useState({title:"",description:"",type:"daily",intervalMinutes:30,minuteMark:0,time:"09:00",weeklyDays:[1],monthlyDays:"1",yearlyDates:"01-01"}),[M,G]=h.useState(null),[T,Y]=h.useState(.01),[F,se]=h.useState(null),[B,he]=h.useState({title:"",description:"",parentId:"root",linkTargetId:"root"}),[Ze,Oe]=h.useState(null),[Le,Ge]=h.useState("write"),[It,bt]=h.useState("write"),fn=h.useRef(null),gt=y=>{const E=y.toDataURL("image/png"),X=document.createElement("a");X.href=E,X.download="driftcue-goals.png",X.click()},Gn=()=>{var y;(y=fn.current)==null||y.share()};h.useEffect(()=>{!s.showLifeCalendar&&d==="timeline"&&x("goals")},[s.showLifeCalendar,d]);const At=y=>{if(y==="timeline"&&!s.showLifeCalendar){P('Enable "Weeks-of-life timeline" in Settings to view this tab.'),setTimeout(()=>P(null),4e3);return}x(y)},Re=h.useMemo(()=>e?b1(e.dateOfBirth,e.lifeExpectancyYears):[],[e]),os=[{value:"every_minutes",label:"Every N minutes",helper:"Run on a custom minute cadence"},{value:"hourly",label:"Hourly",helper:"Ping every hour"},{value:"daily",label:"Daily",helper:"Pick a single time each day"},{value:"weekly",label:"Weekly",helper:"Choose days of the week"},{value:"monthly",label:"Monthly",helper:"Choose days in the month"},{value:"yearly",label:"Yearly",helper:"Celebrate recurring dates"}],rt=h.useMemo(()=>{if(Re.length===0)return[];const y=[];for(let E=0;E<Re.length;E+=$r){const X=Re.slice(E,E+$r),v=Math.floor(E/$r);y.push({yearIndex:v,weeks:uw(X)})}return y},[Re]),xa=h.useMemo(()=>({gridTemplateColumns:`repeat(${$r}, ${bs}px)`,columnGap:`${rf}px`,rowGap:`${rf}px`}),[]),St=h.useMemo(()=>{if(d!=="timeline")return[];if(!e||rt.length===0||A==="all")return rt;const y=sy(new Date,new Date(e.dateOfBirth)),E=Math.max(0,y),X=Math.min(E,Math.max(0,rt.length-1)),v=Math.max(0,X-S),L=Math.min(rt.length,X+S+1);return rt.slice(v,L)},[rt,e,S,d,A]),ya=h.useMemo(()=>St.length>0?cw(St[0].weeks):[],[St]),pn=((ja=St[0])==null?void 0:ja.yearIndex)??0,xi=((cs=St.at(-1))==null?void 0:cs.yearIndex)??pn,yi=d==="timeline"?A==="all"?"Entire lifespan":`Age ${pn}${xi}`:"";h.useEffect(()=>{if(!w)return;const y=t[w.id],E=y!=null&&y.tag&&y.tag!=="none"?y.tag:"progressed";D(E)},[w,t]),h.useEffect(()=>{if(!w)return;St.some(E=>E.weeks.some(X=>X&&X.id===w.id))||_(null)},[St,w]);const Yt=h.useMemo(()=>Re.filter(y=>y.status==="past"||y.status==="current").length,[Re]),Qe=Re.length,Wt=Math.max(Qe-Yt,0),ut=Qe===0?0:Math.min(Yt/Qe*100,100);w&&o.has(w.id)&&((ds=n[w.id])==null||ds.status);const _t={id:"root",title:e!=null&&e.name?`${e.name}`:"You",description:void 0,x:Sr.width/2,y:Sr.height/2},mn=h.useMemo(()=>[_t,...a],[_t,a]);h.useEffect(()=>{if(F)if(F.mode==="edit"){const y=a.find(X=>X.id===F.goalId);if(!y){se(null);return}const E=l.find(X=>X.targetId===y.id);Oe(null),bt("write"),he({title:y.title,description:y.description??"",parentId:(E==null?void 0:E.sourceId)??"root",linkTargetId:"root"})}else F.mode==="create"&&(Oe(null),Ge("write"))},[F,a,l]);const va=()=>{if(G(null),!z.title.trim()){G("Give the reminder a title.");return}let y=null;switch(z.type){case"every_minutes":y={type:"every_minutes",intervalMinutes:Math.max(1,z.intervalMinutes)};break;case"hourly":y={type:"hourly",minuteMark:Math.max(0,Math.min(59,z.minuteMark))};break;case"daily":y={type:"daily",time:z.time};break;case"weekly":{const E=z.weeklyDays;if(E.length===0){G("Pick at least one day of the week.");return}y={type:"weekly",daysOfWeek:Array.from(new Set(E)).sort((X,v)=>X-v),time:z.time};break}case"monthly":{const E=z.monthlyDays.split(",").map(X=>X.trim()).filter(Boolean).map(X=>Number.parseInt(X,10)).filter(X=>Number.isFinite(X)&&X>=1&&X<=31);if(E.length===0){G("Enter one or more day numbers (1-31).");return}y={type:"monthly",daysOfMonth:Array.from(new Set(E)).sort((X,v)=>X-v),time:z.time};break}case"yearly":{const E=z.yearlyDates.split(",").map(X=>X.trim()).filter(X=>/^\d{2}-\d{2}$/.test(X));if(E.length===0){G("Enter dates in MM-DD format.");return}y={type:"yearly",dates:Array.from(new Set(E)),time:z.time};break}default:y=null}if(!y){G("Unable to create reminder. Check your inputs.");return}p({title:z.title.trim(),description:z.description.trim()||void 0,schedule:y}),Q(E=>({...E,title:"",description:"",intervalMinutes:30,minuteMark:0,weeklyDays:E.weeklyDays.length?E.weeklyDays:[1],monthlyDays:"1",yearlyDates:"01-01"}))},hn=h.useMemo(()=>{const y=new Map;return mn.forEach(E=>y.set(E.id,E)),y},[mn]),Nr=h.useMemo(()=>mn.map(y=>({value:y.id,label:y.title})),[mn]),Qn=y=>{he({title:"",description:"",parentId:y,linkTargetId:"root"}),Oe(null),Ge("write"),se({mode:"create",parentId:y})},Ke=(F==null?void 0:F.mode)==="edit"?hn.get(F.goalId)??null:null,Xe=Ze?hn.get(Ze)??null:null,wa=Xe?l.find(y=>y.targetId===Xe.id):null,gn=wa?hn.get(wa.sourceId)??_t:Xe?_t:null,us=Xe?l.filter(y=>y.sourceId===Xe.id).map(y=>({linkId:y.id,goal:hn.get(y.targetId)})).filter(y=>!!y.goal):[],Kn=(y,E)=>{if(y===E)return;l.some(v=>v.sourceId===y&&v.targetId===E)||C(y,E)},vi=(y,E)=>{l.filter(X=>X.targetId===y).forEach(X=>g(X.id)),Kn(E,y)},Xn=()=>{se(null),he({title:"",description:"",parentId:"root",linkTargetId:"root"}),Ge("write"),bt("write")},wi=()=>{!Ke||!B.title.trim()||(N(Ke.id,{title:B.title.trim(),description:B.description.trim()||void 0}),vi(Ke.id,B.parentId),B.linkTargetId&&B.linkTargetId!=="root"&&(Kn(Ke.id,B.linkTargetId),he(y=>({...y,linkTargetId:"root"}))),Xn())},ka=()=>{if((F==null?void 0:F.mode)!=="create"||!B.title.trim())return;const y=hn.get(F.parentId)??_t,E=Math.random()*Math.PI*2,X=200+Math.random()*120,v=lf(y.x+Math.cos(E)*X,80,Sr.width-80),L=lf(y.y+Math.sin(E)*X,80,Sr.height-80),$=Es();k({id:$,title:B.title.trim(),description:B.description.trim()||void 0,x:v,y:L}),Kn(F.parentId,$),B.linkTargetId&&B.linkTargetId!=="root"&&Kn($,B.linkTargetId),Xn()},ki=y=>{j(y),Xn(),Ze===y&&Oe(null)},Ni=y=>{w&&(u(w.id,y,il),c(w.id,!0),_(null))},Na=()=>{w&&(u(w.id,"none"),f(w.id),_(null))};if(!e)return i.jsx("p",{className:"text-sm text-slate-400",children:"Complete onboarding to generate your lifespan view."});const ji=!s.showLifeCalendar;return i.jsxs("div",{className:"space-y-6  h-full",children:[i.jsx("nav",{className:"flex gap-2 text-sm",children:[{key:"timeline",label:"Weeks of life"},{key:"goals",label:"Goals map"}].map(y=>i.jsx("button",{type:"button",className:`rounded-lg px-4 py-2 transition-colors ${d===y.key?"bg-[color:var(--accent-600)] text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,onClick:()=>At(y.key),children:y.label},y.key))}),d==="timeline"&&(ji?i.jsx("p",{className:"rounded-2xl border border-slate-800 bg-slate-900/70 p-6 text-sm text-slate-400",children:"You have hidden the weeks-of-life timeline in settings. Toggle it back on to see your calendar here."}):i.jsxs("div",{className:"overflow-y-auto h-[90%] flex flex-col gap-6",children:[i.jsxs("section",{className:"rounded-3xl border flex-1 border-slate-800 bg-slate-900/80 p-6 shadow-xl",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:"Weeks of your life"}),i.jsxs("p",{className:"mt-2 text-sm text-slate-400",children:[e.name,", we're mapping from your birthday to ",e.lifeExpectancyYears,". Every cell is one week. Rose squares are weeks you have lived, the bright highlight is this week, and grey blocks are still ahead."]}),i.jsxs("div",{className:"mt-5 grid gap-4 text-sm text-slate-200 grid-cols-3 md:grid-cols-3",children:[i.jsxs("div",{className:"rounded-2xl bg-slate-900/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Weeks lived"}),i.jsx("p",{className:"text-2xl font-semibold text-[color:var(--accent-300)]",children:Yt.toLocaleString()})]}),i.jsxs("div",{className:"rounded-2xl bg-slate-900/70 p-4",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Weeks ahead"}),i.jsx("p",{className:"text-2xl font-semibold text-[color:var(--accent-300)]",children:Wt.toLocaleString()})]}),i.jsxs("div",{className:"rounded-2xl bg-slate-900/70 p-4 md:col-span-1",children:[i.jsx("p",{className:"text-xs uppercase text-slate-400",children:"Story so far"}),i.jsxs("p",{className:"text-2xl font-semibold text-slate-100",children:[ut.toFixed(1),"%"]})]})]})]}),i.jsxs("section",{className:"space-y-4  flex-3 rounded-3xl border border-slate-800 bg-slate-900/80 p-4 shadow-lg",children:[i.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-3 text-sm",children:[i.jsxs("div",{className:"inline-flex rounded-full bg-slate-900/60 p-1",children:[i.jsxs("button",{type:"button",className:`rounded-full px-3 py-1.5 text-xs font-medium transition-colors ${A==="focus"?"bg-[color:var(--accent-600)] text-white shadow-[0_14px_34px_-20px_var(--accent-shadow-strong)]":"text-slate-300 hover:bg-slate-800/70"}`,onClick:()=>{W("focus"),I(ao)},children:["Focus ",ao,"y"]}),i.jsx("button",{type:"button",className:`rounded-full px-3 py-1.5 text-xs font-medium transition-colors ${A==="all"?"bg-[color:var(--accent-600)] text-white shadow-[0_14px_34px_-20px_var(--accent-shadow-strong)]":"text-slate-300 hover:bg-slate-800/70"}`,onClick:()=>W("all"),children:"Whole life"})]}),i.jsx("span",{className:"text-xs text-slate-400",children:yi})]}),A==="focus"&&i.jsxs("div",{className:"flex items-center gap-2 text-xs text-slate-500",children:[i.jsx("span",{children:"Span"}),i.jsx("div",{className:"inline-flex rounded-full bg-slate-900/50 p-0.5",children:aw.map(y=>i.jsxs("button",{type:"button",onClick:()=>I(y),className:`rounded-full px-2.5 py-1 transition-colors ${S===y?"bg-[color:var(--accent-600)] text-white shadow-[0_10px_28px_-18px_var(--accent-shadow-strong)]":"text-slate-300 hover:bg-slate-800/70"}`,"aria-pressed":S===y,children:["",y,"y"]},y))})]}),i.jsx("div",{className:"flex flex-wrap items-center gap-4 text-[11px] text-slate-300",children:iw.map(y=>i.jsxs("span",{className:"flex items-center gap-1",children:[i.jsx("span",{className:"inline-block h-3 w-3 rounded-sm",style:{background:y.color}}),y.label]},y.label))}),i.jsxs("div",{className:"overflow-auto flex flex-col gap-2",children:[ya.length>0&&i.jsxs("div",{className:"flex gap-2",children:[i.jsx("span",{className:"block w-9 flex-shrink-0 sm:w-11 md:w-20"}),i.jsx("div",{className:"grid items-end text-[11px] uppercase tracking-wide text-slate-300",style:xa,children:ya.map((y,E)=>i.jsx("span",{className:"pb-1 text-center font-semibold",style:{gridColumn:`span ${y.span}`},children:y.label},`${y.label||"empty"}-${E}`))})]}),i.jsx("div",{className:"flex flex-col gap-2",children:St.map(y=>i.jsxs("div",{className:"flex items-start gap-2",children:[i.jsxs("span",{className:"flex-shrink-0 text-right text-[11px] font-medium text-slate-400 whitespace-nowrap w-9 sm:w-11 md:w-20 md:uppercase md:tracking-wide",children:[i.jsx("span",{className:"hidden md:inline",children:"Age "}),y.yearIndex]}),i.jsx("div",{className:"grid",style:xa,children:y.weeks.map((E,X)=>{if(!E)return i.jsx("div",{className:"rounded-[2px] bg-slate-900/40",style:{width:`${bs}px`,height:`${bs}px`}},`empty-${y.yearIndex}-${X}`);const v=t[E.id],L=v!=null&&v.tag&&v.tag!=="none"?v.tag:void 0,$=n[E.id],fe=($==null?void 0:$.status)==="manual"&&$.fulfilled,Ne=o.has(E.id),Ce=fe||Ne||!!L,xn=["rounded-[3px] transition-transform duration-150 focus:outline-none focus:ring-2 focus:ring-[color:var(--accent-ring)] focus:ring-offset-2 focus:ring-offset-slate-900",Ce?"":lw[E.status],E.status!=="future"?"cursor-pointer hover:scale-110":"cursor-pointer"].filter(Boolean).join(" "),ba=Ce?il:void 0,xc=L?`${oe(E.start,"MMM d, yyyy")}  ${sf[L]}`:`${oe(E.start,"MMM d, yyyy")}  ${E.status}`,uh=Ne?`${xc}  Auto-marked win`:xc;return i.jsx("button",{type:"button",className:xn,style:{width:`${bs}px`,height:`${bs}px`,background:ba,boxShadow:ba?`0 12px 32px -18px ${il}55`:void 0},title:uh,onClick:()=>{E.status!=="future"&&_(E)}},E.id)})})]},y.yearIndex))})]})]}),w&&i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/60 backdrop-blur-sm px-4 py-6",onClick:()=>_(null),children:i.jsxs("div",{className:"w-full max-w-md rounded-2xl bg-slate-900 p-6 text-sm shadow-xl",onClick:y=>y.stopPropagation(),children:[i.jsxs("header",{className:"flex items-start justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-xs uppercase text-slate-500",children:"Week of"}),i.jsx("p",{className:"text-lg font-semibold text-slate-100",children:oe(w.start,"MMM d, yyyy")}),o.has(w.id)&&i.jsx("p",{className:"mt-2 rounded bg-[color:var(--accent-600)]/20 px-2 py-1 text-xs text-[color:var(--accent-200)]",children:"Auto-marked win  earned by meeting your progressive goal."})]}),i.jsx(ir,{onClick:()=>_(null)})]}),i.jsxs("div",{className:"mt-4 space-y-3",children:[i.jsx("button",{type:"button",disabled:!0,className:`w-full cursor-default rounded-lg border px-3 py-2 text-left text-sm ${o.has(w.id)?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/10 text-[color:var(--accent-200)]":"border-slate-700 bg-slate-900/60 text-slate-400"}`,children:"Auto-marked win (progress goals)"}),["learned","progressed","advanced","enjoyed"].map(y=>i.jsx("button",{type:"button",className:`w-full rounded-lg border px-3 py-2 text-left text-sm transition-colors ${K===y?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/10 text-white":"border-slate-700 bg-slate-900/60 text-slate-200 hover:border-[color:var(--accent-500)]/50"}`,onClick:()=>D(y),children:i.jsx("span",{className:"block font-semibold",children:sf[y]})},y))]}),i.jsxs("div",{className:"mt-6 flex justify-between gap-2",children:[i.jsx("button",{type:"button",className:"rounded-lg px-3 py-2 text-xs text-slate-300 hover:text-white",onClick:Na,children:"Clear"}),i.jsx("button",{type:"button",className:"rounded-lg bg-[color:var(--accent-600)] px-4 py-2 text-xs font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",onClick:()=>Ni(K),children:"Save win"})]})]})})})]})),d==="goals"&&i.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-800 bg-slate-900/80 p-6 shadow-lg",children:[i.jsxs("header",{className:"flex flex-wrap items-center justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Goals map"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Your ambitions orbit gently. Drag nodes to rearrange, click to inspect, or double-click to edit."})]}),i.jsxs("div",{className:"flex flex-wrap items-center gap-3 text-xs text-slate-300",children:[i.jsxs("label",{className:"flex items-center gap-2",children:[i.jsx("span",{children:"Gravity"}),i.jsx("input",{type:"range",min:.002,max:.05,step:.001,value:T,onChange:y=>Y(Number.parseFloat(y.target.value))}),i.jsx("span",{className:"w-12 text-right text-[10px] text-slate-500",children:T.toFixed(3)})]}),i.jsx("button",{type:"button",className:"rounded-full bg-[color:var(--accent-600)] px-3 py-1 text-white hover:bg-[color:var(--accent-500)]",onClick:()=>Qn("root"),children:"Add goal"}),i.jsx("button",{type:"button",className:"rounded-full bg-slate-800 px-3 py-1 text-slate-200 hover:bg-slate-700",onClick:Gn,children:"Share image"})]})]}),i.jsx(nw,{ref:fn,nodes:mn,links:l,onSelectGoal:y=>{y==="root"?Qn("root"):(Oe(y),se(null))},width:Sr.width,height:Sr.height,isRoot:y=>y==="root",gravity:T,onShare:gt,onNodePositionChange:(y,E)=>{y!=="root"&&N(y,{x:E.x,y:E.y})},onNodeDoubleClick:y=>{y!=="root"&&se({mode:"edit",goalId:y})}})]}),(F==null?void 0:F.mode)==="create"&&i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"w-full max-w-xl rounded-2xl border border-slate-800 bg-slate-900/90 p-6 shadow-[0_40px_80px_-40px_rgba(15,23,42,0.9)]",children:[i.jsxs("header",{className:"mb-4 flex items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Add goal"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Capture the idea, choose its parent, and link it to nearby ambitions."})]}),i.jsx(ir,{onClick:Xn})]}),i.jsxs("form",{className:"space-y-4 text-sm",onSubmit:y=>{y.preventDefault(),ka()},children:[i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Title"}),i.jsx("input",{className:"w-full rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2 text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:B.title,onChange:y=>he(E=>({...E,title:y.target.value})),required:!0})]}),i.jsx(af,{value:B.description,onChange:y=>he(E=>({...E,description:y})),tab:Le,onTabChange:Ge,placeholder:"Add an optional note (Markdown supported)"}),i.jsx(Ga,{label:"Belongs to",value:B.parentId,onChange:y=>he(E=>({...E,parentId:y})),options:Nr}),i.jsx(Ga,{label:"Also link to",value:B.linkTargetId,onChange:y=>he(E=>({...E,linkTargetId:y})),placeholder:"Optional",options:[{value:"root",label:"None"},...Nr.filter(y=>y.value!==B.parentId&&y.value!=="root")]}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx("button",{type:"submit",className:"rounded-full bg-[color:var(--accent-600)] px-4 py-2 text-xs font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",children:"Save goal"})})]})]})})}),(F==null?void 0:F.mode)==="edit"&&Ke&&i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-800 bg-slate-900/90 p-6 text-sm text-slate-200 shadow-[0_40px_80px_-40px_rgba(15,23,42,0.9)]",children:[i.jsxs("header",{className:"mb-4 flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Edit goal"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Refine the idea, change its parent, or link it to new peers."})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-slate-500",onClick:()=>Qn(Ke.id),children:"Add subgoal"}),i.jsx("button",{type:"button",className:"rounded-full border border-rose-500/50 px-3 py-1 text-xs text-rose-200 hover:bg-rose-500/20",onClick:()=>ki(Ke.id),children:"Delete"}),i.jsx(ir,{onClick:Xn})]})]}),i.jsxs("div",{className:"grid gap-3 md:grid-cols-2",children:[i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Title"}),i.jsx("input",{className:"w-full rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2 text-slate-100 focus:border-[color:var(--accent-500)] focus:outline-none focus:ring-1 focus:ring-[color:var(--accent-500)]/30",value:B.title,onChange:y=>he(E=>({...E,title:y.target.value}))})]}),i.jsx(Ga,{label:"Belongs to",value:B.parentId,onChange:y=>he(E=>({...E,parentId:y})),options:Nr.filter(y=>y.value!==Ke.id)})]}),i.jsx("div",{className:"mt-3",children:i.jsx(af,{value:B.description,onChange:y=>he(E=>({...E,description:y})),tab:It,onTabChange:bt,placeholder:"Describe why this goal matters"})}),i.jsxs("div",{className:"mt-4 flex flex-wrap items-end gap-3 text-xs",children:[i.jsx(Ga,{label:"Connect goal to",value:B.linkTargetId,onChange:y=>he(E=>({...E,linkTargetId:y})),placeholder:"Optional",options:[{value:"root",label:"None"},...Nr.filter(y=>y.value!==Ke.id&&y.value!==B.parentId&&y.value!=="root")]}),i.jsx("button",{type:"button",className:"h-9 rounded-full border border-slate-700 px-4 text-xs text-slate-200 transition-colors hover:border-[color:var(--accent-500)]",onClick:()=>{B.linkTargetId&&B.linkTargetId!=="root"&&(Kn(Ke.id,B.linkTargetId),he(y=>({...y,linkTargetId:"root"})))},children:"Connect"})]}),l.some(y=>y.sourceId===Ke.id)&&i.jsx("div",{className:"mt-4 flex flex-wrap gap-2 text-xs",children:l.filter(y=>y.sourceId===Ke.id).map(y=>{const E=hn.get(y.targetId);return E?i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[E.title,i.jsx("button",{type:"button",onClick:()=>g(y.id),className:"text-slate-400 hover:text-white",children:""})]},y.id):null})}),i.jsx("div",{className:"mt-6 flex justify-end gap-2",children:i.jsx("button",{type:"button",className:"rounded-full bg-[color:var(--accent-600)] px-4 py-2 text-xs font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",onClick:wi,children:"Save changes"})})]})})}),Xe&&i.jsx(Sn,{children:i.jsx("div",{className:"fixed inset-0 z-40 flex items-center justify-center bg-slate-950/80 backdrop-blur",children:i.jsxs("div",{className:"w-full max-w-2xl rounded-2xl border border-slate-800 bg-slate-900/90 p-6 text-sm text-slate-200 shadow-[0_40px_80px_-40px_rgba(15,23,42,0.9)]",children:[i.jsxs("header",{className:"mb-5 flex flex-wrap items-start justify-between gap-3",children:[i.jsxs("div",{className:"space-y-2",children:[i.jsx("h2",{className:"text-xl font-semibold text-slate-100",children:Xe.title}),gn&&gn.id!==Xe.id&&i.jsxs("p",{className:"text-xs text-slate-400",children:["Parent:"," ",gn.id==="root"?i.jsx("span",{className:"font-medium text-slate-200",children:gn.title}):i.jsx("button",{type:"button",className:"font-medium underline-offset-4 transition-colors hover:text-[color:var(--accent-300)]",onClick:()=>Oe(gn.id),children:gn.title})]})]}),i.jsxs("div",{className:"flex items-center gap-2",children:[i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-slate-500",onClick:()=>Qn(Xe.id),children:"Add subgoal"}),i.jsx("button",{type:"button",className:"rounded-full border border-slate-700 px-3 py-1 text-xs text-slate-200 hover:border-slate-500",onClick:()=>{se({mode:"edit",goalId:Xe.id}),Oe(null)},children:"Edit"}),i.jsx(ir,{onClick:()=>Oe(null)})]})]}),i.jsxs("section",{className:"space-y-6",children:[i.jsxs("div",{children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Description"}),Xe.description?i.jsx("div",{className:"mt-2 rounded-xl border border-slate-700 bg-slate-900/60 px-3 py-2",children:i.jsx(is,{content:Xe.description,className:"space-y-3"})}):i.jsx("p",{className:"mt-2 text-xs text-slate-400",children:"No description yet."})]}),us.length>0&&i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-xs uppercase text-slate-400",children:"Direct subgoals"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:us.map(({linkId:y,goal:E})=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full border border-slate-700 bg-slate-900/60 px-3 py-1",children:[i.jsx("button",{type:"button",className:"text-xs font-medium hover:text-[color:var(--accent-300)]",onClick:()=>Oe(E.id),children:E.title}),i.jsx("button",{type:"button",className:"text-slate-400 hover:text-white",onClick:()=>g(y),children:""})]},y))})]})]})]})})}),d==="reminders"&&i.jsxs("section",{className:"space-y-4 rounded-3xl border border-slate-800 bg-slate-900/80 p-6 shadow-lg",children:[i.jsx("div",{className:"flex flex-wrap items-center justify-between gap-3",children:i.jsxs("div",{children:[i.jsx("h2",{className:"text-lg font-semibold text-slate-100",children:"Recurring reminders"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Quiet nudges for habits, check-ins, or recurring events."})]})}),i.jsxs("form",{className:"space-y-6 rounded-2xl bg-slate-900/70 p-5",onSubmit:y=>{y.preventDefault(),va()},children:[i.jsxs("div",{className:"grid gap-4 md:grid-cols-2",children:[i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Title"}),i.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-slate-100",placeholder:"Morning stretch",value:z.title,onChange:y=>Q(E=>({...E,title:y.target.value})),required:!0})]}),i.jsxs("label",{className:"space-y-1 text-sm",children:[i.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Description"}),i.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-slate-200",placeholder:"Optional note",value:z.description,onChange:y=>Q(E=>({...E,description:y.target.value}))})]})]}),i.jsxs("div",{className:"space-y-2",children:[i.jsx("span",{className:"text-xs uppercase tracking-wide text-slate-400",children:"Repeat pattern"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:os.map(y=>{const E=z.type===y.value;return i.jsx("button",{type:"button",className:`rounded-full border px-4 py-1.5 text-xs font-semibold transition-colors ${E?"border-[color:var(--accent-500)] bg-[color:var(--accent-500)]/20 text-[color:var(--accent-100)]":"border-slate-700 bg-slate-800 text-slate-300 hover:border-[color:var(--accent-500)]/50"}`,onClick:()=>Q(X=>({...X,type:y.value})),children:y.label},y.value)})}),i.jsx("p",{className:"text-xs text-slate-500",children:(fs=os.find(y=>y.value===z.type))==null?void 0:fs.helper})]}),z.type==="every_minutes"&&i.jsxs("label",{className:"flex items-end gap-3 text-xs text-slate-400",children:[i.jsx("span",{className:"flex-1",children:"Interval (minutes)"}),i.jsx("input",{type:"number",min:1,max:24*60,className:"w-32 rounded-lg bg-slate-800 px-3 py-2 text-slate-100",value:z.intervalMinutes,onChange:y=>Q(E=>({...E,intervalMinutes:Number.parseInt(y.target.value,10)||1}))})]}),z.type==="hourly"&&i.jsxs("label",{className:"flex items-end gap-3 text-xs text-slate-400",children:[i.jsx("span",{className:"flex-1",children:"Minute mark (0-59)"}),i.jsx("input",{type:"number",min:0,max:59,className:"w-24 rounded-lg bg-slate-800 px-3 py-2 text-slate-100",value:z.minuteMark,onChange:y=>Q(E=>({...E,minuteMark:Number.parseInt(y.target.value,10)||0}))})]}),["daily","weekly","monthly","yearly"].includes(z.type)&&i.jsxs("label",{className:"space-y-1 text-xs text-slate-400",children:[i.jsx("span",{children:"Time of day"}),i.jsx("input",{type:"time",className:"w-40 rounded-lg bg-slate-800 px-3 py-2 text-slate-100",value:z.time,onChange:y=>Q(E=>({...E,time:y.target.value}))})]}),z.type==="weekly"&&i.jsxs("div",{className:"rounded-xl border border-slate-800 bg-slate-900/60 p-3",children:[i.jsx("p",{className:"mb-2 text-xs font-semibold uppercase text-slate-400",children:"Days of the week"}),i.jsx("div",{className:"flex flex-wrap gap-2",children:oh.map((y,E)=>{const X=z.weeklyDays.includes(E);return i.jsx("button",{type:"button",className:`rounded-full px-3 py-1 text-xs transition-colors ${X?"bg-[color:var(--accent-600)] text-white":"bg-slate-800 text-slate-300 hover:bg-slate-700"}`,onClick:()=>Q(v=>({...v,weeklyDays:X?v.weeklyDays.filter(L=>L!==E):[...v.weeklyDays,E]})),children:y},y)})})]}),z.type==="monthly"&&i.jsxs("label",{className:"space-y-1 text-xs text-slate-400",children:[i.jsx("span",{children:"Days of month (comma separated)"}),i.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-sm text-slate-100",placeholder:"1, 15, 30",value:z.monthlyDays,onChange:y=>Q(E=>({...E,monthlyDays:y.target.value}))})]}),z.type==="yearly"&&i.jsxs("label",{className:"space-y-1 text-xs text-slate-400",children:[i.jsx("span",{children:"Dates (comma separated MM-DD)"}),i.jsx("input",{className:"w-full rounded-lg bg-slate-800 px-3 py-2 text-sm text-slate-100",placeholder:"01-01, 07-04",value:z.yearlyDates,onChange:y=>Q(E=>({...E,yearlyDates:y.target.value}))})]}),M&&i.jsx("p",{className:"text-xs text-rose-300",children:M}),i.jsx("div",{className:"flex justify-end gap-2",children:i.jsx("button",{type:"submit",className:"rounded-lg bg-[color:var(--accent-600)] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",children:"Save reminder"})})]}),i.jsx("div",{className:"grid gap-3 md:grid-cols-2",children:r.length===0?i.jsx("p",{className:"rounded-xl border border-dashed border-slate-700 p-4 text-sm text-slate-400",children:"No reminders yet. Add one above to get started."}):r.map(y=>i.jsxs("div",{className:"flex h-full flex-col justify-between rounded-2xl border border-slate-800 bg-slate-900/70 p-4 text-sm text-slate-200",children:[i.jsxs("div",{className:"space-y-1",children:[i.jsx("p",{className:"font-semibold text-slate-100",children:y.title}),y.description&&i.jsx("p",{className:"text-xs text-slate-400",children:y.description}),i.jsx("p",{className:"text-xs text-slate-400",children:dw(y.schedule)})]}),i.jsx("div",{className:"mt-4 flex justify-end text-xs",children:i.jsx("button",{type:"button",className:"rounded-full bg-rose-500/20 px-3 py-1 text-rose-200 hover:bg-rose-500/30",onClick:()=>m(y.id),children:"Delete"})})]},y.id))})]}),b&&i.jsx(Sn,{children:i.jsx("div",{className:"fixed bottom-6 left-1/2 z-50 -translate-x-1/2 rounded-full bg-slate-900/90 px-4 py-2 text-xs text-slate-200 shadow-lg",children:b})})]})}function uw(e){const t=e.slice(0,$r);for(;t.length<$r;)t.push(null);return t}function cw(e){if(e.length===0)return[];const t=[];let n=null,r=0;return e.forEach(s=>{const a=s?oe(s.start,"MMM"):"";a!==n?(r>0&&t.push({label:n??"",span:r}),n=a,r=1):r+=1}),r>0&&t.push({label:n??"",span:r}),t}function lf(e,t,n){return Math.min(Math.max(e,t),n)}function dw(e){switch(e.type){case"every_minutes":return`Every ${e.intervalMinutes} minutes`;case"hourly":return`Hourly at minute ${e.minuteMark}`;case"daily":return`Daily at ${e.time}`;case"weekly":return`Weekly on ${e.daysOfWeek.map(t=>oh[t]).join(", ")} at ${e.time}`;case"monthly":return`Monthly on days ${e.daysOfMonth.join(", ")} at ${e.time}`;case"yearly":return`Yearly on ${e.dates.join(", ")} at ${e.time}`;default:return"Custom reminder"}}function fw(e,t){return e.reduce((n,r)=>(_1(r.scheduledFor,t)&&(n[r.status]+=1),n),{planned:0,in_progress:0,completed:0,skipped:0})}function lo(e,t){const n=fw(e,t),r=n.planned+n.in_progress+n.completed+n.skipped,s=r===0?0:n.completed/r,a=r===0?0:(n.in_progress+n.completed)/r,l=r===0?0:n.skipped/r;return{total:r,counts:n,completionRate:s,startedRate:a,droppedRate:l}}function pw(){const{state:{tasks:e}}=dn(),t=h.useMemo(()=>S1(new Date),[]),n=h.useMemo(()=>lo(e,t.week),[e,t.week]),r=h.useMemo(()=>lo(e,t.month),[e,t.month]),s=h.useMemo(()=>lo(e,t.year),[e,t.year]),a=[{label:"This week",data:n},{label:"This month",data:r},{label:"This year",data:s}];return i.jsx("div",{className:"space-y-4",children:a.map(l=>i.jsxs("section",{className:"rounded-2xl bg-slate-800/70 p-4 shadow",children:[i.jsxs("header",{className:"mb-3 flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:l.label}),i.jsxs("span",{className:"text-xs text-slate-400",children:[l.data.total," tasks"]})]}),i.jsxs("dl",{className:"grid grid-cols-2 gap-4 text-sm",children:[i.jsxs("div",{children:[i.jsx("dt",{className:"text-slate-400",children:"Completed"}),i.jsx("dd",{className:"text-xl font-semibold text-emerald-400",children:l.data.counts.completed})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-slate-400",children:"In progress"}),i.jsx("dd",{className:"text-xl font-semibold text-amber-300",children:l.data.counts.in_progress})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-slate-400",children:"Planned"}),i.jsx("dd",{className:"text-xl font-semibold text-slate-200",children:l.data.counts.planned})]}),i.jsxs("div",{children:[i.jsx("dt",{className:"text-slate-400",children:"Skipped"}),i.jsx("dd",{className:"text-xl font-semibold text-rose-300",children:l.data.counts.skipped})]})]}),i.jsxs("div",{className:"mt-4 grid grid-cols-3 gap-3 text-xs text-slate-400",children:[i.jsxs("div",{className:"rounded-lg bg-slate-900/70 p-3",children:[i.jsx("p",{className:"text-slate-300",children:"Completion rate"}),i.jsxs("p",{className:"text-lg font-semibold text-emerald-400",children:[(l.data.completionRate*100).toFixed(0),"%"]})]}),i.jsxs("div",{className:"rounded-lg bg-slate-900/70 p-3",children:[i.jsx("p",{className:"text-slate-300",children:"Started"}),i.jsxs("p",{className:"text-lg font-semibold text-amber-300",children:[(l.data.startedRate*100).toFixed(0),"%"]})]}),i.jsxs("div",{className:"rounded-lg bg-slate-900/70 p-3",children:[i.jsx("p",{className:"text-slate-300",children:"Dropped"}),i.jsxs("p",{className:"text-lg font-semibold text-rose-300",children:[(l.data.droppedRate*100).toFixed(0),"%"]})]})]})]},l.label))})}function mw(){var S,I;const{state:e,actions:t}=dn(),{permission:n,requestPermission:r}=gc(),s=e.profile,[a,l]=h.useState(null),[o,u]=h.useState(null),[c,f]=h.useState(""),[p,m]=h.useState(()=>s?{name:s.name,dateOfBirth:s.dateOfBirth,lifeExpectancyYears:s.lifeExpectancyYears,dayStartHour:s.dayStartHour,dayEndHour:s.dayEndHour,allowNotifications:s.allowNotifications}:null),[k,N]=h.useState(()=>({reminderLeadMinutes:e.preferences.reminderLeadMinutes,defaultReminderTime:e.preferences.defaultReminderTime??"",accentTheme:e.preferences.accentTheme??"aurora",surfaceTheme:e.preferences.surfaceTheme??"indigo",progressiveTasksPerDay:e.preferences.progressiveTasksPerDay??1,progressiveDaysForWeekWin:e.preferences.progressiveDaysForWeekWin??3,showLifeCalendar:e.preferences.showLifeCalendar??!0})),j=[{key:"aurora",label:"Aurora",description:"Fresh teal energy",swatch:"bg-gradient-to-r from-emerald-300 via-emerald-400 to-cyan-400"},{key:"forest",label:"Forest",description:"Deep woodland greens",swatch:"bg-gradient-to-r from-emerald-500 via-emerald-600 to-emerald-700"},{key:"sunset",label:"Sunset",description:"Warm amber glow",swatch:"bg-gradient-to-r from-amber-300 via-orange-400 to-rose-400"},{key:"midnight",label:"Midnight",description:"Moody indigo nights",swatch:"bg-gradient-to-r from-slate-400 via-indigo-500 to-slate-600"}],C=[{key:"indigo",label:"Indigo glow",description:"Electric blues with aurora haze",preview:"linear-gradient(180deg, #030617 0%, #13244f 60%, #040617 100%)"},{key:"aurora",label:"Aurora classic",description:"Original teal-indigo blend",preview:"linear-gradient(180deg, #020617 0%, #0f172a 60%, #020617 100%)"},{key:"ember",label:"Ember dusk",description:"Fiery oranges with rosy glow",preview:"linear-gradient(180deg, #2b0a14 0%, #632328 60%, #21070d 100%)"},{key:"dawn",label:"Sunrise legacy",description:"Warm magentas from the earlier theme",preview:"linear-gradient(180deg, #260610 0%, #5a1d28 60%, #20040d 100%)"},{key:"glacier",label:"Glacier drift",description:"Icy teals with crisp glow",preview:"linear-gradient(180deg, #001922 0%, #014152 60%, #00131a 100%)"},{key:"midnight",label:"Nebula night",description:"Violet cosmic ambience",preview:"linear-gradient(180deg, #050019 0%, #1b1242 60%, #080017 100%)"},{key:"slate",label:"Storm slate",description:"Moody blue-grey dusk",preview:"linear-gradient(180deg, #07121f 0%, #1d2f3f 60%, #07121f 100%)"},{key:"charcoal",label:"Noir focus",description:"Minimal graphite night",preview:"linear-gradient(180deg, #040404 0%, #0f1216 55%, #040404 100%)"},{key:"lumina",label:"Lumina daylight",description:"Soft light mode with gentle warmth",preview:"linear-gradient(180deg, #f8fafc 0%, #e2e8f0 60%, #f8fafc 100%)"}],g=w=>{if(k.accentTheme===w)return;const _=j.find(K=>K.key===w);N(K=>({...K,accentTheme:w})),t.setPreferences({accentTheme:w}),l(_?`Accent theme set to ${_.label}`:"Accent updated"),u(null)},d=w=>{if(k.surfaceTheme===w)return;const _=C.find(K=>K.key===w);N(K=>({...K,surfaceTheme:w})),t.setPreferences({surfaceTheme:w}),l(_?`Surface tone set to ${_.label}`:"Surface updated"),u(null)},x=h.useMemo(()=>w1(e),[e]);if(h.useEffect(()=>{N({reminderLeadMinutes:e.preferences.reminderLeadMinutes,defaultReminderTime:e.preferences.defaultReminderTime??"",accentTheme:e.preferences.accentTheme??"aurora",surfaceTheme:e.preferences.surfaceTheme??"indigo",progressiveTasksPerDay:e.preferences.progressiveTasksPerDay??1,progressiveDaysForWeekWin:e.preferences.progressiveDaysForWeekWin??3,showLifeCalendar:e.preferences.showLifeCalendar??!0})},[e.preferences]),!s||!p)return i.jsx("p",{className:"text-sm text-slate-400",children:"Complete onboarding to access settings."});const b=w=>{w.preventDefault(),t.updateProfile({name:p.name,dateOfBirth:p.dateOfBirth,lifeExpectancyYears:p.lifeExpectancyYears,dayStartHour:p.dayStartHour,dayEndHour:p.dayEndHour,allowNotifications:p.allowNotifications}),t.setPreferences({reminderLeadMinutes:k.reminderLeadMinutes,defaultReminderTime:k.defaultReminderTime||void 0,accentTheme:k.accentTheme,surfaceTheme:k.surfaceTheme,progressiveTasksPerDay:k.progressiveTasksPerDay,progressiveDaysForWeekWin:k.progressiveDaysForWeekWin,showLifeCalendar:k.showLifeCalendar}),l("Preferences updated"),u(null)},P=async w=>{if(w&&n!=="granted"&&await r()!=="granted"){u("Notifications were blocked by the browser"),m(K=>K&&{...K,allowNotifications:!1});return}m(_=>_&&{..._,allowNotifications:w}),t.updateProfile({allowNotifications:w})},A=()=>{const w=new Blob([x],{type:"application/json"}),_=URL.createObjectURL(w),K=document.createElement("a");K.href=_,K.download=`driftcue-backup-${new Date().toISOString().slice(0,10)}.json`,K.click(),URL.revokeObjectURL(_),l("Export ready. Check your downloads folder."),u(null)},W=async w=>{var K;const _=(K=w.target.files)==null?void 0:K[0];if(_)try{const D=await _.text(),z=N1(D);t.importState(z),l("Data imported successfully"),u(null),N({reminderLeadMinutes:z.preferences.reminderLeadMinutes,defaultReminderTime:z.preferences.defaultReminderTime??"",accentTheme:z.preferences.accentTheme??"aurora",surfaceTheme:z.preferences.surfaceTheme??"indigo",progressiveTasksPerDay:z.preferences.progressiveTasksPerDay??1,progressiveDaysForWeekWin:z.preferences.progressiveDaysForWeekWin??3,showLifeCalendar:z.preferences.showLifeCalendar??!0})}catch(D){console.error(D),u("Import failed. Please ensure the file was exported from Driftcue.")}finally{w.target.value=""}};return i.jsxs("div",{className:"space-y-6 overflow-x-auto h-full",children:[i.jsxs("section",{className:"rounded-2xl bg-slate-800/70 p-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Profile & preferences"}),i.jsxs("form",{className:"mt-4 space-y-3 text-sm",onSubmit:b,children:[i.jsxs("label",{className:"block space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Name"}),i.jsx("input",{className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:p.name,onChange:w=>m(_=>_&&{..._,name:w.target.value})})]}),i.jsxs("label",{className:"block space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Date of birth"}),i.jsx("input",{type:"date",className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:p.dateOfBirth,onChange:w=>m(_=>_&&{..._,dateOfBirth:w.target.value})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Day starts"}),i.jsx("input",{type:"number",min:0,max:23,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:p.dayStartHour,onChange:w=>m(_=>_&&{..._,dayStartHour:Number.parseInt(w.target.value,10)||0})})]}),i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Day ends"}),i.jsx("input",{type:"number",min:1,max:24,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:p.dayEndHour,onChange:w=>m(_=>_&&{..._,dayEndHour:Number.parseInt(w.target.value,10)||24})})]})]}),i.jsxs("label",{className:"block space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Life expectancy"}),i.jsx("input",{type:"number",min:40,max:120,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:p.lifeExpectancyYears,onChange:w=>m(_=>_&&{..._,lifeExpectancyYears:Number.parseInt(w.target.value,10)||_.lifeExpectancyYears})})]}),i.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Task Reminder lead (minutes)"}),i.jsx("input",{type:"number",min:0,max:720,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:k.reminderLeadMinutes,onChange:w=>N(_=>({..._,reminderLeadMinutes:Number.parseInt(w.target.value,10)||0}))})]}),i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Default reminder time (Task)"}),i.jsx("input",{type:"time",className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:k.defaultReminderTime,onChange:w=>N(_=>({..._,defaultReminderTime:w.target.value}))})]}),i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Progressive tasks per day"}),i.jsx("input",{type:"number",min:0,max:24,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:k.progressiveTasksPerDay,onChange:w=>N(_=>({..._,progressiveTasksPerDay:Number.parseInt(w.target.value,10)||0}))})]}),i.jsxs("label",{className:"space-y-1",children:[i.jsx("span",{className:"text-slate-300",children:"Progressed days for week win"}),i.jsx("input",{type:"number",min:0,max:7,className:"w-full rounded-lg bg-slate-900 px-3 py-2",value:k.progressiveDaysForWeekWin,onChange:w=>N(_=>({..._,progressiveDaysForWeekWin:Number.parseInt(w.target.value,10)||0}))})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-slate-900/60 px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-200",children:"Reminders"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Push-style notifications when tasks are due"})]}),i.jsxs("div",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Off"}),i.jsx("button",{type:"button",role:"switch","aria-checked":p.allowNotifications,className:`flex h-6 w-12 items-center rounded-full border px-1 transition-colors ${p.allowNotifications?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/40":"border-slate-700 bg-slate-800"}`,onClick:()=>P(!p.allowNotifications),children:i.jsx("span",{className:`h-4 w-4 rounded-full bg-white transition-transform ${p.allowNotifications?"translate-x-6":"translate-x-0"}`})}),i.jsx("span",{className:"text-xs text-slate-500",children:"On"})]})]}),i.jsxs("div",{className:"flex items-center justify-between rounded-xl bg-slate-900/60 px-3 py-2",children:[i.jsxs("div",{children:[i.jsx("p",{className:"text-sm text-slate-200",children:"Weeks-of-life timeline"}),i.jsx("p",{className:"text-xs text-slate-400",children:"Toggle the timeline in the Life view."})]}),i.jsxs("div",{className:"inline-flex items-center gap-2",children:[i.jsx("span",{className:"text-xs text-slate-500",children:"Off"}),i.jsx("button",{type:"button",role:"switch","aria-checked":k.showLifeCalendar,className:`flex h-6 w-12 items-center rounded-full border px-1 transition-colors ${k.showLifeCalendar?"border-[color:var(--accent-500)] bg-[color:var(--accent-600)]/40":"border-slate-700 bg-slate-800"}`,onClick:()=>N(w=>({...w,showLifeCalendar:!w.showLifeCalendar})),children:i.jsx("span",{className:`h-4 w-4 rounded-full bg-white transition-transform ${k.showLifeCalendar?"translate-x-6":"translate-x-0"}`})}),i.jsx("span",{className:"text-xs text-slate-500",children:"On"})]})]}),i.jsx("div",{className:"flex justify-end",children:i.jsx("button",{type:"submit",className:"rounded-lg bg-[color:var(--accent-600)] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",children:"Save changes"})})]})]}),i.jsxs("section",{className:"space-y-3 rounded-2xl bg-slate-800/70 p-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Task tags"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Create shared labels for tasks. These appear in the planner and let you filter analytics by tag."}),i.jsxs("form",{className:"flex flex-wrap items-center gap-2 text-sm",onSubmit:w=>{w.preventDefault();const _=c.trim();_&&(t.addTaskTag(_),f(""))},children:[i.jsx("input",{className:"w-full max-w-xs rounded-lg bg-slate-900 px-3 py-2",placeholder:"Add a tag (e.g. Personal)",value:c,onChange:w=>f(w.target.value)}),i.jsx("button",{type:"submit",className:"rounded-lg bg-[color:var(--accent-600)] px-4 py-2 text-sm font-semibold text-white transition-colors hover:bg-[color:var(--accent-500)]",children:"Add tag"})]}),e.taskTags.length===0?i.jsx("p",{className:"text-sm text-slate-400",children:"No tags yet. Add your first tag above."}):i.jsx("div",{className:"flex flex-wrap gap-2 text-sm",children:e.taskTags.map(w=>i.jsxs("span",{className:"inline-flex items-center gap-2 rounded-full bg-slate-900 px-3 py-1 text-slate-200",children:[w,i.jsx("button",{type:"button",className:"text-xs text-slate-400 hover:text-rose-300",onClick:()=>t.removeTaskTag(w),children:""})]},w))})]}),i.jsxs("section",{className:"space-y-3 rounded-2xl bg-slate-800/70 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Theme & mood"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Current: ",((S=j.find(w=>w.key===k.accentTheme))==null?void 0:S.label)??"Aurora"]})]}),i.jsx("p",{className:"text-sm text-slate-400",children:"Pick an accent palette that matches your energy. Changes apply instantly."}),i.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:j.map(w=>{const _=k.accentTheme===w.key;return i.jsxs("button",{type:"button",onClick:()=>g(w.key),className:`rounded-2xl border px-4 py-3 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900 ${_?"border-[color:var(--accent-500)] bg-slate-900/70 ring-2 ring-[color:var(--accent-ring)] ring-offset-2 ring-offset-slate-900":"border-slate-800 bg-slate-900/60 hover:border-slate-700"}`,"aria-pressed":_,children:[i.jsx("span",{className:`block h-16 w-full rounded-2xl ${w.swatch}`}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-100",children:w.label}),i.jsx("p",{className:"text-xs text-slate-400",children:w.description})]}),_&&i.jsx("span",{className:"text-xs font-semibold text-[color:var(--accent-300)]",children:"Active"})]})]},w.key)})})]}),i.jsxs("section",{className:"space-y-3 rounded-2xl bg-slate-800/70 p-4",children:[i.jsxs("div",{className:"flex items-center justify-between",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Surface tone"}),i.jsxs("span",{className:"text-xs text-slate-500",children:["Current: ",((I=C.find(w=>w.key===k.surfaceTheme))==null?void 0:I.label)??"Indigo glow"]})]}),i.jsx("p",{className:"text-sm text-slate-400",children:"Choose the backdrop ambience. Accents adapt automatically."}),i.jsx("div",{className:"grid grid-cols-1 gap-3 sm:grid-cols-2",children:C.map(w=>{const _=k.surfaceTheme===w.key;return i.jsxs("button",{type:"button",onClick:()=>d(w.key),className:`rounded-2xl border px-4 py-3 text-left transition focus:outline-none focus-visible:ring-2 focus-visible:ring-[color:var(--accent-ring)] focus-visible:ring-offset-2 focus-visible:ring-offset-slate-900 ${_?"border-[color:var(--accent-500)] bg-slate-900/70 ring-2 ring-[color:var(--accent-ring)] ring-offset-2 ring-offset-slate-900":"border-slate-800 bg-slate-900/60 hover:border-slate-700"}`,"aria-pressed":_,children:[i.jsx("span",{className:"block h-16 w-full rounded-2xl",style:{backgroundImage:w.preview,backgroundSize:"cover",backgroundPosition:"center"}}),i.jsxs("div",{className:"mt-3 flex items-center justify-between",children:[i.jsxs("div",{children:[i.jsx("p",{className:"font-medium text-slate-100",children:w.label}),i.jsx("p",{className:"text-xs text-slate-400",children:w.description})]}),_&&i.jsx("span",{className:"text-xs font-semibold text-[color:var(--accent-300)]",children:"Active"})]})]},w.key)})})]}),i.jsxs("section",{className:"space-y-3 rounded-2xl bg-slate-800/70 p-4",children:[i.jsx("h2",{className:"text-lg font-semibold",children:"Export & import"}),i.jsx("p",{className:"text-sm text-slate-400",children:"Data stays on this device unless you export it. Importing will replace your current data."}),i.jsxs("div",{className:"flex flex-col gap-2 text-sm",children:[i.jsx("button",{className:"rounded-lg bg-slate-900 px-4 py-2 text-left text-slate-100 hover:bg-slate-900/70",onClick:A,children:"Export data"}),i.jsxs("label",{className:"rounded-lg bg-slate-900 px-4 py-2 text-slate-100 hover:bg-slate-900/70",children:[i.jsx("span",{children:"Import from file"}),i.jsx("input",{type:"file",accept:"application/json",className:"hidden",onChange:W})]})]})]}),a&&i.jsx("p",{className:"text-sm text-[color:var(--accent-300)]",children:a}),o&&i.jsx("p",{className:"text-sm text-rose-300",children:o})]})}const hw="/driftcue-webapp/assets/bg-DHoD7N2v.png",of=({LoaderText:e="Loading your data"})=>i.jsx("div",{style:{backgroundImage:`url(${hw})`,backgroundSize:"contain",backgroundPosition:"top",backgroundRepeat:"no-repeat",width:"100vw",backgroundColor:"#eeeae7"},className:"flex  h-screen items-end justify-center  text-slate-500 relative",children:i.jsx("span",{className:"absolute bottom-[10%]",children:e})});function gw(){const{loading:e,state:{preferences:t}}=dn();return h.useEffect(()=>{if("serviceWorker"in navigator){const n=new AbortController;return(async()=>{try{const s="/driftcue-webapp/",a=new URL(s,window.location.origin),l=new URL("service-worker.js",a);console.info("[PWA] Registering service worker",{baseURL:a.href,scope:a.pathname,swURL:l.href});const o=await navigator.serviceWorker.register(l.href,{scope:"/driftcue-webapp/"});console.info("[PWA] Service worker registered",o.scope);let u=!1;navigator.serviceWorker.addEventListener("controllerchange",()=>{u||(u=!0,window.location.reload())},{signal:n.signal}),o.waiting&&o.waiting.postMessage({type:"SKIP_WAITING"}),o.addEventListener("updatefound",()=>{const{installing:c}=o;c&&c.addEventListener("statechange",()=>{c.state==="installed"&&navigator.serviceWorker.controller&&c.postMessage({type:"SKIP_WAITING"})})},{signal:n.signal}),navigator.serviceWorker.ready.then(()=>console.info("[PWA] service worker ready and controlling the page")).catch(c=>console.error("[PWA] waiting for service worker readiness failed",c))}catch(s){console.error("[PWA] Service worker registration failed",s)}})(),()=>n.abort()}},[]),h.useEffect(()=>{const n=r=>{console.info("[PWA] beforeinstallprompt fired")};return window.addEventListener("beforeinstallprompt",n),()=>window.removeEventListener("beforeinstallprompt",n)},[]),h.useEffect(()=>{const n=t.accentTheme??"aurora",r=t.surfaceTheme??"indigo";document.documentElement.setAttribute("data-theme",n),document.documentElement.setAttribute("data-surface",r)},[t.accentTheme,t.surfaceTheme]),e?i.jsx(of,{LoaderText:"Loading your data"}):i.jsxs(i.Fragment,{children:[i.jsx(V1,{}),i.jsx(B1,{}),i.jsx(h.Suspense,{fallback:i.jsx(of,{LoaderText:"Loading"}),children:i.jsx(Mx,{children:i.jsxs(tr,{element:i.jsx(F1,{}),children:[i.jsx(tr,{index:!0,element:i.jsx(Q1,{})}),i.jsx(tr,{path:"/tasks",element:i.jsx(X1,{})}),i.jsx(tr,{path:"/lifespan",element:i.jsx(ow,{})}),i.jsx(tr,{path:"/stats",element:i.jsx(pw,{})}),i.jsx(tr,{path:"/settings",element:i.jsx(mw,{})})]})})})]})}io.createRoot(document.getElementById("root")).render(i.jsx(vf.StrictMode,{children:i.jsx(Wx,{basename:"/driftcue-webapp/",children:i.jsx(P1,{children:i.jsx(gw,{})})})}));
